/*! For license information please see front.js.LICENSE.txt */
(()=>{var t={349:t=>{"use strict";function e(){return e=Object.assign?Object.assign.bind():function(t){for(var e,r=1;r<arguments.length;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},e.apply(this,arguments)}var r=["attrs","props","domProps"],n=["class","style","directives"],o=["on","nativeOn"],a=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}};t.exports=function(t){return t.reduce((function(t,i){for(var c in i)if(t[c])if(-1!==r.indexOf(c))t[c]=e({},t[c],i[c]);else if(-1!==n.indexOf(c)){var u=t[c]instanceof Array?t[c]:[t[c]],s=i[c]instanceof Array?i[c]:[i[c]];t[c]=[].concat(u,s)}else if(-1!==o.indexOf(c))for(var l in i[c])if(t[c][l]){var f=t[c][l]instanceof Array?t[c][l]:[t[c][l]],h=i[c][l]instanceof Array?i[c][l]:[i[c][l]];t[c][l]=[].concat(f,h)}else t[c][l]=i[c][l];else if("hook"===c)for(var d in i[c])t[c][d]=t[c][d]?a(t[c][d],i[c][d]):i[c][d];else t[c]=i[c];else t[c]=i[c];return t}),{})}},577:(t,e,r)=>{var n=r(100);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),window.__vueStyleLoader_add("16e5ea56",n,!0,{})},780:(t,e,r)=>{var n=r(559);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),window.__vueStyleLoader_add("a0eed5aa",n,!0,{})},956:(t,e,r)=>{"use strict";r.d(e,{Z:()=>et});var n=r(3),o=r.n(n);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const u={meta:{global:!1},mixins:[o().prototype.$meta.module.get("a-base").options.mixins.ebActionBase],methods:{onAction:function(){var t=this.action,e=t.actionName||t.name;return"atomName"===e?this.onAction_atomName():"dateRange"===e?this.onAction_dateRange():void 0},onAction_atomName:function(){var t=this.$props,e=t.ctx,r=t.item,n=r.value,o=r.operator,a=r.data;if(!n)return null;var i={op:o.op,val:n},c={__or__atomNameResource:[{"a.atomName":i}]},u=a.atomClass?e.getAtomClass(a.atomClass):null;return null!=u&&u.resource&&!["draft","history"].includes(a.stage)&&c.__or__atomNameResource.push({"m.atomNameLocale":i}),c},onAction_dateRange:function(){var t=this.$props,e=t.ctx,r=t.item,n=r.key,o=r.property,a=r.value,u=o.ebSearch,s=o.ebParams.dateFormat;if(!a)return null;var l=u&&u.tableAlias;l=null===l?null:l||"f";var f,h,d=u&&u.fieldName||n,p=null===l?d:"".concat(l,".").concat(d),m=(f=a.split(","),h=2,function(t){if(Array.isArray(t))return t}(f)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,s=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(f,h)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(f,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=m[0],y=m[1],g=[];if(v){var b=new Date(e.$meta.util.moment(v,s).format("YYYY-MM-DD 00:00:00"));g.push(i({},p,{op:">=",val:b}))}if(y){var w=new Date(e.$meta.util.moment(y,s).format("YYYY-MM-DD 23:59:59"));g.push(i({},p,{op:"<=",val:w}))}return 0===g.length?null:i({},"__and__".concat(d),g)}}};var s=r(170),l=r(245),f=r(307),h=r(310);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function p(){p=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function m(){}function v(){}var y={};u(y,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,a)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==d(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:m,configurable:!0}),m.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),u(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),u(w,c,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function m(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){m(a,n,o,i,c,"next",t)}function c(t){m(a,n,o,i,c,"throw",t)}i(void 0)}))}}const y={props:{layoutManager:{type:Object}},data:function(){return{providerName:null,providers:{}}},computed:{providerCurrent:function(){return this.providers[this.providerName]}},beforeDestroy:function(){for(var t in this.providers)this.providers[t].$destroy();this.providers={}},methods:{providerSwitch:function(t){var e=this;return v(p().mark((function r(){var n,o,a;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.providerName,o=e.providers[n]){r.next=9;break}return r.next=5,e.providerCreate(n);case 5:if(o=r.sent){r.next=8;break}throw new Error("not found list layout data provider: ".concat(n));case 8:e.$set(e.providers,n,o);case 9:return r.next=11,o.switch(t);case 11:if(a=r.sent,e.providerName=n,!e.layoutManager.data_adapter_onProviderSwitch){r.next=16;break}return r.next=16,e.layoutManager.data_adapter_onProviderSwitch(t);case 16:return r.abrupt("return",a);case 17:case"end":return r.stop()}}),r)})))()},providerCreate:function(t){var e=this;return v(p().mark((function r(){var n,o,a,i,c;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.getProviderConfig(t)){r.next=3;break}throw new Error("adapter provider not found: ".concat(t));case 3:return o=n.component,r.next=6,e.$meta.module.use(o.module);case 6:return a=r.sent,i={propsData:{layoutManager:e.layoutManager,providerConfig:n}},c=a.options.components[o.name],r.abrupt("return",e.$meta.util.createComponentInstance(c,i));case 10:case"end":return r.stop()}}),r)})))()},getProviderConfig:function(t){return this.$meta.util.getProperty(this.layoutManager.layout.configFull,"info.data.adapter.providers.".concat(t))},_callMethod:function(t){var e=this.providerCurrent;if(!e)return null;for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return this._callMethodProvider.apply(this,[e,t].concat(n))},_callMethodProvider:function(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return t[e].apply(t,n)},_loopProviders:function(t){var e=this;return v(p().mark((function r(){var n,o;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=p().keys(e.providers);case 1:if((r.t1=r.t0()).done){r.next=8;break}return n=r.t1.value,o=e.providers[n],r.next=6,t(o);case 6:r.next=1;break;case 8:case"end":return r.stop()}}),r)})))()},onPageRefresh:function(t){return this._callMethod("onPageRefresh",t)},onPageInfinite:function(){return this._callMethod("onPageInfinite")},onPageClear:function(){return this._callMethod("onPageClear")},getItems:function(){return this._callMethod("getItems")||[]},getItemsAll:function(){return this._callMethod("getItemsAll")||[]},getLoading:function(){return this._callMethod("getLoading")},getPageInfo:function(){return this._callMethod("getPageInfo")},gotoPage:function(t){return this._callMethod("gotoPage",t)},findItem:function(t){return this._callMethod("findItem",t)||{pageNum:null,items:null,index:-1,item:null}},findItemProvier:function(t,e){return this._callMethodProvider(t,"findItem",e)||{pageNum:null,items:null,index:-1,item:null}},spliceItem:function(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return this._callMethod.apply(this,["spliceItem",t,e].concat(n))},replaceItem:function(t,e){return this._callMethod("replaceItem",t,e)},renderLoadMore:function(){return this._callMethod("renderLoadMore")}}};function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function b(){b=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&r.call(y,a)&&(m=y);var w=p.prototype=h.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==g(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(w,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),u(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),u(w,c,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function w(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function x(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){w(a,n,o,i,c,"next",t)}function c(t){w(a,n,o,i,c,"throw",t)}i(void 0)}))}}const _={props:{layoutManager:{type:Object}},data:function(){return{inited:!1,info:{pageCurrent:0,pageSize:20,total:0},items:[],loading:!1}},computed:{itemKey:function(){return this.layoutManager.data.provider.itemKey}},beforeDestroy:function(){},methods:{switch:function(t){var e=this;return x(b().mark((function r(){return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.inited){r.next=2;break}return r.abrupt("return");case 2:e.inited=!0,t.autoInit&&e.onPageRefresh();case 4:case"end":return r.stop()}}),r)})))()},onPageRefresh:function(){return this.onPageClear(),this.loadItemsAll()},onPageInfinite:function(){},onPageClear:function(){this.items=[],this.info={pageCurrent:0,pageSize:20,total:0},this.loading=!1,this.layoutManager.data_provider_onItemsClear&&this.layoutManager.data_provider_onItemsClear()},loadItemsAll:function(){var t=this;return x(b().mark((function e(){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.layoutManager.data_provider_onLoadItemsAll();case 4:return r=e.sent,t.items=r.list,t.info={pageCurrent:1,pageSize:t.items.length,total:t.items.length},t.loading=!1,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),t.layoutManager.$view.toast.show({text:e.t0.message}),t.loading=!1;case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))()},getItems:function(){return this.items},getItemsAll:function(){return this.getItems()},getLoading:function(){return this.loading},getPageInfo:function(){return this.info},gotoPage:function(){},findItem:function(t){var e=this,r=this.items.findIndex((function(r){return r[e.itemKey]===t})),n=-1===r?null:this.items[r];return{pageNum:1,items:this.items,index:r,item:n}},spliceItem:function(t,e){var r;void 0===e&&(e=1);for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return(r=t.items).splice.apply(r,[t.index,e].concat(o))},replaceItem:function(t,e){this.$set(t.items,t.index,e)},renderLoadMore:function(){return null}}};function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function k(){k=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==L(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function S(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function E(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){S(a,n,o,i,c,"next",t)}function c(t){S(a,n,o,i,c,"throw",t)}i(void 0)}))}}var O=o().prototype.$meta.module.get("a-components").options.components.ebLoadMore;const C={props:{layoutManager:{type:Object}},data:function(){return{inited:!1,loadMoreComponent:null,items:[]}},computed:{itemKey:function(){return this.layoutManager.data.provider.itemKey}},beforeDestroy:function(){this.loadMoreComponent&&(this.loadMoreComponent.$destroy(),this.loadMoreComponent=null)},methods:{switch:function(t){var e=this;return E(k().mark((function r(){var n;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.inited){r.next=2;break}return r.abrupt("return");case 2:n={propsData:{onLoadClear:e.onLoadClear,onLoadMore:e.onLoadMore,autoInit:t.autoInit}},e.loadMoreComponent=e.$meta.util.createComponentInstance(O,n),e.inited=!0;case 5:case"end":return r.stop()}}),r)})))()},onPageRefresh:function(t){return this.loadMoreComponent.reload(t)},onPageInfinite:function(){this.loadMoreComponent.loadMore()},onPageClear:function(){this.loadMoreComponent.clear()},onLoadClear:function(t){this.items=[],this.layoutManager.data_provider_onItemsClear&&this.layoutManager.data_provider_onItemsClear(),t()},onLoadMore:function(t){var e=this;return E(k().mark((function r(){var n,o,a;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.index,o={index:n},r.next=4,e.layoutManager.data_provider_onLoadItemsPage({page:o});case 4:return a=r.sent,e.items=e.items.concat(a.list),r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})))()},getItems:function(){return this.items},getLoading:function(){return!1},getPageInfo:function(){},gotoPage:function(){},findItem:function(t){var e=this,r=this.items.findIndex((function(r){return r[e.itemKey]===t})),n=-1===r?null:this.items[r];return{pageNum:1,items:this.items,index:r,item:n}},spliceItem:function(t,e){var r;void 0===e&&(e=1);for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return(r=t.items).splice.apply(r,[t.index,e].concat(o))},replaceItem:function(t,e){this.$set(t.items,t.index,e)},renderLoadMore:function(){return this.loadMoreComponent?this.loadMoreComponent.renderContent():null}}};function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function I(){I=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==A(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function P(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function j(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){P(a,n,o,i,c,"next",t)}function c(t){P(a,n,o,i,c,"throw",t)}i(void 0)}))}}const N={props:{layoutManager:{type:Object}},data:function(){return{inited:!1,info:{pageCurrent:0,pageSize:20,total:0},itemsPages:{},loading:!1}},computed:{itemKey:function(){return this.layoutManager.data.provider.itemKey},dataSource:function(){return this.itemsPages[this.info.pageCurrent]}},methods:{switch:function(t){var e=this;return j(I().mark((function r(){return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.inited){r.next=2;break}return r.abrupt("return");case 2:e.inited=!0,t.autoInit&&e.onPageRefresh();case 4:case"end":return r.stop()}}),r)})))()},onPageRefresh:function(){return this.onPageClear(),this._loadTotal()},onPageInfinite:function(){},onPageClear:function(){this.loading=!1,this.itemsPages={},this.info={pageCurrent:0,pageSize:20,total:0},this._changePageCurrent(0)},getItems:function(){return this.dataSource||[]},getLoading:function(){return this.loading},getPageInfo:function(){return this.info},findItem:function(t){var e=this;for(var r in this.itemsPages){var n=this.itemsPages[r],o=n.findIndex((function(r){return r[e.itemKey]===t})),a=-1===o?null:n[o];if(-1!==o)return{pageNum:parseInt(r),items:n,index:o,item:a}}return{pageNum:null,items:null,index:-1,item:null}},spliceItem:function(t,e){var r;void 0===e&&(e=1);for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return this.info.total-=e-o.length,(r=t.items).splice.apply(r,[t.index,e].concat(o))},replaceItem:function(t,e){this.$set(t.items,t.index,e)},renderLoadMore:function(){return null},gotoPage:function(t){var e=this;if(this.info.pageCurrent!==t)if(this.itemsPages[t])this._changePageCurrent(t);else{var r=(t-1)*this.info.pageSize;this.loading=!0,this._loadMore({index:r,size:this.info.pageSize}).then((function(r){e.loading=!1,e.$set(e.itemsPages,t,r),e._changePageCurrent(t)})).catch((function(t){e.loading=!1,e.layoutManager.$view.toast.show({text:t.message})}))}},_loadTotal:function(){var t=this;return j(I().mark((function e(){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.layoutManager.data_provider_onLoadItemsCount();case 4:if(r=e.sent,t.loading=!1,t.info.total=r,0!==t.info.total){e.next=9;break}return e.abrupt("return");case 9:t.gotoPage(1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),t.layoutManager.$view.toast.show({text:e.t0.message}),t.loading=!1;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()},_loadMore:function(t){var e=this;return j(I().mark((function r(){var n,o,a,i;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.index,o=t.size,a={index:n,size:o},r.next=4,e.layoutManager.data_provider_onLoadItemsPage({page:a});case 4:return i=r.sent,r.abrupt("return",i.list);case 6:case"end":return r.stop()}}),r)})))()},_changePageCurrent:function(t){this.info.pageCurrent=t,this.layoutManager.data_provider_onPageCurrentChanged&&this.layoutManager.data_provider_onPageCurrentChanged(this.info),this.layoutManager.$emit("providerPaged:pageCurrentChanged",this.info)}}};function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==$(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===$(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D(){D=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==$(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function R(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function B(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){R(a,n,o,i,c,"next",t)}function c(t){R(a,n,o,i,c,"throw",t)}i(void 0)}))}}var Y=o().prototype.$meta.module.get("a-components").options.components.ebTreeviewData;const U={props:{layoutManager:{type:Object},providerConfig:{type:Object}},data:function(){return{inited:!1,treeviewData:null}},computed:{itemKey:function(){return this.layoutManager.data.provider.itemKey}},beforeDestroy:function(){this.treeviewData&&(this.treeviewData.$destroy(),this.treeviewData=null,this.treeviewRoot=null)},methods:{switch:function(t){var e=this;return B(D().mark((function r(){return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.inited){r.next=2;break}return r.abrupt("return",{treeviewData:e.treeviewData});case 2:return r.next=4,e._start(t);case 4:return e.inited=!0,r.abrupt("return",{treeviewData:e.treeviewData});case 6:case"end":return r.stop()}}),r)})))()},_start:function(t){var e=this;return B(D().mark((function r(){var n,o;return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={propsData:{}},e.treeviewData=e.$meta.util.createComponentInstance(Y,n),e.treeviewRoot=e.providerConfig.treeviewRoot,r.next=5,e._createTreeviewAdapter();case 5:if(o=r.sent,e.treeviewData.setAdapter(o),!t.autoInit){r.next=10;break}return r.next=10,e.treeviewData.load(e.treeviewRoot);case 10:case"end":return r.stop()}}),r)})))()},_createTreeviewAdapter:function(){var t=this;return B(D().mark((function e(){var r,n,o;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.providerConfig.dataSourceAdapter){e.next=3;break}throw new Error("treeview adapter not found");case 3:return n={actionModule:r.component.module,actionComponent:r.component.name,name:"createTreeviewAdapter"},o={layoutManager:t.layoutManager,providerConfig:t.providerConfig,dataSourceAdapterConfig:r},e.next=7,t.$meta.util.performAction({ctx:t,action:n,item:o});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))()},onPageRefresh:function(){return this.treeviewData.load(this.treeviewRoot)},onPageInfinite:function(){},onPageClear:function(){this.layoutManager.data_provider_onItemsClear&&this.layoutManager.data_provider_onItemsClear()},getTreeviewData:function(){return this.treeviewData},getItems:function(){return this._getItems(this.treeviewData.treeviewRoot)},_getItems:function(t){if(!t.attrs.loadChildren)return null;var e,r=[],n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(t.children);try{for(n.s();!(e=n.n()).done;){var o=e.value,a=Object.assign({},o,{parent:void 0,children:void 0,data:void 0}),i=G(G({},o.data),{},{_treeviewNode:a}),c=this._getItems(o);c&&(i.children=c),r.push(i)}}catch(t){n.e(t)}finally{n.f()}return r},getLoading:function(){return!1},getPageInfo:function(){},gotoPage:function(){},findItem:function(t){var e=this._findNodeByKey(t);return{item:e?e.data:null}},spliceItem:function(t){var e=t.item,r=this._findNodeByKey(e[this.itemKey]),n=r.parent;r&&this.treeviewData.removeNode(r),0===n.children.length&&this._reloadNode(n,{attrs:{toggle:!1,loadChildren:!1}})},replaceItem:function(t,e){var r=this,n=this.treeviewData.find(null,(function(t){return t.data[r.itemKey]===e[r.itemKey]}));if(n){var o=n.data;this._replaceItemSorting(o,e)?this._reloadNode(n.parent):n.data=e}},renderLoadMore:function(){return null},_replaceItemSorting:function(t,e){var r=this.providerConfig.fields&&this.providerConfig.fields.sorting;return!!r&&t[r]!==e[r]},addChildNode:function(t){var e=t.node;this._addChild(e.parentId)},moveNode:function(t){var e=t.key,r=t.node,n=this.findItem(e[this.itemKey]);this.spliceItem(n),this.addChildNode({key:e,node:r})},_addChild:function(t){var e=this._findNodeByNodeId(t);this._reloadNode(e,{attrs:{toggle:!0,loadChildren:!0}})},_reloadNode:function(t,e){t&&this.treeviewData.reloadNode(t,e)},_findNodeByKey:function(t){var e=this;return t?this.treeviewData.find(null,(function(r){return r.data[e.itemKey]===t})):null},_findNodeByNodeId:function(t){return void 0===t?null:this.treeviewData.find(null,(function(e){return e.id===t}))}}};function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function K(){K=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==Z(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function H(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function J(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){H(a,n,o,i,c,"next",t)}function c(t){H(a,n,o,i,c,"throw",t)}i(void 0)}))}}const z={props:{layoutManager:{type:Object}},data:function(){return{inited:!1,loading:!1,item:null}},computed:{dataSource:function(){return this.item}},methods:{switch:function(t){var e=this;return J(K().mark((function t(){return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.inited){t.next=2;break}return t.abrupt("return");case 2:e.inited=!0;case 3:case"end":return t.stop()}}),t)})))()},onPageRefresh:function(){return this.onPageClear(),this._loadItem()},onPageInfinite:function(){},onPageClear:function(){this.loading=!1},getLoading:function(){return this.loading},_loadItem:function(){var t=this;return J(K().mark((function e(){var r;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.layoutManager.data_provider_onLoadItem();case 4:r=e.sent,t.loading=!1,t.item=r,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.layoutManager.$view.toast.show({text:e.t0.message}),t.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}};function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function V(){V=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==q(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function W(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Q(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){W(a,n,o,i,c,"next",t)}function c(t){W(a,n,o,i,c,"throw",t)}i(void 0)}))}}var X;const tt={meta:{global:!1},mixins:[o().prototype.$meta.module.get("a-base").options.mixins.ebActionBase],methods:{onAction:function(){var t=this;return Q(V().mark((function e(){var r;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("initialize"!==((r=t.action).actionName||r.name)){e.next=6;break}return e.next=5,t._onActioninitialize();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))()},_onActioninitialize:function(){var t=this;return Q(V().mark((function e(){return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=2;break}return e.abrupt("return");case 2:t.$props.ctx.$meta.util.requirejs.require(["api/static/a/base/js/developerTool"],(function(t){X=new t}));case 4:case"end":return e.stop()}}),e)})))()}}},et={combineSearch:u,categorySelect:s.Z,tagSelect:l.Z,atomList:f.Z,atomButton:h.Z,listLayoutDataAdapter:y,listLayoutDataProviderAll:_,listLayoutDataProviderContinuous:C,listLayoutDataProviderPaged:N,listLayoutDataProviderTree:U,itemLayoutDataProviderItem:z,developerTool:tt}},835:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={}},829:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={kitchenSinkSource:"Source",OpenLinkTitleRedirect:"Redirect",PleaseInputText:"Please Input text",ShowAllComments:"Show All Comments",SharingCompleted:"Sharing Completed",DraftsFlowingMineTab:"Flowing",DraftsDraftingMineTab:"Drafting",SaveAsDraft:"Save as Draft",SaveAndClose:"Save and Close",SaveAndSubmit:"Save and Submit",SaveAndReturn:"Save and Return",CannotSave:"Cannot Save",CabloyAboutTip1:"CabloyJS - The Ultimate NodeJS Full Stack Business Development Platform",CabloyAboutTip2:"The frontend of CabloyJS uses VueJS + Framework7 + Webpack, while the backend uses KoaJS + EggJS, and the database uses MySQL",CabloyAboutTip3:"Vertically, CabloyJS make the frontend and the backend work together to form an organic wholeness, so as to avoid working independently between them",CabloyAboutTip4:"Horizontally, CabloyJS has refined a code organization mode called business modularity, which could offer a powerful basic framework for the continually growing business demands of large-scale web applications through different module combinations"}},75:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={kitchenSinkSource:"",About:"",Documentation:"",Community:"",PleaseInputText:"",ShowAllComments:"",SharingCompleted:"",DraftsFlowingMineTab:"()",DraftsDraftingMineTab:"",OpenLinkTitleRedirect:"",SaveAsDraft:"",SaveAndClose:"",SaveAndSubmit:"",SaveAndReturn:"",CannotSave:"",CabloyAboutTip1:"CabloyJS - NodeJS",CabloyAboutTip2:"VueJS + Framework7 + WebpackKoaJS + EggJSMySQL",CabloyAboutTip3:"",CabloyAboutTip4:"Web","Welcome to CabloyJS":"CabloyJS","Open Link":""}},380:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={"en-us":r(829).Z,"zh-cn":r(75).Z}},900:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n=r(841),o=r(747);function a(t){return{ebListLayoutManager:n.Z,ebItemLayoutManager:o.Z,ebAtomButtonBase:{meta:{},props:{layoutManager:{type:Object},button:{type:Object}},data:function(){return{}},computed:{buttonConfig:function(){return this.button.config},buttonIcon:function(){return this.buttonConfig.icon},buttonIconSize:function(){return this.buttonIcon&&this.buttonIcon.size||24},buttonLabel:function(){return this.buttonConfig.showLabel?this.buttonConfig.titleLocale:null},buttonTooltip:function(){return this.buttonConfig.showLabel?null:this.buttonConfig.titleLocale},buttonClass:function(){return{"button-separator":this.buttonConfig.showSeparator}}},mounted:function(){this.$emit("buttonReal:ready",this)},beforeDestroy:function(){this.$emit("buttonReal:destroy",this)},methods:{onPerformClick:function(t){return this.button.onPerform(t)}},render:function(){var t=this;return(0,arguments[0])("eb-link",{class:this.buttonClass,attrs:{iconMaterial:this.buttonIcon&&this.buttonIcon.material,iconF7:this.buttonIcon&&this.buttonIcon.f7,iconSize:this.buttonIconSize,text:this.buttonLabel,tooltip:this.buttonTooltip},props:{onPerform:function(e){return t.onPerformClick(e)}}})}}}}},267:(t,e,r)=>{"use strict";function n(t){return r(142)("./".concat(t,".vue")).default}function o(t){return r(990)("./".concat(t,".jsx")).default}r.d(e,{Z:()=>a});const a=[{path:"atom/list",component:o("atom/list")},{path:"atom/searchQuick",component:o("atom/searchQuick")},{path:"atom/labels",component:n("atom/labels")},{path:"atom/item",component:o("atom/item")},{path:"atom/select",component:o("atom/select")},{path:"atom/selecting",component:o("atom/selecting")},{path:"atom/autoStar",component:n("atom/autoStar"),meta:{auth:!0}},{path:"atom/starTabs",component:n("atom/starTabs")},{path:"atom/draftTabs",component:n("atom/draftTabs")},{path:"comment/list",component:n("comment/list")},{path:"comment/item",component:n("comment/item"),meta:{auth:!0}},{path:"comment/all",component:n("comment/all")},{path:"comment/autoHeart",component:n("comment/autoHeart"),meta:{auth:!0}},{path:"attachment/list",component:n("attachment/list")},{path:"attachment/all",component:n("attachment/all")},{path:"base/alert",component:n("base/alert")},{path:"base/about",component:n("base/about")},{path:"base/openLink",component:n("base/openLink")},{path:"category/select",component:n("category/categorySelect")},{path:"tag/select",component:n("tag/tagSelect")},{path:"resource/authorize",component:n("resource/authorize")},{path:"resource/select",component:n("resource/resourceSelect")}]},625:(t,e,r)=>{"use strict";function n(t){return{state:{},getters:{},mutations:{},actions:{}}}r.d(e,{Z:()=>n})},747:(t,e,r)=>{"use strict";r.d(e,{Z:()=>V});var n=r(3),o=r.n(n);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var a=e&&e.prototype instanceof p?e:p,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function m(){}function v(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,i)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,c,u){var s=h(t[n],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,u)}))}u(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,u,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function l(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){l(a,n,o,i,c,"next",t)}function c(t){l(a,n,o,i,c,"throw",t)}i(void 0)}))}}const h={data:function(){return{base:{configAtomBase:null,configAtomCms:null,configAtom:null,item:null,atomClass:null,atomClassBase:null,module:null,validateSchema:null,_atomIdMain:null,_atomMain:null}}},computed:{base_ready:function(){return this.base.ready&&this.base_userLabels&&this.atomClassesAll&&this.actionsAll},base_userLabels:function(){return this.$store.getters["a/base/userLabels"]},base_atomIdMain:function(){return this.base._atomIdMain},base_atomMain:function(){var t;return(null===(t=this.container.options)||void 0===t?void 0:t.atomMain)||this.base._atomMain},base_flowTaskId:function(){var t;return null===(t=this.container.options)||void 0===t?void 0:t.flowTaskId}},created:function(){this.$store.dispatch("a/base/getLabels")},methods:{base_onInit:function(){var t=this;return f(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("a/base/getAtomClasses");case 2:case"end":return e.stop()}}),e)})))()},base_loadAtomClass:function(){var t=this;return f(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.container.atomClass){e.next=5;break}t.base.atomClass=t.container.atomClass,e.next=8;break;case 5:return e.next=7,t.$api.post("/a/base/atom/atomClass",{key:{atomId:t.container.atomId}});case 7:t.base.atomClass=e.sent;case 8:return e.next=10,t.$store.use("a/basestore/atomClasses");case 10:return r=e.sent,e.next=13,r.getAtomClassBase({atomClass:t.base.atomClass});case 13:return t.base.atomClassBase=e.sent,e.next=16,t.$meta.module.use(t.base.atomClass.module);case 16:return t.base.module=e.sent,e.abrupt("return",!0);case 20:return e.prev=20,e.t0=e.catch(0),t.base.notfound=!0,e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))()},base_loadItem:function(){var t=this;return f(s().mark((function e(){var r,n,o,a,i,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.base_prepareReadOptions(),null===(r=t.container.params)||void 0===r||!r.createDelay){e.next=15;break}return a=null===(o=t.container.params)||void 0===o?void 0:o.createDelay.dataOptions.createParams,n=c(c({},n),a.options),t.base.validateSchema||(n.returnSchema=!0),a=c(c({},a),{},{options:n}),e.next=9,t.$api.post("/a/base/atom/createDelayGetItem",a);case 9:return i=e.sent,n.returnSchema?(t.base.item=i.item,t.base.validateSchema=i.schema):t.base.item=i,e.next=13,t.actions_createDelayActions();case 13:e.next=22;break;case 15:return t.base.validateSchema||(n=c(c({},n),{},{returnSchema:!0})),e.next=18,t.$api.post("/a/base/atom/read",{key:{atomId:t.container.atomId},atomClass:t.base.atomClass,options:n});case 18:return u=e.sent,n.returnSchema?(t.base.item=u.item,t.base.validateSchema=u.schema):t.base.item=u,e.next=22,t.actions_fetchActions();case 22:return t.base.notfound=!1,e.abrupt("return",!0);case 26:return e.prev=26,e.t0=e.catch(0),console.error(e.t0),t.base.item=null,t.base.notfound=!0,e.abrupt("return",!1);case 32:case"end":return e.stop()}}),e,null,[[0,26]])})))()},base_loadAtomMain:function(){var t=this;return f(s().mark((function e(){var r,n,o,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.base.atomClassBase){e.next=2;break}return e.abrupt("return");case 2:if(t.base.atomClassBase.detail){e.next=4;break}return e.abrupt("return");case 4:if(null===(r=t.container.options)||void 0===r||!r.atomMain){e.next=7;break}return t.base._atomIdMain=null===(n=t.container.options)||void 0===n?void 0:n.atomMain.atomId,e.abrupt("return");case 7:return o=t.base.atomClassBase.detail.atomIdMain||"atomIdMain",a=t.base.item[o],t.base._atomIdMain=a,i={},t.base_flowTaskId&&(i.flowTaskId=t.base_flowTaskId),e.next=14,t.$api.post("/a/base/atom/read",{key:{atomId:a},atomClass:t.base.atomClassBase.detail.atomClassMain,options:i});case 14:t.base._atomMain=e.sent;case 15:case"end":return e.stop()}}),e)})))()},base_prepareReadOptions:function(){var t={};return t.layout=this.layout.current,t.containerMode=this.container.mode,t.flowTaskId=this.base_flowTaskId,t},base_getCurrentStage:function(){return this.base.item?this.$meta.util.stageToString(this.base.item.atomStage):null}}};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function p(){p=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function m(){}function v(){}var y={};u(y,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,a)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==d(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:m,configurable:!0}),m.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),u(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),u(w,c,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function m(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}const v={data:function(){return{}},methods:{layout_onGetLayoutConfigKeyCurrent:function(){var t="".concat(this.base.atomClass.module,"_").concat(this.base.atomClass.atomClassName);return"atom.".concat(t,".render.item.layout.current.").concat(this.container.mode,".").concat(this.$view.size)},layout_onPrepareConfigFull:function(){var t,e=this;return(t=p().mark((function t(){var r,n,o,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.base.atomClass,n=e.getAtomClass(r),t.next=4,e.$store.dispatch("a/baselayout/getLayoutItem",{layoutKey:"a-basefront:layoutAtomItemBase"});case 4:if(o=t.sent,e.base.configAtomBase=o.content,!n.cms){t.next=11;break}return t.next=9,e.$store.dispatch("a/baselayout/getLayoutItem",{layoutKey:"a-cms:layoutAtomItemCms"});case 9:o=t.sent,e.base.configAtomCms=o.content;case 11:if(a=e.$meta.util.getProperty(n,"layout.config.atomItem"),!(a=e.$meta.util.normalizeResourceKey(a,r.module))){t.next=18;break}return t.next=16,e.$store.dispatch("a/baselayout/getLayoutItem",{layoutKey:a});case 16:o=t.sent,e.base.configAtom=o.content;case 18:return t.abrupt("return",e.$meta.util.extend({},e.base.configAtomBase,e.base.configAtomCms,e.base.configAtom));case 19:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){m(a,n,o,i,c,"next",t)}function c(t){m(a,n,o,i,c,"throw",t)}i(void 0)}))})()}}};function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const g={data:function(){return{}},methods:{info_onLabel:function(){var t=this;if(this.base_user.anonymous)this.$view.dialog.confirm(this.$text("Please Sign In")).then((function(){t.$meta.vueLayout.openLogin()}));else{var e=this.base.item;this.$view.navigate("/a/basefront/atom/labels?atomId=".concat(e.atomId),{})}},info_onStarSwitch:function(){var t=this.base.item.star?0:1;return this._info_onStarSwitch(t)},_info_onStarSwitch:function(t){var e=this,r=this.base.item;if(!this.base_user.anonymous){var n={atomId:r.atomId,itemId:r.itemId};return this.$api.post("/a/base/atom/star",{key:n,atom:{star:t}}).then((function(t){e.$meta.eventHub.$emit("atom:star",{key:n,star:t.star,starCount:t.starCount})}))}this.$view.dialog.confirm(this.$text("Please Sign In")).then((function(){e.$meta.vueLayout.openLogin()}))},info_getLabel:function(t){return this.base_userLabels[t]},info_getItemMetaMedia:function(t){return this.$meta.util.combineAvatarUrl(t,16)},info_checkEnableComment:function(t){if(0===t.atomStage)return!0;var e=this.layout.configFull.info.comment;return!0===e||!1===e?e:!1!==this.getAtomClass(this.base.atomClass).comment},info_checkEnableAttachment:function(){var t=this.layout.configFull.info.attachment;return!0===t||!1===t?t:!1!==this.getAtomClass(this.base.atomClass).attachment},info_renderActionsLeft:function(){var t=this.$createElement;if(this.base_ready){var e=this.base.item,r=[];if(this.info_checkEnableComment(e)&&r.push(t("eb-link",{key:"actionsLeft:comment",attrs:{iconF7:"::comment-dots",iconBadge:e.commentCount,tooltip:this.$text("Comments"),"eb-href":"/a/basefront/comment/list?atomId=".concat(e.atomId)}})),this.info_checkEnableAttachment(e)&&r.push(t("eb-link",{key:"actionsLeft:attachment",attrs:{iconF7:"::attachment-line",iconBadge:e.attachmentCount,tooltip:this.$text("Attachments"),"eb-href":"/a/basefront/attachment/list?atomId=".concat(e.atomId)}})),1===e.atomStage&&r.push(t("eb-link",{key:"actionsLeft:star",attrs:{iconF7:e.star?"::star":":outline:star-outline",iconColor:e.star?"orange":"gray",tooltip:this.$text("UserStar")},props:{onPerform:this.info_onStarSwitch}})),1===e.atomStage){var n=e.labels?JSON.parse(e.labels):[];if(n.length>0){var o,a=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(n);try{for(a.s();!(o=a.n()).done;){var i=o.value,c=this.info_getLabel(i);r.push(t("eb-link",{key:i,attrs:{text:(c.text||"")[0],tooltip:this.$text("UserLabel")},style:{color:c.color},props:{onPerform:this.info_onLabel}}))}}catch(t){a.e(t)}finally{a.f()}}else r.push(t("eb-link",{key:"actionsLeft:label",attrs:{iconF7:":outline:label-outline",tooltip:this.$text("UserLabels")},props:{onPerform:this.info_onLabel}}))}return t("div",{key:"actionsLeft:group",class:"atom-actions-left-group"},[r])}},info_renderAvatar:function(){var t=this.$createElement;if(this.base.atomClassBase.itemOnly)return null;var e=this.base.item,r=[],n=!1;return e.userIdCreated!==e.userIdUpdated&&(n=!0,r.push(t("img",{key:"avatar:one",class:"avatar ".concat(n?"avatar12":"avatar16"),attrs:{src:this.info_getItemMetaMedia(e.avatarUpdated),title:e.userName}}))),r.push(t("img",{key:"avatar:two",class:"avatar ".concat(n?"avatar12":"avatar24"),attrs:{src:this.info_getItemMetaMedia(e.avatar),title:e.userName}})),t("div",{key:"avatar",class:"info-avatar"},[r])},info_renderDate:function(){var t=this.$createElement;if(this.base.atomClassBase.itemOnly)return null;var e=this.base.item,r=[],n=this.$meta.util.formatDateTime(e.atomCreatedAt||e.createdAt),o=this.$meta.util.formatDateTime(e.atomUpdatedAt||e.updatedAt),a=!1;return n!==o&&(a=!0,r.push(t("div",{key:"date:one"},[o]))),a?r.push(t("div",{key:"date:two"},[n])):(r.push(t("div",{key:"date:one2"},[this.$meta.util.formatDate(e.atomCreatedAt||e.createdAt)])),r.push(t("div",{key:"date:two2"},[this.$meta.util.formatTime(e.atomCreatedAt||e.createdAt)]))),t("div",{key:"date",class:"info-date"},[r])},info_renderActionsRight:function(){var t=this.$createElement;if(this.base_ready){var e=this.base.item,r=[];0===e.atomStage&&1===e.atomClosed&&r.push(t("f7-badge",{key:"atomClosed",attrs:{color:"orange"}},[this.$text("Closed")]));var n=this.item_renderFlowNodeState(e);n&&r.push(n);var o=this.info_renderAvatar();o&&r.push(o);var a=this.info_renderDate();return a&&r.push(a),r}}}};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(){w=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==b(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},x(_.prototype),u(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function x(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}const _={data:function(){return{data:{provider:{}}}},methods:{data_provider_onLoadItem:function(){var t,e=this;return(t=w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.base_loadItem();case 2:return e.page_setDirty(!1),t.abrupt("return",e.base.item);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){x(a,n,o,i,c,"next",t)}function c(t){x(a,n,o,i,c,"throw",t)}i(void 0)}))})()}}};function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function k(){k=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==L(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function S(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function E(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){S(a,n,o,i,c,"next",t)}function c(t){S(a,n,o,i,c,"throw",t)}i(void 0)}))}}const O={mounted:function(){this.$meta.eventHub.$on("atom:star",this.event_onStarChanged),this.$meta.eventHub.$on("atom:labels",this.event_onLabelsChanged),this.$meta.eventHub.$on("atom:action",this.event_onActionChanged),this.$meta.eventHub.$on("atom:actions",this.event_onActionsChanged),this.$meta.eventHub.$on("comment:action",this.event_onCommentChanged),this.$meta.eventHub.$on("attachment:action",this.event_onAttachmentChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("atom:star",this.event_onStarChanged),this.$meta.eventHub.$off("atom:labels",this.event_onLabelsChanged),this.$meta.eventHub.$off("atom:action",this.event_onActionChanged),this.$meta.eventHub.$off("atom:actions",this.event_onActionsChanged),this.$meta.eventHub.$off("comment:action",this.event_onCommentChanged),this.$meta.eventHub.$off("attachment:action",this.event_onAttachmentChanged)},methods:{event_onStarChanged:function(t){this.base.item&&t.key.atomId===this.container.atomId&&(this.base.item.star=t.star)},event_onLabelsChanged:function(t){this.base.item&&t.key.atomId===this.container.atomId&&(this.base.item.labels=JSON.stringify(t.labels))},event_onCommentChanged:function(t){this.base.item&&t.atomId===this.container.atomId&&("create"===t.action&&(this.base.item.commentCount+=1),"delete"===t.action&&(this.base.item.commentCount-=1))},event_onAttachmentChanged:function(t){this.base.item&&t.atomId===this.container.atomId&&("create"===t.action&&(this.base.item.attachmentCount+=1),"delete"===t.action&&(this.base.item.attachmentCount-=1))},event_onActionChanged:function(t){var e=this;return E(k().mark((function r(){var n;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.action,e.event_checkIfEventActionValid(t)){r.next=3;break}return r.abrupt("return");case 3:if("save"!==n.name||"edit"!==e.container.mode){r.next=7;break}return r.next=6,e.event_onActionChanged_saveEdit({data:t});case 6:return r.abrupt("return");case 7:if("create"!==n.name){r.next=9;break}return r.abrupt("return");case 9:if("delete"!==n.name){r.next=15;break}if(0===e.base.item.atomStage&&0!==e.base.item.atomIdFormal){r.next=15;break}return e.base.item=null,e.base.notfound=!0,e.base.ready=!1,r.abrupt("return");case 15:return r.next=17,e.base_loadItem();case 17:case"end":return r.stop()}}),r)})))()},event_onActionChanged_saveEdit:function(t){var e=this;return E(k().mark((function r(){var n;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.data.actionSource!==e){r.next=4;break}return e.base.item.atomUpdatedAt?e.base.item.atomUpdatedAt=new Date:e.base.item.updatedAt=new Date,r.abrupt("return");case 4:if(e.page_getDirty()){r.next=8;break}return r.next=7,e.base_loadItem();case 7:return r.abrupt("return");case 8:return n=e.base.item.atomNameLocale||e.base.item.atomName,r.prev=9,r.next=12,e.$view.dialog.confirm(e.$text("DataChangedReloadConfirm"),n);case 12:if(!e.page_getDirty()){r.next=16;break}return r.next=15,e.base_loadItem();case 15:e.page_setDirty(!1);case 16:r.next=21;break;case 18:r.prev=18,r.t0=r.catch(9),e.base.item.atomUpdatedAt?e.base.item.atomUpdatedAt=new Date:e.base.item.updatedAt=new Date;case 21:case"end":return r.stop()}}),r,null,[[9,18]])})))()},event_onActionsChanged:function(t){var e=this;return E(k().mark((function r(){return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.event_checkIfEventActionValid(t)){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.actions_fetchActions();case 4:case"end":return r.stop()}}),r)})))()},event_checkIfEventActionValid:function(t){var e=t.key,r=t.atomClass;if(!r)throw new Error("Should specify atom class");return!!this.base_ready&&r.module===this.base.atomClass.module&&r.atomClassName===this.base.atomClass.atomClassName&&this.base.item.atomId===e.atomId}}};function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const A={methods:{item_getAtomStateColor:function(t){return 0===t.atomClosed?"orange":"gray"},item_renderFlowNodeState:function(t){var e=this.$createElement;return t._atomStateTitleLocale?e("f7-badge",{key:"_atomStateTitleLocale",attrs:{color:this.item_getAtomStateColor(t)}},[t._atomStateTitleLocale]):null},item_renderMetaFlags:function(t){var e=this.$createElement,r=[],n=this.item_renderFlowNodeState(t);n&&r.push(n);var o,a=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(this.item_getMetaFlags(t));try{for(a.s();!(o=a.n()).done;){var i=o.value;r.push(e("f7-badge",{key:i},[i]))}}catch(t){a.e(t)}finally{a.f()}return r},item_getMetaFlags:function(t){var e=t._meta&&t._meta.flags||[];return Array.isArray(e)||(e=e.split(",")),e}}};function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function P(){P=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==I(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function j(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function N(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){j(a,n,o,i,c,"next",t)}function c(t){j(a,n,o,i,c,"throw",t)}i(void 0)}))}}function $(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const G={data:function(){return{actions:{list:null,popoverId:o().prototype.$meta.util.nextId("popover")}}},computed:{actions_listPopover:function(){if(!this.base_ready)return null;if(!this.actions.list)return null;var t,e=[],r=$(this.actions.list);try{for(r.s();!(t=r.n()).done;){var n=t.value;"layout"!==n.name&&("write"===n.name&&2!==this.base.item.atomStage||"read"!==n.name&&1!==n.actionMode&&(this.getAction(n).directShowOnItem||e.push(n)))}}catch(t){r.e(t)}finally{r.f()}return this.base.item.atomIdFormal&&e.push({module:this.base.atomClass.module,atomClassName:this.base.atomClass.atomClassName,name:"formal"}),(this.base.item.atomIdFormal||1===this.base.item.atomStage)&&!1!==this.getAtomClass(this.base.atomClass).history&&e.push({module:this.base.atomClass.module,atomClassName:this.base.atomClass.atomClassName,name:"history"}),0===this.base.item.atomStage&&this.base.item.atomFlowId>0&&e.push({module:this.base.atomClass.module,atomClassName:this.base.atomClass.atomClassName,name:"workflow"}),e.length>0?e:null}},methods:{actions_createDelayActions:function(){var t=this;return N(P().mark((function e(){var r,n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n={module:t.base.atomClass.module,atomClassName:t.base.atomClass.atomClassName,name:"write"},r.push(n),t.actions.list=r;case 4:case"end":return e.stop()}}),e)})))()},actions_fetchActions:function(){var t=this;return N(P().mark((function e(){var r,n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.base_prepareReadOptions(),e.next=3,t.$api.post("/a/base/atom/actions",{key:{atomId:t.container.atomId},atomClass:t.base.atomClass,options:r});case 3:n=(n=e.sent).filter((function(e){return 1===e.actionMode||!t.getAction(e).disableOnItem})),t.actions.list=n;case 6:case"end":return e.stop()}}),e)})))()},actions_findAction:function(t){return this.actions.list?this.actions.list.find((function(e){return e.name===t})):null},actions_onSubmit:function(){var t=this.$refs.buttonSave;if(!t){var e=this.$text("CannotSave");throw this.$view.toast.show({text:e}),new Error(e)}t.onClick()},actions_submit:function(t,e){var r={action:e},n=this.validate_getInstance();return n?n.perform(t,r):this.validate_onPerformValidateWrapper(t,r)},actions_onActionSaveAndReturn:function(t){var e=this;return N(P().mark((function r(){var n;return P().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.actions_onAction(t,"save");case 2:return n=r.sent,e.$f7router.back(),r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})))()},actions_onAction:function(t,e){if("save"===e||"submit"===e)return this.actions_submit(t,e);if("submit"===e.name)return this.actions_submit(t,e.name);"string"==typeof e&&(e={module:this.base.atomClass.module,atomClassName:this.base.atomClass.atomClassName,name:e});var r=this.getAction(e);if(r){var n={atomIdMain:this.base_atomIdMain,atomMain:this.base_atomMain};return this.base_flowTaskId&&(n.flowTaskId=this.base_flowTaskId),r=Object.assign({},r,{targetEl:t.currentTarget},{dataOptions:n}),"write"===e.name&&(r=Object.assign({},r,{navigateOptions:{target:"_self"}})),this.$meta.util.performAction({ctx:this,action:r,item:this.base.item})}},actions_onActionByModeFlow:function(t,e){var r=this;return N(P().mark((function t(){var n,o;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.__task,o="/a/flowtask/flow?flowId=".concat(n.flowId,"&flowTaskId=").concat(n.flowTaskId),r.$view.navigate(o);case 3:case"end":return t.stop()}}),t)})))()},actions_getActionTitle:function(t){return this.getActionTitle(t,this.base.item)},actions_renderButtonView:function(){var t=this,e=this.$createElement,r=this.container.mode;if("edit"===r)return null;var n=1===this.base.item.atomClosed,o=this.actions_findAction("read");if("edit"===r&&o&&this.base.item.atomStage===this.base.item.atomSimple&&!n){var a="read";return e("eb-link",{key:a,ref:"buttonView",attrs:{iconF7:"::visibility",tooltip:this.$text("View")},props:{onPerform:function(e){return t.actions_onAction(e,a)}}})}return null},actions_renderButtonSave:function(){var t=this,e=this.$createElement,r=this.actions_findAction("write");if(!r)return null;var n=this.base.atomClassBase,o=1===this.base.item.atomClosed;if(n.itemOnly||2!==this.base.item.atomStage&&!o){var a=this.container.mode,i=n.itemOnly||this.base.item.atomSimple?"::save":"::save-as-draft",c="edit"===a?i:"::edit",u="edit"===a?"save":"write",s=n.itemOnly||this.base.item.atomSimple?"Save":"SaveAsDraft",l="edit"===a?s:this.actions_getActionTitle(r);return e("eb-link",{key:u,ref:"buttonSave",attrs:{iconF7:c,tooltip:this.$text(l)},props:{onPerform:function(e){return t.actions_onAction(e,u)}}})}return null},actions_renderButtonSaveAndReturn:function(){var t=this,e=this.$createElement;if("edit"!==this.container.mode)return null;var r="saveAndReturn";return e("eb-link",{key:r,ref:"buttonSaveAndReturn",attrs:{iconF7:"::save-and-return",tooltip:this.$text("SaveAndReturn")},props:{onPerform:function(e){return t.actions_onActionSaveAndReturn(e,r)}}})},actions_renderButtonSubmit:function(){var t=this,e=this.$createElement,r=1===this.base.item.atomClosed;if(this.actions_findAction("write")&&0===this.base.item.atomStage&&!r){var n="submit";return e("eb-link",{key:n,ref:"buttonSubmit",attrs:{iconF7:"::save-and-submit",tooltip:this.$text("SaveAndSubmit")},props:{onPerform:function(e){return t.actions_onAction(e,n)}}})}return null},actions_render:function(){if(!this.base_ready)return null;var t=[];return this.actions_render_buttonBasic({children:t}),this.actions_render_buttonNormal({children:t}),this.actions_render_buttonPopover({children:t}),t},actions_render_buttonBasic:function(t){var e=this,r=t.children,n=this.$createElement;if(this.actions_findAction("layout")){var o="layout";r.push(n("eb-link",{key:o,ref:"buttonLayout",attrs:{iconF7:"::view-list",tooltip:this.$text("Layout")},props:{onPerform:function(t){return e.actions_onAction(t,o)}}}))}var a=this.actions_renderButtonSave();a&&r.push(a);var i=this.actions_renderButtonSubmit();if(i&&r.push(i),a&&!i){var c=this.actions_renderButtonSaveAndReturn();c&&r.push(c)}var u=this.actions_renderButtonView();u&&r.push(u)},actions_render_buttonNormal:function(t){var e=this,r=t.children,n=this.$createElement;if(this.actions.list){var o,a=["layout","write","read"],i=$(this.actions.list);try{var c=function(){var t=o.value,i=t.name;if(a.includes(i))return"continue";var c=e.getAction(t);1===t.actionMode?r.push(n("eb-link",{key:t.id,attrs:{iconF7:":flow:activity-user-task"},props:{onPerform:function(r){return e.actions_onActionByModeFlow(r,t)}}},[t.__task.flowNodeNameLocale])):c.directShowOnItem&&r.push(n("eb-link",{key:t.id,attrs:{iconF7:c.icon&&c.icon.f7},props:{onPerform:function(r){return e.actions_onAction(r,t)}}},[e.actions_getActionTitle(t)]))};for(i.s();!(o=i.n()).done;)c()}catch(t){i.e(t)}finally{i.f()}}},actions_render_buttonPopover:function(t){var e=t.children,r=this.$createElement;this.actions_listPopover&&e.push(r("f7-link",{key:"actionsPopover",attrs:{iconF7:"::more-horiz",tooltip:this.$text("More"),"popover-open":"#".concat(this.actions.popoverId)}}))},actions_renderPopover:function(){var t,e=this,r=this.$createElement,n=this.actions_listPopover;if(n){var o,a=[],i=$(n);try{var c=function(){var t=o.value,n=e.getAction(t),i=n.color,c=n.icon&&n.icon.color||i;a.push(r("eb-list-item",{key:t.id,attrs:{"text-color":i,link:"#","popover-close":!0},props:{onPerform:function(r){return e.actions_onAction(r,t)}}},[r("f7-icon",{slot:"media",attrs:{color:c,material:n.icon&&n.icon.material,f7:n.icon&&n.icon.f7}}),r("div",{slot:"title"},[e.actions_getActionTitle(t)])]))};for(i.s();!(o=i.n()).done;)c()}catch(t){i.e(t)}finally{i.f()}t=r("f7-list",{attrs:{inset:!0}},[a])}return r("f7-popover",{attrs:{id:this.actions.popoverId}},[t])}}};function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function F(){F=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==M(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function D(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function R(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){D(a,n,o,i,c,"next",t)}function c(t){D(a,n,o,i,c,"throw",t)}i(void 0)}))}}const B={data:function(){return{validate:{errors:null}}},computed:{validate_host:function(){return{stage:this.base_getCurrentStage(),mode:this.container.mode,atomId:this.container.atomId,container:this.container,atomClassBase:this.base.atomClassBase,atomIdMain:this.base_atomIdMain,atomMain:this.base_atomMain,flowTaskId:this.base_flowTaskId}}},methods:{validate_getInstance:function(){return this.$refs.validate},validate_onSubmit:function(){this.actions_onSubmit()},validate_onPerformValidateWrapper:function(t,e){var r=this;return R(F().mark((function n(){var o,a;return F().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.validate_onPerformValidate(t,e);case 3:!0===(o=n.sent)?r.$view.toast.show({text:r.$text("Operation Succeeded")}):"string"==typeof o&&r.$view.toast.show({text:o}),n.next=17;break;case 7:if(n.prev=7,n.t0=n.catch(0),422!==n.t0.code){n.next=14;break}return r.validate.errors=n.t0.message,a=r.$text("Data Validation Error"),r.$view.toast.show({text:a}),n.abrupt("return");case 14:if(!n.t0.message){n.next=17;break}throw r.$view.toast.show({text:n.t0.message}),n.t0;case 17:case"end":return n.stop()}}),n,null,[[0,7]])})))()},validate_onPerformValidate:function(t,e){var r=this;return R(F().mark((function t(){var n,o,a,i,c;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e&&e.action,o=Object.assign({},r.actions_findAction("write"),{name:n}),a=r.getAction(o),i={atomIdMain:r.base_atomIdMain,atomMain:r.base_atomMain},r.base_flowTaskId&&(i.flowTaskId=r.base_flowTaskId),a=Object.assign({},a,{dataOptions:i}),"save"!==n){t.next=9;break}return t.next=9,r.validate_onPerformValidate_createDelay();case 9:return t.next=11,r.$meta.util.performAction({ctx:r,action:a,item:r.base.item});case 11:return c=t.sent,"save"!==n&&"submit"!==n||r.page_setDirty(!1),t.abrupt("return",c);case 14:case"end":return t.stop()}}),t)})))()},validate_onPerformValidate_createDelay:function(){var t=this;return R(F().mark((function e(){var r,n,o,a,i,c;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=t.container.params)&&void 0!==r&&r.createDelay){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$store.use("a/basestore/atomActions");case 4:return o=e.sent,e.next=7,o.getActionBase({atomClass:t.base.atomClass,name:"create"});case 7:return a=e.sent,i=null===(n=t.container.params)||void 0===n?void 0:n.createDelay.dataOptions,i=Object.assign({},i,{createContinue:!0,noActionWrite:!0}),a=Object.assign({},a,{dataOptions:i}),e.next=13,t.$meta.util.performAction({ctx:t,action:a,item:t.base.item});case 13:return c=e.sent,e.next=16,t.validate_onPerformValidate_createDelay_makeup({key:c});case 16:case"end":return e.stop()}}),e)})))()},validate_onPerformValidate_createDelay_makeup:function(t){var e=this;return R(F().mark((function r(){var n;return F().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.key,e.container.params.createDelay=null,e.container.atomId=n.atomId,e.container.itemId=n.itemId,e.base.item.id=n.itemId,e.base.item.atomId=n.atomId,e.base.item.itemId=n.itemId,r.next=9,e.actions_fetchActions();case 9:case"end":return r.stop()}}),r)})))()},validate_onValidateItemChange:function(){"edit"===this.container.mode&&this.page_setDirty(!0)},validate_errorsSet:function(t){this.validate.errors=t},validate_errorsReset:function(){this.validate.errors=null},validate_render:function(t){var e=this.$createElement;if(t=t||{},!this.base_ready)return null;var r={schema:this.base.validateSchema};return e("eb-validate",{ref:"validate",attrs:{host:this.validate_host,readOnly:"edit"!==this.container.mode,auto:!0,data:this.base.item,meta:r,errors:this.validate.errors},props:{onPerform:this.validate_onPerformValidate},on:{submit:t.validate_onSubmit||this.validate_onSubmit,validateItemChange:this.validate_onValidateItemChange,errorsSet:this.validate_errorsSet,errorsReset:this.validate_errorsReset}})}}};function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function U(){U=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==Y(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Z(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function K(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Z(a,n,o,i,c,"next",t)}function c(t){Z(a,n,o,i,c,"throw",t)}i(void 0)}))}}const H={data:function(){return{}},methods:{share_createLink:function(t){var e=this;return K(U().mark((function r(){var n,o;return U().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.capability,r.next=3,e.$api.post("/a/share/share/generate",{host:n.host,atomId:e.container.atomId,url:e.$pageRoute.url});case 3:return o=r.sent,r.abrupt("return",o.link);case 5:case"end":return r.stop()}}),r)})))()},share_updateLink:function(){var t=this;return K(U().mark((function e(){var r,n,o,a,i,c,u,s;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1===t.base.item.atomStage&&!t.base_user.anonymous){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r={actionModule:"a-host",actionComponent:"capabilities",name:"lookup"},e.next=6,t.$meta.util.performAction({ctx:t,action:r,item:{name:"shareLink"}});case 6:if(n=e.sent){e.next=9;break}return e.abrupt("return");case 9:return r={actionModule:"a-host",actionComponent:"capabilities",name:"invoke"},o=t.base.item.atomName||"",a=t.base.item.description||t.base.item.summary||"",e.next=14,t.share_createLink({capability:n});case 14:return i=e.sent,(c=t.base.item.imageCover||t.base.item.imageFirst)||(u=t.$meta.config.modules["a-base"],c=t.$meta.util.combineFetchStaticPath(u.site.cover)),s={name:"shareLink",options:{title:o,desc:a,link:i,imgUrl:c,success:function(){t.$view.toast.show({text:t.$text("SharingCompleted")})}}},e.next=20,t.$meta.util.performAction({ctx:t,action:r,item:s});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(2);case 24:case"end":return e.stop()}}),e,null,[[2,22]])})))()}}};function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function z(){z=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==J(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function q(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}const V={mixins:[o().prototype.$meta.module.get("a-base").options.mixins.ebLayoutManagerBase,o().prototype.$meta.module.get("a-base").options.mixins.ebAtomClasses,o().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions,o().prototype.$meta.module.get("a-components").options.mixins.ebPageDirty,h,{data:function(){return{}},methods:{page_ptr:function(){return!0},page_onGetTitle:function(){var t,e;return this.base.item&&(t="edit"===this.container.mode?this.base.item.atomName:this.base.item.atomNameLocale||this.base.item.atomName||(null===(e=this.base.item._meta)||void 0===e?void 0:e.atomName)),t||(t=this.base.atomClassBase.titleLocale),this.page_getDirtyTitle(t)},page_onGetTitleSub:function(){var t=this.base_getCurrentStage();return t&&"formal"!==t?this.$text(t.replace(t[0],t[0].toUpperCase())):""}}},v,g,_,O,A,{data:function(){return{}},methods:{subnavbar_policyDefaultCalc_enable:function(){if(this.base.atomClassBase.itemOnly)return!1}}},G,B,H],data:function(){return{index:{layoutManagerScene:"item",layoutManagerName:"itemLayoutManager"}}},created:function(){this.index_load()},methods:{index_load:function(){var t,e=this;return(t=z().mark((function t(){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.base_init();case 2:return t.next=4,e.base_loadAtomClass();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.layout_prepareConfigLayout();case 9:return t.next=11,e.base_loadItem();case 11:if(t.sent){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,e.base_loadAtomMain();case 16:return t.next=18,e.share_updateLink();case 18:e.base.ready=!0;case 19:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){q(a,n,o,i,c,"next",t)}function c(t){q(a,n,o,i,c,"throw",t)}i(void 0)}))})()}}}},841:(t,e,r)=>{"use strict";r.d(e,{Z:()=>kt});var n=r(3),o=r.n(n);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(){i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var a=e&&e.prototype instanceof p?e:p,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function m(){}function v(){}var y={};l(y,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,c)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,c,u){var s=h(t[n],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,u)}))}u(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){c(a,n,o,i,u,"next",t)}function u(t){c(a,n,o,i,u,"throw",t)}i(void 0)}))}}const s={data:function(){return{base:{configAtomBase:null,configAtomCms:null,configAtom:null,atomClass:null,atomClassBase:null,_atomMain:null}}},computed:{base_userLabels:function(){return this.$store.getters["a/base/userLabels"]},base_atomIdMain:function(){var t;return null===(t=this.container.options)||void 0===t?void 0:t.atomIdMain},base_atomMain:function(){var t;return(null===(t=this.container.options)||void 0===t?void 0:t.atomMain)||this.base._atomMain},base_flowTaskId:function(){var t;return null===(t=this.container.options)||void 0===t?void 0:t.flowTaskId}},created:function(){this.$store.dispatch("a/base/getLabels")},methods:{base_onInit:function(){var t=this;return u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("a/base/getAtomClasses");case 2:return e.next=4,t.base_adjustContainerCategory();case 4:case"end":return e.stop()}}),e)})))()},base_loadAtomClass:function(){var t=this;return u(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.container.atomClass){e.next=7;break}t.base.atomClass=null,t.base.atomClassBase=null,e.next=14;break;case 7:return t.base.atomClass=r,e.next=10,t.$store.use("a/basestore/atomClasses");case 10:return n=e.sent,e.next=13,n.getAtomClassBase({atomClass:r});case 13:t.base.atomClassBase=e.sent;case 14:return e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))()},base_loadAtomMain:function(){var t=this;return u(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.base.atomClassBase){e.next=2;break}return e.abrupt("return");case 2:if(t.base.atomClassBase.detail){e.next=4;break}return e.abrupt("return");case 4:if(null===(r=t.container.options)||void 0===r||!r.atomMain){e.next=6;break}return e.abrupt("return");case 6:return n=t.base_atomIdMain,e.next=9,t.$api.post("/a/base/atom/read",{key:{atomId:n},atomClass:t.base.atomClassBase.detail.atomClassMain,options:{}});case 9:t.base._atomMain=e.sent;case 10:case"end":return e.stop()}}),e)})))()},base_adjustContainerCategory:function(){var t=this;return u(i().mark((function e(){var r,n,o,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=null===(r=t.container.options)||void 0===r?void 0:r.category)&&"string"==typeof o){e.next=3;break}return e.abrupt("return");case 3:return a=null===(n=t.container.options)||void 0===n?void 0:n.language,e.next=6,t.$api.post("/a/base/category/parseCategoryName",{atomClass:t.container.atomClass,language:a,categoryName:o});case 6:if(c=e.sent){e.next=9;break}throw new Error("Category not found: ".concat(o));case 9:t.container.options.category=c.id;case 10:case"end":return e.stop()}}),e)})))()},base_prepareReadOptions:function(){var t={};if(this.container.options){var e=Object.assign({},this.container.options);delete e.atomMain,t=this.$utils.extend({},t,e)}return t.layout=this.layout.current,this.container.resource&&(t.resource=1,t.resourceLocale=this.$meta.util.getLocale()),this.container.mode&&(t.containerMode=this.container.mode),t.stage=this.base_getCurrentStage(),t},base_prepareSelectOptions:function(){var t=this.base_prepareReadOptions();if(t.where={},this.search.query&&(t.where["a.atomName"]={val:this.search.query,op:"like"}),"select"===this.container.scene){var e,r=null===(e=this.container.params)||void 0===e?void 0:e.selectedAtomIds;t.where["a.id"]=r&&r.length>0?r:null}return t},base_prepareSelectParams:function(t){var e=!t||!1!==t.setOrder,r=this.base_prepareSelectOptions(),n={atomClass:this.container.atomClass,options:r},o=this.filter_prepareSelectParams();if(o&&(n=this.$utils.extend({},n,o)),e){var a=this.order.selected||this.order_default(n);n.options.orders=a?[[this.order_getKey(a),a.by]]:null}return n},base_getItems:function(){return this.data_getItems()},base_getCurrentStage:function(){var t,e,r=this.$meta.util.getProperty(this.filter.data,"form.stage");return r||(r=null===(t=this.container.options)||void 0===t?void 0:t.stage),r||(r=null!==(e=this.base.atomClassBase)&&void 0!==e&&e.detail?void 0:"formal"),r},base_getExportFields:function(){return this.$meta.util.getProperty(this.layout.configFull,"info.export.fields")}}};function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(){f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof p?e:p,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var d={};function p(){}function m(){}function v(){}var y={};u(y,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,a)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,a,i,c){var u=h(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==l(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:m,configurable:!0}),m.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),u(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),u(w,c,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function h(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}const d={data:function(){return{}},methods:{layout_onGetLayoutConfigKeyCurrent:function(){var t=this.container.atomClass?"".concat(this.container.atomClass.module,"_").concat(this.container.atomClass.atomClassName):null;return"atom.".concat(t,".render.list.layout.current.").concat(this.$view.size)},layout_onSwipeoutOpened:function(t,e){this.actions_fetchActions(e)},layout_onColumnNameEqualOrder:function(t,e){var r=this.order_getKey(t);return r==="a.".concat(e)||r==="f.".concat(e)||r===e},layout_onGetLayoutKeyBase:function(){var t=this.container.layoutKeyBase;if(!t){var e=this.base.atomClassBase;t=e&&e.itemOnly?"a-basefront:layoutItemOnlyListBase":"a-basefront:layoutAtomListBase"}return t},layout_onPrepareConfigFull:function(){var t,e=this;return(t=f().mark((function t(){var r,n,o,a,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.base.atomClass,n=e.base.atomClassBase,o=e.layout_onGetLayoutKeyBase(),t.next=5,e.$store.dispatch("a/baselayout/getLayoutItem",{layoutKey:o});case 5:if(a=t.sent,e.base.configAtomBase=a.content,!r||!n.cms){t.next=12;break}return t.next=10,e.$store.dispatch("a/baselayout/getLayoutItem",{layoutKey:"a-cms:layoutAtomListCms"});case 10:a=t.sent,e.base.configAtomCms=a.content;case 12:if(!r){t.next=20;break}if(i=e.$meta.util.getProperty(n,"layout.config.atomList"),!(i=e.$meta.util.normalizeResourceKey(i,r.module))){t.next=20;break}return t.next=18,e.$store.dispatch("a/baselayout/getLayoutItem",{layoutKey:i});case 18:a=t.sent,e.base.configAtom=a.content;case 20:return t.abrupt("return",e.$meta.util.extend({},e.base.configAtomBase,e.base.configAtomCms,e.base.configAtom));case 21:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){h(a,n,o,i,c,"next",t)}function c(t){h(a,n,o,i,c,"throw",t)}i(void 0)}))})()}}};var p=r(310);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y(){y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};u(v,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,a)&&(v=b);var w=p.prototype=h.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==m(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(w,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),u(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),u(w,c,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function g(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function b(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){g(a,n,o,i,c,"next",t)}function c(t){g(a,n,o,i,c,"throw",t)}i(void 0)}))}}const w={components:{AtomButton:p.Z},data:function(){return{bulk:{actions:null,selectedAtoms:[],selecting:!1,activeAtomKey:null,hoverAtomKey:null}}},computed:{bulk_enableSelect:function(){var t=this;return!(!this.bulk.actions||!this.actionsAll)&&this.bulk.actions.some((function(e){return!1!==t.getAction(e).select}))}},methods:{bulk_actionsInit:function(){var t=this;return b(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.container.atomClass||"select"===t.container.scene||"selecting"===t.container.scene){e.next=3;break}return e.next=3,t.bulk_loadActions();case 3:case"end":return e.stop()}}),e)})))()},bulk_onAction:function(t,e){var r=this;return b(y().mark((function n(){var o,a,i,c,u;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.$f7.tooltip.hide(t.currentTarget),o=r.getAction(e)){n.next=4;break}return n.abrupt("return");case 4:return a={atomIdMain:r.base_atomIdMain,atomMain:r.base_atomMain},r.base_flowTaskId&&(a.flowTaskId=r.base_flowTaskId),o=Object.assign({},o,{targetEl:t.currentTarget},{dataOptions:a}),i={atomClassId:e.atomClassId,module:e.module,atomClassName:e.atomClassName},"create"===o.name&&((c=r.$meta.util.getProperty(r.container.params,"createParams"))&&(i=r.$utils.extend({},i,c)),(u=r.base_prepareSelectParams({setOrder:!1})).options.language&&(i.atomLanguage=u.options.language),u.options.category&&(i.atomCategoryId=u.options.category)),n.next=11,r.$meta.util.performAction({ctx:r,action:o,item:i});case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n)})))()},bulk_loadActions:function(){var t=this;return b(y().mark((function e(){var r,n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.bulk.actions){e.next=2;break}return e.abrupt("return");case 2:return r=t.base_prepareReadOptions(),e.next=5,t.$api.post("/a/base/atom/actionsBulk",{atomClass:t.container.atomClass,options:r});case 5:n=e.sent,t.bulk.actions=t.bulk_patchActions(n);case 7:case"end":return e.stop()}}),e)})))()},bulk_patchActions:function(t){return this.bulk_patchActions_draftStatsBulk(t)},bulk_patchActions_draftStatsBulk:function(t){var e,r=t.findIndex((function(t){return"draftStatsBulk"===t.name}));return r>-1?(e=t.splice(r,1)[0],t.unshift(e)):"formal"===this.base_getCurrentStage()&&(e={module:this.container.atomClass.module,atomClassName:this.container.atomClass.atomClassName,name:"draftStatsBulk",bulk:1,code:71},t.unshift(e)),t},bulk_clearSelectedAtoms:function(){this.bulk.selectedAtoms=[]},bulk_closeSelecting:function(){this.bulk.selecting=!1,this.bulk_clearSelectedAtoms()},bulk_onSelectingSwitch:function(){this.bulk.selecting=!this.bulk.selecting,this.bulk.selecting||this.bulk_clearSelectedAtoms()},bulk_onItemChange:function(t,e){var r=this.bulk.selectedAtoms,n=r.findIndex((function(t){return t.atomId===e.atomId}));t.currentTarget.checked&&-1===n?r.push(e):!t.currentTarget.checked&&n>-1&&r.splice(n,1)},bulk_onSelectingChecking:function(){var t=this.base_getItems();this.bulk.selectedAtoms.length>=t.length?this.bulk.selectedAtoms=[]:this.bulk.selectedAtoms=t.concat()},bulk_renderActionsLeft:function(){var t=this.$createElement,e=[];if(this.bulk_enableSelect){var r=this.base_getItems(),n=this.bulk.selectedAtoms;(r.length>0||this.bulk.selecting)&&e.push(t("eb-link",{key:"actionsLeft:select",attrs:{iconF7:"::grading",tooltip:this.$text("Select")},props:{onPerform:this.bulk_onSelectingSwitch}})),this.bulk.selecting&&e.push(t("eb-link",{key:"actionsLeft:selectChecking",attrs:{iconF7:0===n.length?":outline:checkbox-outline":"::checkbox-checked",iconBadge:n.length.toString()},props:{onPerform:this.bulk_onSelectingChecking}}))}return e},bulk_renderActionsLeftB:function(){var t=this.$createElement,e=[];if(this.bulk_enableSelect){var r=this.bulk.selectedAtoms;e.push(t("eb-link",{key:"actionsLeftB:select",attrs:{iconF7:"::grading",iconBadge:this.bulk.selecting?r.length.toString():0,tooltip:this.bulk.selecting?this.$text("Deselect"):this.$text("Select")},props:{onPerform:this.bulk_onSelectingSwitch}}))}return e},bulk_renderActionsRight:function(){var t=[],e=this.base_getCurrentStage(),r=this.bulk.selectedAtoms;if(this.bulk.actions&&this.actionsAll){var n,o=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(this.bulk.actions);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=this.getAction(a);this.bulk_renderActionsRight_checkIfRender(i,e,r)&&t.push(this.bulk_renderActionsRight_render(a,i))}}catch(t){o.e(t)}finally{o.f()}}return t},bulk_renderActionsRight_render:function(t,e){var r=this,n=this.$createElement;return e.render?n(p.Z,{key:"actionsRight:".concat(e.name),attrs:{layoutManager:this,action:t,config:e,renderParams:e.render},props:{onPerform:function(e){return r.bulk_onAction(e,t)}}}):n("eb-link",{key:"actionsRight:".concat(e.name),attrs:{iconMaterial:e.icon&&e.icon.material,iconF7:e.icon&&e.icon.f7,tooltip:e.icon&&e.titleLocale},props:{onPerform:function(e){return r.bulk_onAction(e,t)}}},[!e.icon&&e.titleLocale])},bulk_renderActionsRight_checkIfRender:function(t,e,r){return void 0===t.select||null===t.select||!0===t.select&&r.length>0||!1===t.select&&!this.bulk.selecting}}};function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function _(){_=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==x(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function L(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function k(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){L(a,n,o,i,c,"next",t)}function c(t){L(a,n,o,i,c,"throw",t)}i(void 0)}))}}const S={data:function(){return{select:{selectedAtoms:[]}}},methods:{select_openPageSelecting:function(){var t=this;return k(_().mark((function e(){var r,n,o;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.select_getSelectedAtoms(),o={selectMode:null===(r=t.container.params)||void 0===r?void 0:r.selectMode,selectedAtoms:n},t.$view.navigate("/a/basefront/atom/selecting",{target:"_self",context:{params:{atomClass:t.container.atomClass,options:t.container.options,params:o,resource:t.container.resource},callback:function(e,r){200===e&&(Array.isArray(r)||(r=[r]),t.container.params.selectedAtomIds=r.map((function(t){return t.atomId})),t.page_onRefresh())}}});case 4:case"end":return e.stop()}}),e)})))()},select_initCheckSelectedAtoms:function(){var t=this;return k(_().mark((function e(){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("select"===t.container.scene){e.next=2;break}return e.abrupt("return");case 2:if(!((n=null===(r=t.container.params)||void 0===r?void 0:r.selectedAtomIds)&&n.length>0)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.$pageContainer.waitForPageAfterIn();case 7:return e.abrupt("return",t.select_openPageSelecting());case 8:case"end":return e.stop()}}),e)})))()},select_prepareSelectedAtoms:function(){var t=this;return k(_().mark((function e(){var r,n,o,a,i,c,u;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("selecting"===t.container.scene){e.next=2;break}return e.abrupt("return");case 2:if(null===(r=t.container.params)||void 0===r||!r.selectedAtoms){e.next=5;break}return t.select.selectedAtoms=null===(o=t.container.params)||void 0===o?void 0:o.selectedAtoms,e.abrupt("return");case 5:if(!((a=null===(n=t.container.params)||void 0===n?void 0:n.selectedAtomIds)&&a.length>0)){e.next=15;break}return i={where:{"a.id":a}},t.container.resource&&(i.resource=1,i.resourceLocale=t.$meta.util.getLocale()),c={atomClass:t.base.atomClass,options:i},e.next=12,t.$api.post("/a/base/atom/select",c);case 12:return u=e.sent,t.select.selectedAtoms=u.list,e.abrupt("return");case 15:case"end":return e.stop()}}),e)})))()},select_getSelectedAtoms:function(){return"selecting"===this.container.scene?this.select.selectedAtoms:"select"===this.container.scene?this.base_getItems():void 0},select_onItemChange:function(t,e){var r;if("single"===(null===(r=this.container.params)||void 0===r?void 0:r.selectMode))t.currentTarget.checked&&(this.select.selectedAtoms=[e]);else{var n=this.select.selectedAtoms,o=n.findIndex((function(t){return t.atomId===e.atomId}));t.currentTarget.checked&&-1===o?n.push(e):!t.currentTarget.checked&&o>-1&&n.splice(o,1)}}}};function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const O={data:function(){return{order:{selected:null}}},computed:{order_current:function(){return this.order.selected||this.order_default()},order_list:function(){var t=this.$meta.util.getProperty(this.layout.configFull,"info.ordersBase"),e=this.$meta.util.getProperty(this.layout.configFull,"info.orders");return e?t.concat(e):t}},methods:{order_default:function(t){return t||(t=this.base_prepareSelectParams({setOrder:!1})),"select"===this.container.scene?{name:"atomName",by:"asc",tableAlias:"a"}:t.options.star?{name:"updatedAt",by:"desc",tableAlias:"d"}:t.options.label?{name:"updatedAt",by:"desc",tableAlias:"e"}:this._order_default_others()},_order_default_others:function(){var t=this.base.atomClassBase;if(!this.order_list){var e,r=null==t||null===(e=t.fields)||void 0===e?void 0:e.lineNo;return r?{name:r,by:"asc",tableAlias:"f"}:null}return this.order_list.find((function(t){return t.default}))||{name:t&&t.itemOnly?"updatedAt":"atomUpdatedAt",by:"desc",tableAlias:""}},order_onPerformPopover:function(t){var e=this.$refs.order_popover.$el;this.$f7.popover.open(e,t.currentTarget)},order_onPerformChange:function(t,e){var r=this.order_current;this.order_getKey(r)===this.order_getKey(e)?this.order.selected={name:r.name,tableAlias:r.tableAlias,by:"desc"===r.by?"asc":"desc"}:this.order.selected=e,this.page_onRefresh()},order_getKey:function(t){return t?""===t.tableAlias?t.name:"".concat(t.tableAlias||"f",".").concat(t.name):null},order_getStatus:function(t){var e=this.order_current;return this.order_getKey(e)===this.order_getKey(t)?"desc"===e.by?"::arrow-drop-down":"::arrow-drop-up":""},order_renderAction:function(){var t=this,e=this.$createElement;return this.order_list&&0!==this.order_list.length?e("eb-link",{attrs:{iconF7:"::sort",tooltip:this.$text("Sort")},props:{onPerform:function(e){return t.order_onPerformPopover(e)}}}):null},order_renderPopover:function(){var t=this,e=this.$createElement;if(!this.base.ready)return null;var r,n=[],o=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(this.order_list);try{var a=function(){var o=r.value;n.push(e("eb-list-item",{key:t.order_getKey(o),attrs:{popoverClose:!0,link:"#"},props:{onPerform:function(e){return t.order_onPerformChange(e,o)}}},[e("f7-icon",{slot:"media",attrs:{f7:t.order_getStatus(o)}}),e("div",{slot:"title"},[t.$text(o.title)])]))};for(o.s();!(r=o.n()).done;)a()}catch(t){o.e(t)}finally{o.f()}return e("eb-popover",{ref:"order_popover",attrs:{ready:!0}},[e("f7-list",{attrs:{inset:!0}},[n])])}}};function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function A(){A=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==C(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function I(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function P(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){I(a,n,o,i,c,"next",t)}function c(t){I(a,n,o,i,c,"throw",t)}i(void 0)}))}}const j={data:function(){return{}},methods:{filter_onPrepareData:function(){var t=this;return P(A().mark((function e(){var r,n,o,a,i,c,u;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.container.options||{},null==(n=r.state)&&(n=null),o={atomName:null,mine:r.mine||0,stage:r.stage||"formal",state:n,language:r.language||"",category:r.category||0,tag:r.tag||0,star:r.star||0,label:r.label||0,role:r.role||0,roleName:r.roleName||null,roleNameLocale:r.roleNameLocale||null,atomClass:t.container.atomClass},a=t.$meta.util.getProperty(t.container,"params.filter.formAtomClass")||{},e.next=7,t.filter_loadSchemaBasic();case 7:return i=e.sent,e.next=10,t.filter_loadSchemaGeneral();case 10:return c=e.sent,e.next=13,t.filter_loadSchemaSearch(t.container.atomClass);case 13:return u=e.sent,e.abrupt("return",{form:o,formAtomClass:a,schemaBasic:i,schemaGeneral:c,schemaSearch:u,searchStatesBasic:null,searchStatesGeneral:null,searchStatesSearch:null});case 15:case"end":return e.stop()}}),e)})))()},filter_loadSchemaBasic:function(){var t=this;return P(A().mark((function e(){var r,n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.filter_getConfig(),n=r.tabs.basic,e.next=4,t.filter_loadSchemaAndCombineSearchClauseLoadModules({module:n.schema.module,schema:n.schema.schema});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))()},filter_loadSchemaGeneral:function(){var t=this;return P(A().mark((function e(){var r,n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.filter_getConfig(),n=r.tabs.general,e.next=4,t.filter_loadSchemaAndCombineSearchClauseLoadModules({module:n.schema.module,schema:n.schema.schema});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))()},filter_loadSchemaSearch:function(t){var e=this;return P(A().mark((function r(){var n;return A().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return",null);case 2:return r.next=4,e.$api.post("/a/base/atomClass/validatorSearch",{atomClass:{module:t.module,atomClassName:t.atomClassName}});case 4:return n=r.sent,r.next=7,e.filter_loadSchemaAndCombineSearchClauseLoadModules({module:n.module,validator:n.validator,schema:null});case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),r)})))()},filter_onCombineSelectParams:function(){if(!this.filter.data)return null;var t={where:{}},e={options:t},r=this.filter.data.form;if(r){var n=this.$meta.util.combineSearchClause({ctx:this,schema:this.filter.data.schemaBasic,data:r,searchStates:this.filter.data.searchStatesBasic}),o=this.$meta.util.combineSearchClause({ctx:this,schema:this.filter.data.schemaGeneral,data:r,searchStates:this.filter.data.searchStatesGeneral}),a=Object.assign({},n,o);for(var i in a.atomClass&&(e.atomClass=a.atomClass.val,delete a.atomClass),a.__or__atomNameResource&&(t.where.__or__atomNameResource=a.__or__atomNameResource,delete a.__or__atomNameResource),a.__and__createdAt&&(t.where.__and__createdAt=a.__and__createdAt,delete a.__and__createdAt),a)t[i]=a[i].val;r.category&&(t.category=r.category),r.tag&&(t.tag=r.tag),void 0!==r.state&&null!==r.state&&(t.where["a.atomState"]=r.state)}var c=this.filter.data.formAtomClass;if(c){var u=this.$meta.util.combineSearchClause({ctx:this,schema:this.filter.data.schemaSearch,data:c,searchStates:this.filter.data.searchStatesSearch});u&&(Object.assign(t.where,u),Object.keys(u).length>0&&(t.mode="search"))}return e}}};function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function $(){$=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==N(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function T(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}const G={data:function(){return{}},methods:{actions_fetchActions:function(t){var e,r=this;return(e=$().mark((function e(){var n,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._actions){e.next=2;break}return e.abrupt("return",t._actions);case 2:return n=r.base_prepareReadOptions(),e.next=5,r.$api.post("/a/base/atom/actions",{key:{atomId:t.atomId},atomClass:r.base.atomClass,options:n});case 5:return a=(a=e.sent).filter((function(t){if(1===t.actionMode)return!0;var e=r.getAction(t);return 2!==t.code&&!e.disableOnList})),0===t.atomStage&&t.atomFlowId>0&&a.push({module:t.module,atomClassName:t.atomClassName,name:"workflow"}),o().set(t,"_actions",a),e.abrupt("return",t._actions);case 10:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(t){T(a,n,o,i,c,"next",t)}function c(t){T(a,n,o,i,c,"throw",t)}i(void 0)}))})()}}};function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function F(){F=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==M(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function D(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function R(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){D(a,n,o,i,c,"next",t)}function c(t){D(a,n,o,i,c,"throw",t)}i(void 0)}))}}const B={data:function(){return{data:{provider:{itemKey:"atomId",selectedItemsKey:"selectedAtoms",activeItemKey:"activeAtomKey",hoverItemKey:"hoverAtomKey"}}}},methods:{data_adapter_onProviderSwitch:function(){var t=this;return R(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.bulk_closeSelecting();case 1:case"end":return e.stop()}}),e)})))()},data_provider_onItemsClear:function(){this.bulk_clearSelectedAtoms()},data_provider_onPageCurrentChanged:function(){this.bulk_clearSelectedAtoms()},data_provider_onLoadItemsAll:function(){var t=this;return R(F().mark((function e(){var r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.base_prepareSelectParams(),e.next=3,t.$api.post("/a/base/atom/select",r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()},data_provider_onLoadItemsPage:function(t){var e=this;return R(F().mark((function r(){var n,o;return F().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.page,(o=e.base_prepareSelectParams()).options.page=n,r.next=5,e.$api.post("/a/base/atom/select",o);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},data_provider_onLoadItemsCount:function(){var t=this;return R(F().mark((function e(){var r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.base_prepareSelectParams(),e.next=3,t.$api.post("/a/base/atom/count",r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()}}};function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){K(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function K(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Y(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H(){H=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==Y(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function J(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function z(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){J(a,n,o,i,c,"next",t)}function c(t){J(a,n,o,i,c,"throw",t)}i(void 0)}))}}const q={created:function(){this.$meta.eventHub.$on("atom:star",this.star_onChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("atom:star",this.star_onChanged)},methods:{star_onSwitch:function(t,e){var r=this;return z(H().mark((function n(){var o;return H().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.star?0:1,n.next=3,r.star_onSwitch2(t,e,o,"swipeoutClose");case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},star_onSwitch2:function(t,e,r,n){var o=this;return z(H().mark((function a(){var i,c;return H().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.base_user.anonymous){a.next=5;break}return a.next=3,o.$view.dialog.confirm(o.$text("Please Sign In"));case 3:return o.$meta.vueLayout.openLogin(),a.abrupt("return");case 5:return i={atomId:e.atomId,itemId:e.itemId},a.next=8,o.$api.post("/a/base/atom/star",{key:i,atom:{star:r}});case 8:c=a.sent,o.$meta.eventHub.$emit("atom:star",{key:i,star:c.star,starCount:c.starCount}),o.$meta.util[n](t.currentTarget);case 11:case"end":return a.stop()}}),a)})))()},star_onChanged:function(t){var e=this;return z(H().mark((function r(){var n;return H().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.key.atomId,r.next=3,e.data.adapter._loopProviders(function(){var r=z(H().mark((function r(o){var a,i,c;return H().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=e.data.adapter.findItemProvier(o,n),i=a.item,c=!!i,e.base_prepareSelectParams({setOrder:!1}).options.star?0===t.star&&c?e.data.adapter._callMethodProvider(o,"spliceItem",a):1!==t.star||c?c&&e.data.adapter._callMethodProvider(o,"replaceItem",a,Z(Z({},i),{},{star:t.star})):e.data.adapter._callMethodProvider(o,"onPageRefresh"):c&&e.data.adapter._callMethodProvider(o,"replaceItem",a,Z(Z({},i),{},{star:t.star}));case 6:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}());case 3:case"end":return r.stop()}}),r)})))()}}};function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?W(Object(r),!0).forEach((function(e){X(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function X(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==V(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===V(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tt(){tt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==V(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function et(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function rt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){et(a,n,o,i,c,"next",t)}function c(t){et(a,n,o,i,c,"throw",t)}i(void 0)}))}}const nt={created:function(){this.$meta.eventHub.$on("atom:labels",this.labels_onChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("atom:labels",this.labels_onChanged)},methods:{labels_onClick:function(t,e){var r=this;return rt(tt().mark((function n(){var o;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.base_user.anonymous){n.next=5;break}return n.next=3,r.$view.dialog.confirm(r.$text("Please Sign In"));case 3:return r.$meta.vueLayout.openLogin(),n.abrupt("return");case 5:o={},r.$view.inPanel()&&(o.target="_self"),r.$view.navigate("/a/basefront/atom/labels?atomId=".concat(e.atomId),o),r.$meta.util.swipeoutClose(t.currentTarget);case 9:case"end":return n.stop()}}),n)})))()},labels_onChanged:function(t){var e=this;return rt(tt().mark((function r(){var n;return tt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.key.atomId,r.next=3,e.data.adapter._loopProviders(function(){var r=rt(tt().mark((function r(o){var a,i,c,u,s,l;return tt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=e.data.adapter.findItemProvier(o,n),i=a.item,c=!!i,u=e.base_prepareSelectParams({setOrder:!1}),(s=u.options.label)?!(l=t.labels.indexOf(String(s))>-1)&&c?e.data.adapter._callMethodProvider(o,"spliceItem",a):l&&!c?e.data.adapter._callMethodProvider(o,"onPageRefresh"):c&&e.data.adapter._callMethodProvider(o,"replaceItem",a,Q(Q({},i),{},{labels:JSON.stringify(t.labels)})):c&&e.data.adapter._callMethodProvider(o,"replaceItem",a,Q(Q({},i),{},{labels:JSON.stringify(t.labels)}));case 6:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}());case 3:case"end":return r.stop()}}),r)})))()}}};function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function at(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?at(Object(r),!0).forEach((function(e){ct(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ct(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==ot(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ot(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ut(){ut=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==ot(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function st(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function lt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){st(a,n,o,i,c,"next",t)}function c(t){st(a,n,o,i,c,"throw",t)}i(void 0)}))}}const ft={mounted:function(){this.$meta.eventHub.$on("atom:action",this.event_onActionChanged),this.$meta.eventHub.$on("atom:actions",this.event_onActionsChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("atom:action",this.event_onActionChanged),this.$meta.eventHub.$off("atom:actions",this.event_onActionsChanged)},methods:{event_onActionChanged_create:function(t){var e=this;return lt(ut().mark((function r(){var n,o,a;return ut().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=!1,o=t.key,a=t.atom,r.next=5,e.data.adapter._loopProviders(function(){var t=lt(ut().mark((function t(r){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.adapter._callMethodProvider(r,"onPageRefresh",{key:o,item:a});case 2:n=!0;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:return r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})))()},event_onActionChanged_delete:function(t){var e=this;return lt(ut().mark((function r(){var n,o;return ut().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=!1,o=t.key,r.next=4,e.data.adapter._loopProviders(function(){var t=lt(ut().mark((function t(r){var a;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=e.data.adapter.findItemProvier(r,o.atomId)).item){t.next=4;break}return t.abrupt("return");case 4:e.data.adapter._callMethodProvider(r,"spliceItem",a),n=!0;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:return r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})))()},event_onActionChanged_others:function(t){var e=this;return lt(ut().mark((function r(){var n,o,a;return ut().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=!1,o=t.key,a=t.atomClass,r.next=5,e.data.adapter._loopProviders(function(){var t=lt(ut().mark((function t(r){var i,c,u;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=e.data.adapter.findItemProvier(r,o.atomId)).item){t.next=4;break}return t.abrupt("return");case 4:return c=e.base_prepareReadOptions(),t.next=7,e.$api.post("/a/base/atom/read",{key:o,atomClass:a,options:c});case 7:u=t.sent,e.data.adapter._callMethodProvider(r,"replaceItem",i,u),n=!0;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:return r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})))()},event_onActionChanged_addChildNode:function(t){var e=this;return lt(ut().mark((function r(){var n,o,a;return ut().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=!1,o=t.key,a=t.node,r.next=5,e.data.adapter._loopProviders(function(){var t=lt(ut().mark((function t(r){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.data.adapter._callMethodProvider(r,"addChildNode",{key:o,node:a}),n=!0;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:return r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})))()},event_onActionChanged_moveNode:function(t){var e=this;return lt(ut().mark((function r(){var n,o,a;return ut().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=!1,o=t.key,a=t.node,r.next=5,e.data.adapter._loopProviders(function(){var t=lt(ut().mark((function t(r){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.data.adapter._callMethodProvider(r,"moveNode",{key:o,node:a}),n=!0;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:return r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})))()},event_checkIfEventActionValid:function(t){var e=this;return lt(ut().mark((function r(){var n,o,a,i,c,u,s,l,f;return ut().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.atomClass){r.next=3;break}throw new Error("Should specify atom class");case 3:return r.next=5,e.$store.use("a/basestore/atomClasses");case 5:return i=r.sent,r.next=8,i.getAtomClassBase({atomClass:a});case 8:if(c=r.sent,u=e.base_prepareSelectParams({setOrder:!1}),s=u.atomClass,l=u.options.stage,f=null===(n=t.action)||void 0===n||null===(n=n.dataOptions)||void 0===n?void 0:n.atomIdMain,"create"!==(null===(o=t.action)||void 0===o?void 0:o.name)){r.next=16;break}if(c.itemOnly||e.$meta.util.stageToString(t.atom.atomStage)===l){r.next=16;break}return r.abrupt("return",!1);case 16:if(!s){r.next=19;break}if(s.module===a.module&&s.atomClassName===a.atomClassName){r.next=19;break}return r.abrupt("return",!1);case 19:if(s){r.next=22;break}if(!c.itemOnly){r.next=22;break}return r.abrupt("return",!1);case 22:if(!f||f===e.base_atomIdMain){r.next=24;break}return r.abrupt("return",!1);case 24:return r.abrupt("return",!0);case 25:case"end":return r.stop()}}),r)})))()},event_onActionChanged:function(t){var e=this;return lt(ut().mark((function r(){var n,o;return ut().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.action,r.next=3,e.event_checkIfEventActionValid(t);case 3:if(r.sent){r.next=6;break}return r.abrupt("return");case 6:if(o=!1,"create"!==n.name){r.next=13;break}return r.next=10,e.event_onActionChanged_create(t);case 10:o=r.sent,r.next=40;break;case 13:if("delete"!==n.name){r.next=19;break}return r.next=16,e.event_onActionChanged_delete(t);case 16:o=r.sent,r.next=40;break;case 19:if("addChildNode"!==n.name){r.next=25;break}return r.next=22,e.event_onActionChanged_addChildNode(t);case 22:o=r.sent,r.next=40;break;case 25:if("moveNode"!==n.name){r.next=31;break}return r.next=28,e.event_onActionChanged_moveNode(t);case 28:o=r.sent,r.next=40;break;case 31:if("moveUp"!==n.name&&"moveDown"!==n.name){r.next=37;break}return r.next=34,e.event_onActionChanged_moveLineNo(t);case 34:o=r.sent,r.next=40;break;case 37:return r.next=39,e.event_onActionChanged_others(t);case 39:o=r.sent;case 40:o&&e.$meta.eventHub.$emit("atom:listChanged",it(it({},t),{},{items:e.data_getItems()}));case 41:case"end":return r.stop()}}),r)})))()},event_onActionChanged_moveLineNo:function(t){var e=this;return lt(ut().mark((function r(){var n,o,a;return ut().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=!1,o=t.action,a=t.result,r.next=4,e.data.adapter._loopProviders(function(){var t=lt(ut().mark((function t(r){var i,c,u,s,l,f,h,d;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:if(i="moveUp"===o.name?a.to.atomId:a.from.atomId,c="moveUp"===o.name?a.from.atomId:a.to.atomId,u=e.data.adapter.findItemProvier(r,i),s=u.items,l=u.index,f=e.data.adapter.findItemProvier(r,c),h=f.index,-1!==l&&-1!==h){t.next=14;break}return t.next=12,e.data.adapter._callMethodProvider(r,"onPageRefresh");case 12:t.next=16;break;case 14:d=e.data.adapter._callMethodProvider(r,"spliceItem",{items:s,index:h}),e.data.adapter._callMethodProvider(r,"spliceItem",{items:s,index:l},0,d[0]);case 16:n=!0;case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:return r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})))()},event_onActionsChanged:function(t){var e=this;return lt(ut().mark((function r(){var n;return ut().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.key,r.next=3,e.event_checkIfEventActionValid(t);case 3:if(r.sent){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,e.data.adapter._loopProviders(function(){var t=lt(ut().mark((function t(r){var o,a;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.data.adapter.findItemProvier(r,n.atomId),a=o.item){t.next=4;break}return t.abrupt("return");case 4:e.data.adapter._callMethodProvider(r,"replaceItem",o,it(it({},a),{},{_actions:null}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return r.stop()}}),r)})))()}}};function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function dt(){dt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==ht(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function pt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function mt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){pt(a,n,o,i,c,"next",t)}function c(t){pt(a,n,o,i,c,"throw",t)}i(void 0)}))}}const vt={methods:{item_onActionByModeFlow:function(t,e,r){var n=this;return mt(dt().mark((function t(){var e,o;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=r.__task,o="/a/flowtask/flow?flowId=".concat(e.flowId,"&flowTaskId=").concat(e.flowTaskId),n.$view.navigate(o);case 3:case"end":return t.stop()}}),t)})))()},item_onAction:function(t,e,r){var n=this;return mt(dt().mark((function o(){var a,i;return dt().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a=n.getAction(r)){o.next=3;break}return o.abrupt("return");case 3:return i={atomIdMain:n.base_atomIdMain,atomMain:n.base_atomMain},n.base_flowTaskId&&(i.flowTaskId=n.base_flowTaskId),a=Object.assign({},a,{dataOptions:i}),o.next=8,n.$meta.util.performAction({ctx:n,action:a,item:e});case 8:n.$meta.util.swipeoutClose(t.currentTarget);case 9:case"end":return o.stop()}}),o)})))()},item_onActionView:function(t,e){var r=this;return mt(dt().mark((function n(){var o,a;return dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(o=r.$meta.util.getProperty(r.container.params,"actionOnClick"))||(o="edit"===r.container.mode||0===e.atomStage&&0===e.atomClosed&&0===e.atomFlowId?"write":"read"),a={module:e.module,atomClassName:e.atomClassName,name:o},n.next=5,r.item_onAction(t,e,a);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()},item_getActionTitle:function(t,e){return this.getActionTitle(t,e)}}},yt={methods:{item_prepareActions_left:function(t,e){var r=this,n=[];if("toolbar"===e&&this.bulk_enableSelect){var o=this.bulk.selectedAtoms;n.push({key:"actionsLeftB:select",title:this.bulk.selecting?this.$text("Deselect"):this.$text("Select"),icon:{f7:"::grading",badge:this.bulk.selecting?o.length.toString():0},color:"teal",onPerform:function(t){return r.bulk_onSelectingSwitch(t)}})}return t&&1===t.atomStage?(n.push({key:"star",title:this.$text(t.star?"Unstar":"UserStarShort"),icon:{f7:t.star?"::star":":outline:star-outline",color:t.star?"orange":""},color:"teal",onPerform:function(e){return r.star_onSwitch(e,t)}}),n.push({key:"label",title:this.$text("UserLabelsShort"),icon:{f7:":outline:label-outline",color:""},color:"swipeout"===e?"blue":"teal",onPerform:function(e){return r.labels_onClick(e,t)}}),n):n},item_prepareActions_rightmore_checkIfShow:function(t,e,r,n){if("swipeout"===r){var o=1===t.actionMode||e.directShowOnSwipeout;if("right"===n)return o;if("more"===n)return!o}var a=1===t.actionMode||e.directShowOnList;return"right"===n?a:"more"===n?!a:void 0},item_prepareActions_rightmore:function(t,e,r){var n=this;if(!t||!t._actions)return null;var o=[],a=function(){i=parseInt(i);var a=t._actions[i],c=n.getAction(a);if(!n.item_prepareActions_rightmore_checkIfShow(a,c,e,r))return"continue";1===a.actionMode?o.push({key:a.id,title:a.__task.flowNodeNameLocale,icon:{f7:":tools:pomotodo",color:""},color:"orange",onPerform:function(e){return n.item_onActionByModeFlow(e,t,a)}}):o.push({key:a.id,title:n.item_getActionTitle(a,t),icon:{f7:c.icon&&c.icon.f7,color:""},color:c.color,onPerform:function(e){return n.item_onAction(e,t,a)}})};for(var i in t._actions)a();return o},item_prepareActions:function(t,e){return{left:this.item_prepareActions_left(t,e),right:this.item_prepareActions_rightmore(t,e,"right"),more:this.item_prepareActions_rightmore(t,e,"more")}},item_renderContextMenu_adjustMode:function(t){return t||(this.$device.desktop?"menu":"swipeout")},item_renderContextMenu:function(t,e){var r=this.$createElement;e=this.item_renderContextMenu_adjustMode(e);var n=this.item_prepareActions(t,e);return r("eb-actions-bar",{attrs:{mode:e,left:n.left,right:n.right,more:n.more}})}}};function gt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return bt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const wt={mixins:[vt,yt],methods:{item_getAtomName:function(t,e){var r;return e?t[e]:(null===(r=t._meta)||void 0===r?void 0:r.atomName)||t.atomNameLocale||t.atomName},item_getMetaMedia:function(t,e){var r,n;return r=e?t[e]:(null===(n=t._meta)||void 0===n?void 0:n.media)||t.avatar,this.$meta.util.combineAvatarUrl(r,24)},item_getMetaMediaLabel:function(t){var e;return(null===(e=t._meta)||void 0===e?void 0:e.mediaLabel)||t.userName},item_getMetaSummary:function(t){var e=[];this.container.atomClass||e.push(t.atomClassTitleLocale);var r=t.resourceTypeLocale;r&&e.push(r);var n=this.$meta.util.getProperty(this.filter.data,"form.category"),o=t.atomCategoryNameLocale||t.atomCategoryName;!n&&o&&e.push(o);var a=t._meta&&t._meta.summary||"";return a&&e.push(a),e.join(" / ")},item_getMetaFlags:function(t){var e=t._meta&&t._meta.flags||[];return Array.isArray(e)||(e=e.split(",")),e},item_getLabel:function(t){return this.base_userLabels?this.base_userLabels[t]:null},item_renderMedia:function(t,e,r){return(0,this.$createElement)("img",{class:e||"avatar avatar24",attrs:{src:this.item_getMetaMedia(t,r)}})},item_renderMedia2:function(t,e,r){var n,o=this.$createElement,a=t.item||t.record;if(!1===r)return null;if("_index"===r)n=o("div",["#".concat(t.index+1)]);else if("_indexTotal"===r)n=o("div",["#".concat(t.indexTotal+1)]);else{var i=!0===r?void 0:r;n=this.item_renderMedia(a,e,i)}return n},item_renderStats:function(t){var e,r,n=this.$createElement,o=[];return t.star>0&&o.push(n("span",{key:"stat_star"},[n("f7-icon",{attrs:{f7:"::star",size:"14",color:"orange"}})])),t.attachmentCount>0&&(t.attachmentCount>1&&(e=n("sub",{class:"text-color-orange"},[t.attachmentCount])),o.push(n("span",{key:"stat_attachmentCount_icon"},[n("f7-icon",{attrs:{f7:"::attachment-line",size:"14",color:"orange"}}),e]))),t.commentCount>0&&(t.commentCount>1&&(r=n("sub",{class:"text-color-orange"},[t.commentCount])),o.push(n("span",{key:"stat_commentCount_icon"},[n("f7-icon",{attrs:{f7:"::comment-dots",size:"14",color:"orange"}}),r]))),o},item_getAtomStateColor:function(t){return 0===t.atomClosed?"orange":"gray"},item_renderFlowNodeState:function(t){var e=this.$createElement;return t._atomStateTitleLocale?e("f7-badge",{key:"_atomStateTitleLocale",attrs:{color:this.item_getAtomStateColor(t)}},[t._atomStateTitleLocale]):null},item_renderMetaFlags:function(t){var e=this.$createElement,r=[],n=this.item_renderFlowNodeState(t);n&&r.push(n);var o,a=gt(this.item_getMetaFlags(t));try{for(a.s();!(o=a.n()).done;){var i=o.value;r.push(e("f7-badge",{key:i},[i]))}}catch(t){a.e(t)}finally{a.f()}return r},item_renderLabels:function(t){var e=this.$createElement,r=[];if(t.labels&&this.base_userLabels){var n,o=gt(JSON.parse(t.labels));try{for(o.s();!(n=o.n()).done;){var a=n.value,i=this.item_getLabel(a);r.push(e("f7-badge",{key:a,style:{backgroundColor:i.color}},[(i.text||"")[0]]))}}catch(t){o.e(t)}finally{o.f()}}return r}}};function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function _t(){_t=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new S(o||[]);return n(i,"_invoke",{value:x(t,r,c)}),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,a,i,c){var u=l(t[n],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==xt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,c)}))}c(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Lt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}const kt={mixins:[o().prototype.$meta.module.get("a-base").options.mixins.ebLayoutManagerBase,o().prototype.$meta.module.get("a-base").options.mixins.ebAtomClasses,o().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions,s,{data:function(){return{}},methods:{page_ptr:function(){return!0},page_infinite:function(){return!0},page_onGetTitle:function(){var t=this.base.atomClassBase,e=t&&t.titleLocale;return"select"===this.container.scene?t?"".concat(this.$text("Selected")," ").concat(e):"".concat(this.$text("Selected")," ").concat(this.$text("Atom")):"selecting"===this.container.scene?t?"".concat(this.$text("Select")," ").concat(e):"".concat(this.$text("Select")," ").concat(this.$text("Atom")):"search"===this.container.scene?t?"".concat(this.$text("Search")," ").concat(e):"".concat(this.$text("Search")," ").concat(this.$text("Atom")):t?e:this.$text("Atom")},page_onGetTitleSub:function(){var t=this.base_getCurrentStage();return t&&"formal"!==t?this.$text(t.replace(t[0],t[0].toUpperCase())):""}}},d,w,{data:function(){return{search:{query:null}}},methods:{search_onSearch:function(t){this.search.query=t,this.search.query?this.page_onRefresh():this.page_onClear()},search_onSearchDisable:function(){this.$f7router.back()},search_onSearchAdvanced:function(){this.filter_onPerform()}}},S,O,j,{data:function(){return{}},methods:{subnavbar_policyDefaultCalc_render:function(){return this.container.atomClass&&"select"!==this.container.scene&&"selecting"!==this.container.scene},subnavbar_policyDefaultCalc_enable:function(){return!1}}},G,B,q,nt,ft,wt],data:function(){return{index:{layoutManagerScene:"list",layoutManagerName:"listLayoutManager"}}},created:function(){var t=this;this.$nextTick((function(){t.index_init()}))},methods:{index_init:function(){var t,e=this;return(t=_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.base_init();case 2:return t.next=4,e.base_loadAtomClass();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.base_loadAtomMain();case 9:return t.next=11,e.select_prepareSelectedAtoms();case 11:return t.next=13,e.layout_prepareConfigLayout();case 13:return t.next=15,e.bulk_actionsInit();case 15:return t.next=17,e.filter_prepareData();case 17:return t.next=19,e.select_initCheckSelectedAtoms();case 19:e.base.ready=!0;case 20:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Lt(a,n,o,i,c,"next",t)}function c(t){Lt(a,n,o,i,c,"throw",t)}i(void 0)}))})()}}}},307:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={meta:{global:!1},mixins:[r(841).Z],props:{container:{type:Object}},data:function(){return{}},methods:{reload:function(t){this.data_onPageRefresh(t)},loadMore:function(){this.data_onPageInfinite()}},render:function(){return this.layout_renderLayout()}}},170:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(349),o=r.n(n);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(){c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var a=e&&e.prototype instanceof p?e:p,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function m(){}function v(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,i)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,c,u){var s=h(t[n],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,u)}))}u(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function u(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){u(a,n,o,i,c,"next",t)}function c(t){u(a,n,o,i,c,"throw",t)}i(void 0)}))}}const l={props:{atomClass:{},language:{},categoryIdStart:{},multiple:{},catalogOnly:{},leafOnly:{},disabledCategoryIds:{},selectedCategoryIds:{},checkbox:{default:!0},categoryHidden:{default:void 0}},data:function(){return{}},watch:{atomClass:function(){this.reload()},language:function(){this.reload()}},mounted:function(){this.init(this.selectedCategoryIds)},methods:{getInstance:function(){return this.$refs.tree},init:function(t){var e=this;return s(c().mark((function r(){var n,o;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={attrs:{itemToggle:!1,selectable:!1,multiple:e.multiple,checkbox:e.checkbox,checkOnLabel:!0}},o=e.getInstance(),r.next=4,o.load(n);case 4:return r.next=6,o.checkNodes(t,!0,!0);case 6:case"end":return r.stop()}}),r)})))()},reload:function(){var t=this;return s(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init(null);case 2:case"end":return e.stop()}}),e)})))()},_findChildren:function(t,e){var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw a}}}}(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.id===e)return o.children;if(o.children){var a=this._findChildren(o.children,e);if(a)return a}}}catch(t){n.e(t)}finally{n.f()}return null},_renderNodeLabelStart:function(t){if(0===t.id)return this.$text("Root");var e=t.data;return e.categoryNameLocale||e.categoryName||"[".concat(this.$text("New Category"),"]")},_createNodeRoot:function(t){var e=!this.leafOnly;return[{id:0,attrs:{toggle:!0,loadChildren:!0,checkbox:this.checkbox&&e,checkOnLabel:e,selectable:e,itemToggle:!e,disabled:this.disabledCategoryIds&&this.disabledCategoryIds.indexOf(0)>-1},data:{id:0,categoryCatalog:1,children:t}}]},_createNodeChildren:function(t){var e=this;if(!t)return[];var r=t.map((function(t){var r=!e.leafOnly||0===t.categoryCatalog,n=e.checkbox&&r,o=!r&&1===t.categoryCatalog,a=e.disabledCategoryIds&&e.disabledCategoryIds.indexOf(t.id)>-1;return{id:t.id,attrs:{toggle:1===t.categoryCatalog,loadChildren:1===t.categoryCatalog,checkbox:n,checkOnLabel:r,selectable:r,itemToggle:!r,folder:o,disabled:a},data:t}}));return r.filter((function(t){return!e.catalogOnly||1===t.data.categoryCatalog}))},onLoadChildren:function(t){var e=this;return s(c().mark((function r(){var n,o;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.root){r.next=8;break}return r.next=3,e.$store.dispatch("a/base/getCategoryTree",{atomClass:e.atomClass,language:e.language,categoryHidden:e.categoryHidden});case 3:if(n=r.sent,void 0!==e.categoryIdStart){r.next=6;break}return r.abrupt("return",e._createNodeRoot(n));case 6:return o=0===e.categoryIdStart?n:e._findChildren(n,e.categoryIdStart),r.abrupt("return",e._createNodeChildren(o));case 8:return r.abrupt("return",e._createNodeChildren(t.data.children));case 9:case"end":return r.stop()}}),r)})))()},onNodeChange:function(t){this.$emit("node:change",t),this.$emit("nodeChange",t)},onNodeSelect:function(t){this.$emit("node:select",t),this.$emit("nodeSelect",t)},onNodeClick:function(t,e){this.$emit("node:click",t,e),this.$emit("nodeClick",t,e)}},render:function(){var t=this;return(0,arguments[0])("eb-treeview",o()([{ref:"tree",attrs:{auto:!1},props:{onLoadChildren:this.onLoadChildren},on:{nodeChange:this.onNodeChange,nodeSelect:this.onNodeSelect,nodeClick:this.onNodeClick}},{scopedSlots:{"label-start":function(e){var r=e.node;return t._renderNodeLabelStart(r)}}}]))}}},245:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(){i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,i=Object.create(a.prototype),c=new O(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function m(){}function v(){}var y={};l(y,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,c)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function a(o,i,c,u){var s=h(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){a("next",t,c,u)}),(function(t){a("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return a("throw",t,c,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){a(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,o(w,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){c(a,n,o,i,u,"next",t)}function u(t){c(a,n,o,i,u,"throw",t)}i(void 0)}))}}r.d(e,{Z:()=>s});const s={props:{atomClass:{},language:{},multiple:{},searchQuery:{},selectedTags:{},showBlockCurrent:{}},data:function(){return{tagsCurrent:[],tagsAll:null}},watch:{atomClass:function(){this.reload()},language:function(){this.reload()}},computed:{tagsAll2:function(){var t=this;return this.tagsAll&&this.searchQuery?this.tagsAll.filter((function(e){return e.tagName.toLowerCase().indexOf(t.searchQuery.toLowerCase())>-1})):this.tagsAll}},created:function(){this.init()},methods:{init:function(){var t=this;return u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.initTagsCurrent(),e.next=3,t.loadTagsAll();case 3:case"end":return e.stop()}}),e)})))()},reload:function(){var t=this;return u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.tagsCurrent=[],e.next=3,t.loadTagsAll();case 3:case"end":return e.stop()}}),e)})))()},initTagsCurrent:function(){this.selectedTags?Array.isArray(this.selectedTags)?this.tagsCurrent=this.selectedTags.concat():"number"==typeof this.selectedTags?this.tagsCurrent=[this.selectedTags]:this.tagsCurrent=JSON.parse(this.selectedTags):this.tagsCurrent=[]},loadTagsAll:function(){var t=this;return u(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={where:{language:t.language},orders:[["tagName","asc"]]},e.next=3,t.$api.post("/a/base/tag/list",{atomClass:t.atomClass,options:r});case 3:n=e.sent,t.tagsAll=n.list;case 5:case"end":return e.stop()}}),e)})))()},getTagName:function(t){var e=this.getTagBase(t);return e?e.tagName:null},getTagBase:function(t){return this.tagsAll?this.tagsAll.find((function(e){return e.id===t})):null},tagIndex:function(t){return this.tagsCurrent.findIndex((function(e){return e===t}))},onTagRemove:function(t){var e=this.tagIndex(t);e>-1&&this.tagsCurrent.splice(e,1),this.emitChange()},onTagSwitch:function(t){if(this.multiple){var e=this.tagIndex(t.id);e>-1?this.tagsCurrent.splice(e,1):this.tagsCurrent.push(t.id)}else this.tagsCurrent[0]===t.id?this.tagsCurrent=[]:this.tagsCurrent=[t.id];this.emitChange()},emitChange:function(){this.$emit("change",this.tagsCurrent)},checked:function(){return this.multiple?this.tagsCurrent.length>0?this.tagsCurrent:null:this.tagsCurrent.length>0?this.tagsCurrent[0]:0},_renderTagsCurrent:function(){var t=this,e=this.$createElement;if(!this.showBlockCurrent)return null;if(!this.tagsAll)return null;var r,n=[],a=o(this.tagsCurrent);try{var i=function(){var o=r.value;n.push(e("f7-chip",{key:o,attrs:{text:t.getTagName(o),deleteable:!0},on:{click:function(){t.onTagRemove(o)}}}))};for(a.s();!(r=a.n()).done;)i()}catch(t){a.e(t)}finally{a.f()}return e("div",[e("f7-block-title",[this.$text("Selected Tags")]),e("f7-block",{class:"selected-tags"},[n]),e("hr")])},_renderTagsAll:function(){var t=this,e=this.$createElement;if(!this.tagsAll)return null;var r,n=[],a=o(this.tagsAll2);try{var i=function(){var o=r.value,a={chip:!0,"col-33":!0,"chip-outline":-1===t.tagIndex(o.id)};n.push(e("div",{key:o.id,class:a,on:{click:function(){t.onTagSwitch(o)}}},[e("div",{class:"chip-label"},[o.tagName]),e("f7-badge",{class:"eb-icon-badge",attrs:{color:"gray"}},[o.tagAtomCount])]))};for(a.s();!(r=a.n()).done;)i()}catch(t){a.e(t)}finally{a.f()}return e("f7-block",[e("div",{class:"row tags"},[n,e("div",{class:"col-33"}),e("div",{class:"col-33"})])])}},render:function(){return(0,arguments[0])("div",{class:"eb-tag-select"},[this._renderTagsCurrent(),this._renderTagsAll()])}}},788:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n={meta:{size:"medium"},mixins:[r(747).Z],data:function(){var t,e=this.$f7route.query,r=e.mode,n=parseInt(e.atomId||0),o=parseInt(e.itemId||0),a=e.layout,i=e.module,c=e.atomClassName,u=i&&c?{module:i,atomClassName:c}:null,s=e.options?JSON.parse(e.options):{},l=e.params?JSON.parse(e.params):{},f=null===(t=this.$f7route.context)||void 0===t||null===(t=t.params)||void 0===t?void 0:t.atomMain;return f&&(s.atomMain=f),e.flowTaskId&&(s.flowTaskId=parseInt(e.flowTaskId)),{container:{mode:r,atomId:n,itemId:o,layout:a,atomClass:u,options:s,params:l}}},render:function(){return this.layout_renderPage()}}},9:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n={mixins:[r(841).Z],data:function(){var t,e=this.$f7route.query,r=e&&e.module,n=e&&e.atomClassName,o=r&&n?{module:r,atomClassName:n}:null,a=e&&e.options?JSON.parse(e.options):{},i=e&&e.params?JSON.parse(e.params):{},c=e&&e.scene,u=e&&e.layout,s=e&&e.resource;e.appLanguage&&(a.language=e.appLanguage);var l=null===(t=this.$f7route.context)||void 0===t||null===(t=t.params)||void 0===t?void 0:t.atomMain;return l&&(a.atomMain=l),e.flowTaskId&&(a.flowTaskId=parseInt(e.flowTaskId)),{container:{atomClass:o,options:a,params:i,scene:c,layout:u,resource:s}}},render:function(){return this.layout_renderPage()}}},950:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});var n=r(3),o=r.n(n),a=r(841);const i={mixins:[o().prototype.$meta.module.get("a-base").options.mixins.ebAtomClasses,a.Z],data:function(){var t=this.$f7route.query,e=t&&t.module,r=t&&t.atomClassName;return{container:{atomClass:e&&r?{module:e,atomClassName:r}:null,options:t&&t.options?JSON.parse(t.options):{},params:t&&t.params?JSON.parse(t.params):{},scene:"search",layout:"list"}}},render:function(){return(0,arguments[0])("eb-search-page",{attrs:{advanced:!0,title:this.page_getTitle(),subtitle:this.page_getSubtitle(),advancedSearchTitle:"Advanced Filter"},on:{search:this.search_onSearch,loadMore:this.page_onInfinite,disable:this.search_onSearchDisable,searchAdvanced:this.search_onSearchAdvanced}},[this.layout_renderComponent()])}}},544:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});var n=r(3),o=r.n(n),a=r(841);const i={mixins:[o().prototype.$meta.module.get("a-components").options.mixins.ebPageContext,a.Z],data:function(){return{container:{atomClass:null,options:null,params:null,scene:"select",layout:"select"}}},created:function(){var t=this.contextParams;this.container.atomClass=t.atomClass,this.container.options=t.options;var e,r=t.selectMode;e="single"===t.selectMode?t.selectedAtomId?[t.selectedAtomId]:[]:t.selectedAtomIds?t.selectedAtomIds.concat():[],this.container.params={selectMode:r,selectedAtomIds:e},"single"===t.selectMode&&(this.container.scene="selecting",this.container.layout="selecting"),this.container.resource=t.resource},render:function(){return this.layout_renderPage()}}},833:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});var n=r(3),o=r.n(n),a=r(841);const i={mixins:[o().prototype.$meta.module.get("a-components").options.mixins.ebPageContext,a.Z],data:function(){return{container:{atomClass:null,options:null,params:null,scene:"selecting",layout:"selecting"}}},created:function(){var t=this.contextParams;this.container.atomClass=t.atomClass,this.container.options=t.options,this.container.params=t.params,this.container.resource=t.resource},render:function(){return this.layout_renderPage()}}},100:(t,e,r)=>{var n=r(233),o=r(361)(n);o.push([t.id,".eb-tag-select .selected-tags {\n  min-height: 40px;\n}\n.eb-tag-select .selected-tags .chip + .chip {\n  margin-left: 6px;\n}\n.eb-tag-select .tags {\n  justify-content: space-around;\n}\n.eb-tag-select .tags .chip {\n  cursor: pointer;\n}\n.eb-tag-select .tags .chip .chip-media {\n  min-width: 32px;\n  width: auto;\n  border: 1px solid var(--f7-block-header-text-color);\n  color: var(--f7-block-header-text-color);\n}\n","",{version:3,sources:["webpack://./front/src/assets/css/module.less"],names:[],mappings:"AAAA;EAEI,gBAAA;AAAJ;AAGM;EACE,gBAAA;AADR;AALA;EAYI,6BAAA;AAJJ;AARA;EAeM,eAAA;AAJN;AAXA;EAkBQ,eAAA;EACA,WAAA;EACA,mDAAA;EACA,wCAAA;AAJR",sourcesContent:[".eb-tag-select {\n  .selected-tags {\n    min-height: 40px;\n\n    .chip {\n      & + .chip {\n        margin-left: 6px;\n      }\n    }\n  }\n\n  .tags {\n    justify-content: space-around;\n\n    .chip {\n      cursor: pointer;\n\n      .chip-media {\n        min-width: 32px;\n        width: auto;\n        border: 1px solid var(--f7-block-header-text-color);\n        color: var(--f7-block-header-text-color);\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),t.exports=o},559:(t,e,r)=>{var n=r(233),o=r(361)(n);o.push([t.id,".label-edit-list .label-media[data-v-369e8afe] {\n  width: 16px;\n  height: 16px;\n  border-radius: 8px;\n}\n.label-edit .label-prompt[data-v-369e8afe] {\n  position: absolute;\n  width: 100%;\n  top: 10px;\n  text-align: center;\n}\n.label-edit .label-form[data-v-369e8afe] {\n  margin-top: 40px;\n}\n.label-edit .label-colors[data-v-369e8afe] {\n  height: 60px;\n  width: 100%;\n}\n","",{version:3,sources:["webpack://./front/src/pages/atom/labels.vue","webpack://./labels.vue"],names:[],mappings:"AACA;EAEI,WAAA;EACA,YAAA;EACA,kBAAA;ACDJ;ADKA;EAEI,kBAAA;EACA,WAAA;EACA,SAAA;EACA,kBAAA;ACJJ;ADDA;EASI,gBAAA;ACLJ;ADJA;EAaI,YAAA;EACA,WAAA;ACNJ",sourcesContent:["\n.label-edit-list {\n  .label-media {\n    width: 16px;\n    height: 16px;\n    border-radius: 8px;\n  }\n}\n\n.label-edit {\n  .label-prompt {\n    position: absolute;\n    width: 100%;\n    top: 10px;\n    text-align: center;\n  }\n\n  .label-form {\n    margin-top: 40px;\n  }\n\n  .label-colors {\n    height: 60px;\n    width: 100%;\n  }\n}\n",".label-edit-list .label-media {\n  width: 16px;\n  height: 16px;\n  border-radius: 8px;\n}\n.label-edit .label-prompt {\n  position: absolute;\n  width: 100%;\n  top: 10px;\n  text-align: center;\n}\n.label-edit .label-form {\n  margin-top: 40px;\n}\n.label-edit .label-colors {\n  height: 60px;\n  width: 100%;\n}\n"],sourceRoot:""}]),t.exports=o},361:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=t(e);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(n)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);n&&o[u[0]]||(r&&(u[2]?u[2]="".concat(r," and ").concat(u[2]):u[2]=r),e.push(u))}},e}},233:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}t.exports=function(t){var r,n,o=(n=4,function(t){if(Array.isArray(t))return t}(r=t)||function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(r,n)||function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[1],i=o[3];if(!i)return a;if("function"==typeof btoa){var c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),s="/*# ".concat(u," */"),l=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[a].concat(l).concat([s]).join("\n")}return[a].join("\n")}},310:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),c=new O(n||[]);return a(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function m(){}function v(){}var y={};l(y,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,c)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(a,i,c,u){var s=h(t[a],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,u)}))}u(s.arg)}var i;a(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,a(w,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function a(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}r.d(e,{Z:()=>c});const i={render:function(t){var e=[];if(!this.errorMessage&&this.ready){var r={layoutManager:this.layoutManager,button:this};e.push(t(this._buttonFullName(this.options),{staticClass:"atom-button-inner",props:r}))}else this.errorMessage&&e.push(t("div",{staticClass:"atom-button-inner atom-button-inner-error",domProps:{innerText:this.errorMessage}}));return t("div",{staticClass:"atom-button ".concat(this.showing?"":"display-none")},e)},props:{layoutManager:{type:Object},action:{type:Object},config:{type:Object},renderParams:{type:Object},onPerform:{type:Function}},data:function(){return{ready:!1,errorMessage:null,showing:!0}},created:function(){this.__init()},beforeDestroy:function(){this.$emit("button:destroy")},methods:{__init:function(){var t,e=this;return(t=o().mark((function t(){var r,n,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$meta.module.use(e.renderParams.module);case 2:if(r=t.sent,n=e._buttonFullName(),a=r.options.components[e.renderParams.name]){t.next=10;break}e.errorMessage="".concat(e.$text("Button Not Found"),": ").concat(n),e.ready=!1,t.next=16;break;case 10:return t.next=12,e.$meta.util.createComponentOptionsUses(a);case 12:a=e.$meta.util.createComponentOptions(a),e.$options.components[n]=a,e.ready=!0,e.errorMessage=null;case 16:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){a(i,n,o,c,u,"next",t)}function u(t){a(i,n,o,c,u,"throw",t)}c(void 0)}))})()},show:function(){this.showing=!0},hide:function(){this.showing=!1},_buttonFullName:function(){return"".concat(this.renderParams.module,":").concat(this.renderParams.name)}}},c=(0,r(792).Z)(i,void 0,void 0,!1,null,null,null).exports},629:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const n={data:function(){return{atomId:this.$f7route.query.atomId}},created:function(){var t=this;this.$api.post("/a/base/atom/star",{key:{atomId:this.atomId},atom:{star:1}}).then((function(){t.$view.dialog.alert(t.$text("Starred")).then((function(){t.openAtom()}))}))},methods:{openAtom:function(){location.assign(this.$f7route.query.returnTo)}}},o=(0,r(792).Z)(n,(function(){var t=this,e=t._self._c;return e("eb-page",[e("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Star"),"eb-back-link":"Back"}}),t._v(" "),e("f7-block")],1)}),[],!1,null,null,null).exports},596:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});var n=r(3),o=r.n(n);const a={components:{AtomList:r(307).Z},data:function(){var t=this.$f7route.query;return{layout:t&&t.layout,stats:{drafts:0,draftsFlowing:0},tabId:{drafts:o().prototype.$meta.util.nextId("drafts"),draftsFlowing:o().prototype.$meta.util.nextId("draftsFlowing")},tabName:"drafts"}},computed:{pageTitle:function(){return"drafts"===this.tabName?this.$text("Drafts"):this.$text("DraftsFlowingMineTab")}},created:function(){},methods:{getContainer:function(t){var e={stage:"draft",mine:1},r={};return"drafts"===t?(e.where={atomFlowId:0},r.actionOnClick="write"):e.where={atomFlowId:{op:">",val:0}},{options:e,params:r,layout:this.layout,autoInit:!1}},onStatsChange:function(t,e){this.stats[e]=t}}},i=(0,r(792).Z)(a,(function(){var t=this,e=t._self._c;return e("eb-page",{attrs:{"page-content":!1,tabs:"","with-subnavbar":""}},[e("eb-navbar",{attrs:{title:t.pageTitle,"eb-back-link":"Back"}},[e("f7-subnavbar",[e("f7-toolbar",{attrs:{top:"",tabbar:""}},[e("eb-link",{attrs:{"tab-link":"#".concat(t.tabId.drafts),tabLinkActive:"drafts"===t.tabName,text:t.$text("DraftsDraftingMineTab"),"badge-color":"orange",badge:t.stats.drafts,stats_params:{module:"a-base",name:"draftsDrafting"}},on:{stats_change:function(e){return t.onStatsChange(e,"drafts")}}}),t._v(" "),e("eb-link",{attrs:{"tab-link":"#".concat(t.tabId.draftsFlowing),tabLinkActive:"draftsFlowing"===t.tabName,text:t.$text("DraftsFlowingMineTab"),"badge-color":"orange",badge:t.stats.draftsFlowing,stats_params:{module:"a-base",name:"draftsFlowing"}},on:{stats_change:function(e){return t.onStatsChange(e,"draftsFlowing")}}})],1)],1)],1),t._v(" "),e("f7-tabs",{ref:"tabs"},[e("eb-tab-page-content",{attrs:{id:t.tabId.drafts,tabActive:"drafts"===t.tabName,"data-ref":"drafts"},on:{"tab:show":function(e){t.tabName="drafts"}}},[e("AtomList",{ref:"drafts",attrs:{slot:"list",container:t.getContainer("drafts")},slot:"list"})],1),t._v(" "),e("eb-tab-page-content",{attrs:{id:t.tabId.draftsFlowing,tabActive:"draftsFlowing"===t.tabName,"data-ref":"draftsFlowing"},on:{"tab:show":function(e){t.tabName="draftsFlowing"}}},[e("AtomList",{ref:"draftsFlowing",attrs:{slot:"list",container:t.getContainer("draftsFlowing")},slot:"list"})],1)],1)],1)}),[],!1,null,null,null).exports},570:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>l});var n=r(3);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var a=e&&e.prototype instanceof p?e:p,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function m(){}function v(){}var y={};l(y,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,c)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function a(n,i,c,u){var s=h(t[n],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){a("next",t,c,u)}),(function(t){a("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return a("throw",t,c,u)}))}u(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){a(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function i(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function c(t){i(a,n,o,c,u,"next",t)}function u(t){i(a,n,o,c,u,"throw",t)}c(void 0)}))}}const u={mixins:[r.n(n)().prototype.$meta.module.get("a-components").options.mixins.ebPageDirty],data:function(){return{atomId:parseInt(this.$f7route.query.atomId),item:null,labels:[],sheetOpened:!1,labelId:0,labelText:"",labelColor:"",colors:[{name:"Red",value:"red"},{name:"Orange",value:"orange"},{name:"Purple",value:"purple"},{name:"Yellow",value:"yellow"},{name:"Blue",value:"blue"},{name:"Green",value:"green"}]}},computed:{page_title:function(){return this.page_getDirtyTitle(this.$text("UserLabels"))},labelsAll:function(){return this.$store.getters["a/base/userLabels"]}},created:function(){this.init()},methods:{init:function(){var t=this;return c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("a/base/getLabels");case 2:return e.next=4,t.$api.post("/a/base/atom/read",{key:{atomId:t.atomId}});case 4:t.item=e.sent,t.labels=JSON.parse(t.item.labels)||[];case 6:case"end":return e.stop()}}),e)})))()},onPerformDone:function(){var t=this;return c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.labels.sort((function(t,e){return t-e})),e.next=3,t.$api.post("/a/base/atom/labels",{key:{atomId:t.atomId},atom:{labels:t.labels}});case 3:t.$meta.eventHub.$emit("atom:labels",{key:{atomId:t.atomId},labels:t.labels}),t.page_setDirty(!1),t.$f7router.back();case 6:case"end":return e.stop()}}),e)})))()},onPerformAddLabel:function(){this.labelId=0,this.labelText="",this.labelColor="",this.sheetOpened=!0},onEditLabel:function(t,e){this.labelId=e,this.labelText=this.labelsAll[e].text,this.labelColor=this.labelsAll[e].color,this.sheetOpened=!0},onFormSubmit:function(){this.$refs.buttonSubmit.onClick()},onPerformSubmit:function(){var t=this;return c(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.labelText&&t.labelColor){e.next=2;break}return e.abrupt("return");case 2:return r=t.$meta.util.extend({},t.labelsAll),0===t.labelId?r[t.newLabelId()]={text:t.labelText,color:t.labelColor}:r[t.labelId]={text:t.labelText,color:t.labelColor},e.next=6,t.$api.post("/a/base/user/setLabels",{labels:r});case 6:t.$store.commit("a/base/setLabels",r),t.sheetOpened=!1;case 8:case"end":return e.stop()}}),e)})))()},onColorSelect:function(t){this.labelColor=t.value},newLabelId:function(){var t=Object.keys(this.labelsAll);return 0===t.length?1:(t.sort((function(t,e){return e-t})),parseInt(t[0])+1)},labelChecked:function(t){return this.labels&&this.labels.indexOf(t)>-1},onLabelCheckChange:function(t,e){var r=this.labels.indexOf(e);t.currentTarget.checked&&-1===r?(this.labels.push(e),this.page_setDirty(!0)):!t.currentTarget.checked&&r>-1&&(this.labels.splice(r,1),this.page_setDirty(!0))}}},s=u;r(780);const l=(0,r(792).Z)(s,(function(){var t=this,e=t._self._c;return e("eb-page",[e("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.page_title,"eb-back-link":"Back"}},[e("f7-nav-right",[e("eb-link",{attrs:{iconF7:"::add",onPerform:t.onPerformAddLabel}}),t._v(" "),t.page_dirty?e("eb-link",{attrs:{iconF7:"::done",onPerform:t.onPerformDone}}):t._e()],1)],1),t._v(" "),t.labelsAll?e("f7-list",{staticClass:"label-edit-list"},[e("f7-list-item",{attrs:{"group-title":"",title:t.item?t.item.atomName:""}}),t._v(" "),t._l(Object.keys(t.labelsAll),(function(r){return e("eb-list-item",{key:r,attrs:{title:t.labelsAll[r].text,checkbox:"",checked:t.labelChecked(r),swipeout:""},on:{change:function(e){return t.onLabelCheckChange(e,r)}}},[e("div",{class:"label-media bg-color-".concat(t.labelsAll[r].color),attrs:{slot:"media"},slot:"media"}),t._v(" "),e("eb-context-menu",[e("div",{attrs:{slot:"right"},slot:"right"},[e("div",{attrs:{close:"",color:"orange",context:r,onPerform:t.onEditLabel}},[t._v(t._s(t.$text("Edit")))])])])],1)}))],2):t._e(),t._v(" "),e("f7-sheet",{ref:"ebSheet",staticClass:"label-edit",attrs:{fill:"",opened:t.sheetOpened},on:{"sheet:closed":function(e){t.sheetOpened=!1}}},[e("f7-toolbar",[e("div",{staticClass:"left"},[e("f7-link",{attrs:{"sheet-close":""}},[t._v(t._s(t.$text("Close")))])],1),t._v(" "),e("div",{staticClass:"right"},[e("eb-link",{ref:"buttonSubmit",attrs:{onPerform:t.onPerformSubmit}},[t._v(t._s(t.$text("Submit")))])],1)]),t._v(" "),e("f7-page-content",[e("div",{staticClass:"label-prompt"},[e("f7-badge",{attrs:{color:t.labelColor}},[t._v(t._s(t.labelText||t.$text("PleaseInputText")))])],1),t._v(" "),e("eb-list",{staticClass:"label-form",attrs:{form:"","inline-labels":"","no-hairlines-md":""},on:{submit:t.onFormSubmit}},[e("eb-list-input",{attrs:{label:t.$text("Text"),type:"text","clear-button":"",placeholder:t.$text("Text")},model:{value:t.labelText,callback:function(e){t.labelText=e},expression:"labelText"}}),t._v(" "),e("f7-list-item",[e("div",{staticClass:"row label-colors"},t._l(t.colors,(function(r){return e("f7-button",{key:r.value,class:"col-33 color-".concat(r.value),attrs:{small:"",fill:""},on:{click:function(e){return t.onColorSelect(r)}}},[t._v(t._s(t.$text(r.name)))])})),1)])],1)],1)],1)],1)}),[],!1,null,"369e8afe",null).exports},484:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});var n=r(3),o=r.n(n);const a={components:{AtomList:r(307).Z},data:function(){var t=this.$f7route.query;return{layout:t&&t.layout,stats:{stars:0,labels:{}},tabId:{stars:o().prototype.$meta.util.nextId("stars"),labels:o().prototype.$meta.util.nextId("labels")},tabName:"stars"}},computed:{pageTitle:function(){if("stars"===this.tabName)return"".concat(this.$text("Stars"));var t=this.tabName.split("_"),e=t[t.length-1];return this.userLabels[e].text},userLabels:function(){return this.$store.getters["a/base/userLabels"]}},created:function(){this.$store.dispatch("a/base/getLabels")},methods:{getContainer:function(t,e){var r={stage:"formal"};return"stars"===t?r.star=1:r.label=parseInt(e),{options:r,layout:this.layout,autoInit:!1}},onStatsChange:function(t,e,r){"stars"===e?this.stats[e]=t:this.$set(this.stats.labels,r,t)}}},i=(0,r(792).Z)(a,(function(){var t=this,e=t._self._c;return e("eb-page",{attrs:{"page-content":!1,tabs:"","with-subnavbar":""}},[e("eb-navbar",{attrs:{title:t.pageTitle,"eb-back-link":"Back"}},[e("f7-subnavbar",[e("f7-toolbar",{attrs:{top:"",tabbar:"",scrollable:t.userLabels&&Object.keys(t.userLabels).length>1}},[e("eb-link",{attrs:{"tab-link":"#".concat(t.tabId.stars),tabLinkActive:"stars"===t.tabName,text:t.$text("Stars"),"badge-color":"gray",badge:t.stats.stars,stats_params:{module:"a-base",name:"stars"}},on:{stats_change:function(e){return t.onStatsChange(e,"stars")}}}),t._v(" "),t.userLabels?t._l(Object.keys(t.userLabels),(function(r){return e("eb-link",{key:r,attrs:{"tab-link":"#".concat(t.tabId.labels,"_").concat(r),tabLinkActive:t.tabName==="".concat(t.tabId.labels,"_").concat(r),text:t.userLabels[r].text,"badge-color":t.userLabels[r].color,badge:t.stats.labels[r],stats_params:{module:"a-base",name:"labels",nameSub:r}},on:{stats_change:function(e){return t.onStatsChange(e,"labels",r)}}})})):t._e()],2)],1)],1),t._v(" "),e("f7-tabs",{ref:"tabs"},[e("eb-tab-page-content",{attrs:{id:t.tabId.stars,tabActive:"stars"===t.tabName,"data-ref":"stars"},on:{"tab:show":function(e){t.tabName="stars"}}},[e("AtomList",{ref:"stars",attrs:{slot:"list",container:t.getContainer("stars")},slot:"list"})],1),t._v(" "),t.userLabels?t._l(Object.keys(t.userLabels),(function(r){return e("eb-tab-page-content",{key:r,attrs:{id:"".concat(t.tabId.labels,"_").concat(r),tabActive:t.tabName==="".concat(t.tabId.labels,"_").concat(r),"data-ref":"".concat(t.tabId.labels,"_").concat(r)},on:{"tab:show":function(e){t.tabName="".concat(t.tabId.labels,"_").concat(r)}}},[e("AtomList",{ref:"".concat(t.tabId.labels,"_").concat(r),refInFor:!0,attrs:{slot:"list",container:t.getContainer("labels",r)},slot:"list"})],1)})):t._e()],2)],1)}),[],!1,null,null,null).exports},258:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});var n=r(3);const o={mixins:[r.n(n)().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions],data:function(){var t=this.$f7route.query,e=t&&t.module,r=t&&t.atomClassName,n=e&&r?{module:e,atomClassName:r}:null,o=t&&t.where?JSON.parse(t.where):null;if("mine"===(t&&t.scene)){o||(o={});var a=this.$store.state.auth.user.op;o["i.userId"]=a.id}return{atomClass:n,where:o,order:"desc",items:[]}},computed:{user:function(){return this.$store.state.auth.user.op}},created:function(){},mounted:function(){this.$meta.eventHub.$on("attachment:action",this.onAttachmentChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("attachment:action",this.onAttachmentChanged)},methods:{onRefresh:function(t){t(),this.reload()},onInfinite:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,r=t.index,n={where:{mode:2,attachment:1},orders:[["i_createdAt",this.order]],page:{index:r}};return this.where&&(n.where=this.where),this.$api.post("/a/file/file/all",{atomClass:this.atomClass,options:n}).then((function(t){return e.items=e.items.concat(t.list),t}))},reload:function(){this.$refs.loadMore.reload()},onPerformSort:function(){this.order="desc"===this.order?"asc":"desc",this.reload()},onAttachmentChanged:function(t){},onPerformViewAtom:function(t,e){var r=this.getAction({module:e.module,atomClassName:e.atomClassName,name:"read"});if(r)return this.$meta.util.performAction({ctx:this,action:r,item:e})},onItemClick:function(t,e){var r=this;this.$meta.config.base.jwt?this.$api.post("/a/base/jwt/create").then((function(t){r._openUrl(e,t.jwt)})):this._openUrl(e,null)},_openUrl:function(t,e){e?window.open(this.$meta.util.combineQueries(t.i_downloadUrl,{"eb-jwt":e})):window.open(t.i_downloadUrl)}}},a=(0,r(792).Z)(o,(function(){var t=this,e=t._self._c;return e("eb-page",{attrs:{ptr:"",infinite:"",infinitePreloader:!1},on:{"ptr:refresh":t.onRefresh,infinite:t.onInfinite}},[e("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Attachment List"),"eb-back-link":"Back"}},[e("f7-nav-right",[e("eb-link",{attrs:{iconF7:"desc"===t.order?"::arrow-down":"::arrow-up",onPerform:t.onPerformSort}})],1)],1),t._v(" "),e("f7-list",t._l(t.items,(function(r){return e("eb-list-item",{key:r.id,staticClass:"item",attrs:{title:r.i_realName,link:"#",context:r,onPerform:t.onItemClick}},[e("div",{staticClass:"header",attrs:{slot:"root-start"},slot:"root-start"},[e("div",{staticClass:"userName"},[e("eb-link",{attrs:{context:r,onPerform:t.onPerformViewAtom}},[t._v(t._s(r.atomName))])],1),t._v(" "),e("div",{staticClass:"date"},[t._v(t._s(t.$meta.util.formatDateTimeRelative(r.i_createdAt)))])])])})),1),t._v(" "),e("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!0}})],1)}),[],!1,null,null,null).exports},703:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),c=new O(n||[]);return a(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function m(){}function v(){}var y={};l(y,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,c)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(a,i,c,u){var s=h(t[a],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,u)}))}u(s.arg)}var i;a(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,a(w,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function a(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}r.r(e),r.d(e,{default:()=>c});const i={data:function(){return{atomId:parseInt(this.$f7route.query.atomId),items:[],actionWrite:null}},computed:{user:function(){return this.$store.state.auth.user.op}},created:function(){this.checkActionWrite()},methods:{onRefresh:function(t){t(),this.reload()},onInfinite:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,r={where:{mode:2,attachment:1},orders:[["createdAt","asc"]],page:{index:t.index}};return this.$api.post("/a/file/file/list",{key:{atomId:this.atomId},options:r}).then((function(t){return e.items=e.items.concat(t.list),t}))},reload:function(){this.$refs.loadMore.reload()},checkActionWrite:function(){var t,e=this;return(t=o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.post("/a/base/atom/checkRightAction",{key:{atomId:e.atomId},action:3,checkFlow:!0});case 2:(r=t.sent)&&0===r.atomClosed&&(e.actionWrite=r);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){a(i,n,o,c,u,"next",t)}function u(t){a(i,n,o,c,u,"throw",t)}c(void 0)}))})()},onPerformAdd:function(){var t=this;return new Promise((function(e,r){t.$view.navigate("/a/file/file/upload",{context:{params:{mode:2,atomId:t.atomId,attachment:1},callback:function(n){200===n&&(t.$meta.eventHub.$emit("attachment:action",{action:"create",atomId:t.atomId}),t.reload(),e()),!1===n&&r(new Error(""))}}})}))},onPerformDelete:function(t,e){var r=this;return this.$view.dialog.confirm().then((function(){return r.$api.post("/a/file/file/delete",{fileId:e.id}).then((function(){r.$meta.util.swipeoutClose(t.currentTarget),r.$meta.eventHub.$emit("attachment:action",{action:"delete",atomId:r.atomId,fileId:e.id}),r.deleteItem(e.id)}))}))},deleteItem:function(t){var e=this.items.findIndex((function(e){return e.id===t}));-1!==e&&this.items.splice(e,1)},onItemClick:function(t,e){var r=this;this.$meta.config.base.jwt?this.$api.post("/a/base/jwt/create").then((function(t){r._openUrl(e,t.jwt)})):this._openUrl(e,null)},_openUrl:function(t,e){e?window.open(this.$meta.util.combineQueries(t.downloadUrl,{"eb-jwt":e})):window.open(t.downloadUrl)},getItemMedia:function(t){return this.$meta.util.combineAvatarUrl(t.avatar,32)}}},c=(0,r(792).Z)(i,(function(){var t=this,e=t._self._c;return e("eb-page",{attrs:{ptr:"",infinite:"",infinitePreloader:!1},on:{"ptr:refresh":t.onRefresh,infinite:t.onInfinite}},[e("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Attachment List"),"eb-back-link":"Back"}},[e("f7-nav-right",[t.actionWrite?e("eb-link",{attrs:{iconF7:"::add",onPerform:t.onPerformAdd}}):t._e()],1)],1),t._v(" "),e("f7-list",t._l(t.items,(function(r){return e("eb-list-item",{key:r.id,staticClass:"item",attrs:{title:r.realName,link:"#",context:r,onPerform:t.onItemClick,swipeout:r.userId===t.user.id}},[e("div",{attrs:{slot:"media"},slot:"media"},[e("img",{staticClass:"avatar avatar32",attrs:{src:t.getItemMedia(r)}})]),t._v(" "),e("div",{staticClass:"header",attrs:{slot:"root-start"},slot:"root-start"},[e("div",{staticClass:"userName"},[e("span",[t._v(t._s(r.userName))])]),t._v(" "),e("div",{staticClass:"date"},[t._v(t._s(t.$meta.util.formatDateTimeRelative(r.createdAt)))])]),t._v(" "),t.actionWrite?e("eb-context-menu",[e("div",{attrs:{slot:"right"},slot:"right"},[e("div",{attrs:{color:"orange",context:r,onPerform:t.onPerformDelete}},[t._v(t._s(t.$text("Delete")))])])]):t._e()],1)})),1),t._v(" "),e("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!0}})],1)}),[],!1,null,null,null).exports},850:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n=(0,r(792).Z)({data:function(){return{}}},(function(){var t=this,e=t._self._c;return e("eb-page",[e("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("About"),"eb-back-link":"Back"}},[e("f7-nav-right",[e("f7-link",{attrs:{external:!0,target:"_blank",href:"https://github.com/zhennann/cabloy/blob/master/src/module-system/a-basefront/front/src/pages/base/about.vue"}},[t._v("\n        "+t._s(t.$text("kitchenSinkSource"))+"\n      ")])],1)],1),t._v(" "),e("f7-toolbar",{attrs:{position:"bottom"}},[e("f7-link",{attrs:{external:"",target:"_blank",href:"https://cabloy.com"}},[t._v(t._s(t.$text("Documentation")))]),t._v(" "),e("f7-link",{attrs:{external:"",target:"_blank",href:"https://community.cabloy.com"}},[t._v(t._s(t.$text("Community")))]),t._v(" "),e("f7-link",{attrs:{external:"",target:"_blank",href:"https://github.com/zhennann/cabloy"}},[t._v("GitHub")])],1),t._v(" "),e("f7-block-title",[t._v(t._s(t.$text("Welcome to CabloyJS")))]),t._v(" "),e("f7-block",{attrs:{strong:""}},[e("div",{staticClass:"alert-info"},[t._v(t._s(t.$text("CabloyAboutTip1")))]),t._v(" "),e("p",[t._v(t._s(t.$text("CabloyAboutTip2")))]),t._v(" "),e("p",[t._v(t._s(t.$text("CabloyAboutTip3")))]),t._v(" "),e("p",[t._v(t._s(t.$text("CabloyAboutTip4")))])])],1)}),[],!1,null,"6dc9d108",null).exports},73:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const n={components:{},data:function(){return{data:JSON.parse(this.$f7route.query.data)}},computed:{pageTitle:function(){return this.$store.state.auth.instance.title}},methods:{}},o=(0,r(792).Z)(n,(function(){var t=this,e=t._self._c;return e("eb-page",[e("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.pageTitle,"eb-back-link":"Back"}}),t._v(" "),e("f7-card",[e("f7-card-header",[t._v(t._s(t.data.title||t.$text("Friendly Tips")))]),t._v(" "),e("f7-card-content",[t._v("\n      "+t._s(t.data.message)+"\n    ")]),t._v(" "),t.data.link?e("f7-card-footer",[e("div"),t._v(" "),e("eb-link",{attrs:{"eb-href":t.data.link}},[t._v(t._s(t.data.linkText||t.$text("Link")))])],1):t._e()],1)],1)}),[],!1,null,"0494e83e",null).exports},765:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const n={components:{},data:function(){return{data:JSON.parse(this.$f7route.query.data)}},computed:{pageTitle:function(){return this.$store.state.auth.instance.title}},methods:{onPerformOpenLink:function(){window.open(this.data.link,this.data.target||"_blank"),this.$f7router.back()}}},o=(0,r(792).Z)(n,(function(){var t=this,e=t._self._c;return e("eb-page",[e("eb-navbar",{attrs:{title:t.pageTitle,"eb-back-link":"Back"}}),t._v(" "),e("f7-card",[e("f7-card-header",[t._v(t._s(t.data.title||t.$text("OpenLinkTitleRedirect")))]),t._v(" "),e("f7-card-content",[e("eb-link",{attrs:{onPerform:t.onPerformOpenLink}},[t._v(t._s(t.data.linkText||t.$text("Open Link")))])],1)],1)],1)}),[],!1,null,"84cac672",null).exports},554:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>c});var n=r(3),o=r.n(n),a=r(170);const i={mixins:[o().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{categorySelect:a.Z},data:function(){var t=this.$f7route.query;return{atomClass:{module:t.module,atomClassName:t.atomClassName},language:t.language}},computed:{categoryIdStart:function(){return this.contextParams.categoryIdStart},multiple:function(){return this.contextParams.multiple},catalogOnly:function(){return this.contextParams.catalogOnly},leafOnly:function(){return this.contextParams.leafOnly},disabledCategoryIds:function(){return this.contextParams.disabledCategoryIds},selectedCategoryIds:function(){return this.contextParams.selectedCategoryIds}},methods:{onPerformDone:function(){var t,e=this.$refs.tree.getInstance().checked();t=e&&0!==e.length?e:null,this.contextCallback(200,t),this.$f7router.back()}}},c=(0,r(792).Z)(i,(function(){var t=this,e=t._self._c;return e("eb-page",[e("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Select Category"),"eb-back-link":"Back"}},[e("f7-nav-right",[e("eb-link",{attrs:{iconF7:"::done",onPerform:t.onPerformDone}})],1)],1),t._v(" "),e("categorySelect",{ref:"tree",attrs:{atomClass:t.atomClass,language:t.language,categoryIdStart:t.categoryIdStart,multiple:t.multiple,catalogOnly:t.catalogOnly,leafOnly:t.leafOnly,disabledCategoryIds:t.disabledCategoryIds,selectedCategoryIds:t.selectedCategoryIds}})],1)}),[],!1,null,null,null).exports},717:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});var n=r(3);const o={mixins:[r.n(n)().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions],data:function(){var t=this.$f7route.query,e=t&&t.module,r=t&&t.atomClassName,n=e&&r?{module:e,atomClassName:r}:null,o=t&&t.where?JSON.parse(t.where):null;if("mine"===(t&&t.scene)){o||(o={});var a=this.$store.state.auth.user.op;o["h.userId"]=a.id}return{atomClass:n,where:o,order:"desc",items:[],moduleMarkdownRender:null,rightDeleteComment:!1}},computed:{user:function(){return this.$store.state.auth.user.op},markdownHost:function(){return{}}},created:function(){var t=this;this.$api.post("/a/base/resource/check",{atomStaticKeys:["a-base:deleteComment"]}).then((function(e){t.rightDeleteComment=e[0].passed,t.$meta.module.use("a-markdownrender",(function(e){t.moduleMarkdownRender=e}))}))},mounted:function(){this.$meta.eventHub.$on("comment:action",this.onCommentChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("comment:action",this.onCommentChanged)},methods:{onRefresh:function(t){t(),this.reload()},onInfinite:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,r=t.index,n={orders:[["h_updatedAt",this.order]],page:{index:r}};return this.where&&(n.where=this.where),this.$api.post("/a/base/comment/all",{atomClass:this.atomClass,options:n}).then((function(t){return e.items=e.items.concat(t.list),t}))},reload:function(){this.$refs.loadMore.reload()},onPerformDelete:function(t,e){var r=this;return this.$view.dialog.confirm().then((function(){return r.$api.post("/a/base/comment/delete",{key:{atomId:e.atomId},data:{commentId:e.h_id}}).then((function(t){return r.$meta.eventHub.$emit("comment:action",t),!0}))}))},onPerformHeart:function(t,e){var r=this;if(!this.user.anonymous)return this.$api.post("/a/base/comment/heart",{key:{atomId:e.atomId},data:{commentId:e.h_id,heart:e.h_heart?0:1}}).then((function(t){r.$meta.eventHub.$emit("comment:action",t)}));this.$view.dialog.confirm(this.$text("Please Sign In")).then((function(){r.$meta.vueLayout.openLogin()}))},onCommentChanged:function(t){var e=this,r=t.action,n=t.atomId,o=t.commentId;if("create"!==r){var a=this.items.findIndex((function(t){return t.h_id===o}));"delete"!==r?-1!==a&&this.$api.post("/a/base/comment/item",{key:{atomId:n},data:{commentId:o}}).then((function(t){for(var r=e.items[a],n=0,o=Object.keys(t);n<o.length;n++){var i=o[n];r["h_".concat(i)]=t[i]}})):-1!==a&&this.items.splice(a,1)}else this.reload()},onPerformSort:function(){this.order="desc"===this.order?"asc":"desc",this.reload()},onPerformViewAtom:function(t,e){var r=this.getAction({module:e.module,atomClassName:e.atomClassName,name:"read"});if(r)return this.$meta.util.performAction({ctx:this,action:r,item:e})},getItemMedia:function(t){return this.$meta.util.combineAvatarUrl(t.h_avatar,32)}}},a=(0,r(792).Z)(o,(function(){var t=this,e=t._self._c;return e("eb-page",{attrs:{ptr:"",infinite:"",infinitePreloader:!1},on:{"ptr:refresh":t.onRefresh,infinite:t.onInfinite}},[e("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Comment List"),"eb-back-link":"Back"}},[e("f7-nav-right",[e("eb-link",{attrs:{iconF7:"desc"===t.order?"::arrow-down":"::arrow-up",onPerform:t.onPerformSort}})],1)],1),t._v(" "),t.moduleMarkdownRender?t._l(t.items,(function(r){return e("f7-card",{key:r.h_id,staticClass:"comment"},[e("f7-card-header",[e("div",{staticClass:"header-container"},[e("div",{staticClass:"header-atom"},[e("eb-link",{attrs:{context:r,onPerform:t.onPerformViewAtom}},[t._v(t._s(r.atomName))])],1),t._v(" "),e("div",{staticClass:"header-comment"},[e("div",{staticClass:"title"},[e("img",{staticClass:"avatar avatar32",attrs:{src:t.getItemMedia(r)}}),t._v(" "),e("div",{staticClass:"name"},[t._v(t._s(r.h_userName))]),t._v(" "),e("div",{staticClass:"date"},[t._v("\n                #"+t._s(r.h_sorting)+"  "+t._s(t.$meta.util.formatDateTimeRelative(r.h_createdAt))+"\n              ")])]),t._v(" "),e("div",{staticClass:"actions"},[r.h_userId===t.user.id?e("eb-link",{staticClass:"action",attrs:{iconF7:"::edit",iconSize:"18","eb-href":"/a/basefront/comment/item?atomId=".concat(r.atomId,"&commentId=").concat(r.h_id,"&replyId=0")}}):t._e(),t._v(" "),r.h_userId===t.user.id||t.rightDeleteComment?e("eb-link",{staticClass:"action",attrs:{iconF7:"::delete-forever",iconSize:"18",context:r,onPerform:t.onPerformDelete}}):t._e(),t._v(" "),e("eb-link",{staticClass:"action",attrs:{iconF7:r.h_heart?"::heart":":outline:heart-outline",iconSize:"18",context:r,onPerform:t.onPerformHeart}},[t._v(t._s(r.h_heartCount))]),t._v(" "),t.user.anonymous?t._e():e("eb-link",{staticClass:"action",attrs:{iconF7:"::reply",iconSize:"18","eb-href":"/a/basefront/comment/item?atomId=".concat(r.atomId,"&commentId=0&replyId=").concat(r.h_id)}})],1)])])]),t._v(" "),e("f7-card-content",{attrs:{padding:""}},[e("eb-markdown-render",{attrs:{host:t.markdownHost,html:r.h_html}})],1)],1)})):t._e(),t._v(" "),e("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!0}})],2)}),[],!1,null,null,null).exports},907:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const n={data:function(){return{atomId:this.$f7route.query.atomId,commentId:this.$f7route.query.commentId}},created:function(){var t=this;this.$api.post("/a/base/comment/heart",{key:{atomId:this.atomId},atom:{star:1},data:{commentId:this.commentId,heart:1}}).then((function(){t.$view.dialog.alert(t.$text("Hearted")).then((function(){t.openAtom()}))}))},methods:{openAtom:function(){location.assign(this.$f7route.query.returnTo)}}},o=(0,r(792).Z)(n,(function(){var t=this,e=t._self._c;return e("eb-page",[e("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("HeartForAtom"),"eb-back-link":"Back"}}),t._v(" "),e("f7-block")],1)}),[],!1,null,null,null).exports},283:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>s});var n=r(3);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var a=e&&e.prototype instanceof p?e:p,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function m(){}function v(){}var y={};l(y,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,c)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function a(n,i,c,u){var s=h(t[n],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){a("next",t,c,u)}),(function(t){a("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return a("throw",t,c,u)}))}u(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){a(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function i(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function c(t){i(a,n,o,c,u,"next",t)}function u(t){i(a,n,o,c,u,"throw",t)}c(void 0)}))}}const u={mixins:[r.n(n)().prototype.$meta.module.get("a-components").options.mixins.ebPageDirty],meta:{size:"medium"},data:function(){return{atomId:parseInt(this.$f7route.query.atomId),commentId:parseInt(this.$f7route.query.commentId||0),replyId:parseInt(this.$f7route.query.replyId||0),module:null,comment:null,reply:null,content:""}},computed:{page_title:function(){var t=this.$text("Comment");return this.page_getDirtyTitle(t)},ready:function(){return this.module&&(0===this.commentId||this.comment)&&(0===this.replyId||this.reply)},readOnly:function(){return!1},host:function(){return{atomId:this.atomId,opts:{upload:{flag:"comment"}}}}},created:function(){var t=this;this.$meta.module.use("a-markdown",(function(e){t.module=e})),this.loadComment(this.commentId),this.loadReply(this.replyId)},methods:{loadComment:function(t){var e=this;return c(a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.$api.post("/a/base/comment/item",{key:{atomId:e.atomId},data:{commentId:t}});case 4:n=r.sent,e.comment=n,e.content=e.comment.content;case 7:case"end":return r.stop()}}),r)})))()},loadReply:function(t){var e=this;return c(a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.$api.post("/a/base/comment/item",{key:{atomId:e.atomId},data:{commentId:t}});case 4:n=r.sent,e.reply=n;case 6:case"end":return r.stop()}}),r)})))()},onInput:function(t){this.content!==t&&(this.content=t,this.page_setDirty(!0))},onSave:function(){this.$refs.buttonSave.onClick()},onPerformSave:function(){var t=this;return c(a().mark((function e(){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.content){e.next=2;break}return e.abrupt("return");case 2:if(t.$refs.editor){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.$refs.editor.checkContent();case 6:return e.next=8,t.$api.post("/a/base/comment/save",{key:{atomId:t.atomId},data:{commentId:t.commentId,replyId:t.replyId,content:t.content}});case 8:r=e.sent,t.page_setDirty(!1),t.$meta.eventHub.$emit("comment:action",r),(n=t.$f7route.query.returnTo)?location.assign(n):t.$f7router.back();case 13:case"end":return e.stop()}}),e)})))()},onPreRender:function(t){if(this.comment)return this.fullContent({content:t,replyContent:this.comment.replyContent,replyUserName:this.comment.replyUserName});if(this.reply){var e=this.fullContent({content:this.reply.content,replyContent:this.reply.replyContent,replyUserName:this.reply.replyUserName});return this.fullContent({content:t,replyContent:e,replyUserName:this.reply.userName})}return t},fullContent:function(t){var e=t.content,r=t.replyContent,n=t.replyUserName;if(!r)return e;var o=this._getMarkdownSep(r);return"".concat(e,"\n\n> `").concat(n,"`:\n\n").concat(o," comment-quot\n").concat(r,"\n").concat(o,"\n\n")},_getMarkdownSep:function(t){var e=t.indexOf(":::");if(-1===e)return":::";for(var r=e+3;":"===t[r];)++r;return":".repeat(r-e+1)}}},s=(0,r(792).Z)(u,(function(){var t=this,e=t._self._c;return e("eb-page",[e("eb-navbar",{attrs:{title:t.page_title,"eb-back-link":"Back"}},[e("f7-nav-right",[e("eb-link",{ref:"buttonSave",attrs:{iconF7:"::save",onPerform:t.onPerformSave}})],1)],1),t._v(" "),t.ready?[e("eb-box",[e("eb-markdown-editor",{ref:"editor",attrs:{readOnly:t.readOnly,host:t.host,value:t.content},on:{input:t.onInput,save:t.onSave}})],1)]:t._e()],2)}),[],!1,null,null,null).exports},33:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>l});var n=r(3),o=r.n(n);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(){i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var a=e&&e.prototype instanceof p?e:p,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function m(){}function v(){}var y={};l(y,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,c)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,c,u){var s=h(t[n],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,u)}))}u(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){c(a,n,o,i,u,"next",t)}function u(t){c(a,n,o,i,u,"throw",t)}i(void 0)}))}}const s={mixins:[o().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions,o().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],data:function(){return{atomId:parseInt(this.$f7route.query.atomId),commentId:parseInt(this.$f7route.query.commentId||0),order:"desc",items:[],moduleMarkdownRender:null,single:!0,atom:null}},computed:{user:function(){return this.$store.state.auth.user.op},showSingle:function(){return this.commentId>0&&this.single},markdownHost:function(){return{atomId:this.atom.atomId,atom:this.atom}}},created:function(){var t=this;this.$meta.module.use("a-markdownrender",(function(e){t.moduleMarkdownRender=e})),this._loadAtom()},mounted:function(){this.$meta.eventHub.$on("comment:action",this.onCommentChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("comment:action",this.onCommentChanged)},methods:{onRefresh:function(t){t(),this.reload()},onInfinite:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,r=t.index,n={};this.showSingle&&(n.id=this.commentId);var o={where:n,orders:[["updatedAt",this.order]],page:{index:r}};return this.$api.post("/a/base/comment/list",{key:{atomId:this.atomId},options:o}).then((function(t){return e.items=e.items.concat(t.list),t}))},reload:function(){this.$refs.loadMore.reload()},_loadAtom:function(){var t=this;return u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.contextParams||!t.contextParams.atom){e.next=4;break}t.atom=t.contextParams.atom,e.next=7;break;case 4:return e.next=6,t.$api.post("/a/base/atom/read",{key:{atomId:t.atomId}});case 6:t.atom=e.sent;case 7:case"end":return e.stop()}}),e)})))()},onPerformViewAtom:function(){var t=this;return u(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.atom){e.next=2;break}return e.abrupt("return");case 2:if(r=t.getAction({module:t.atom.module,atomClassName:t.atom.atomClassName,name:"read"})){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",t.$meta.util.performAction({ctx:t,action:r,item:t.atom}));case 6:case"end":return e.stop()}}),e)})))()},onPerformDelete:function(t,e){var r=this;return this.$view.dialog.confirm().then((function(){return r.$api.post("/a/base/comment/delete",{key:{atomId:r.atomId},data:{commentId:e.id}}).then((function(t){return r.$meta.eventHub.$emit("comment:action",t),!0}))}))},onPerformHeart:function(t,e){var r=this;if(!this.user.anonymous)return this.$api.post("/a/base/comment/heart",{key:{atomId:this.atomId},data:{commentId:e.id,heart:e.heart?0:1}}).then((function(t){r.$meta.eventHub.$emit("comment:action",t)}));this.$view.dialog.confirm(this.$text("Please Sign In")).then((function(){r.$meta.vueLayout.openLogin()}))},onCommentChanged:function(t){var e=this,r=t.action,n=t.atomId,a=t.commentId;if(n===this.atomId)if("create"!==r){var i=this.items.findIndex((function(t){return t.id===a}));"delete"!==r?-1!==i&&this.$api.post("/a/base/comment/item",{key:{atomId:this.atomId},data:{commentId:a}}).then((function(t){o().set(e.items,i,t)})):-1!==i&&this.items.splice(i,1)}else this.reload()},onPerformSort:function(){this.order="desc"===this.order?"asc":"desc",this.reload()},getItemMedia:function(t){return this.$meta.util.combineAvatarUrl(t.avatar,32)},onPerformShowAllComments:function(){this.single=!1,this.reload()}}},l=(0,r(792).Z)(s,(function(){var t=this,e=t._self._c;return e("eb-page",{attrs:{ptr:"",infinite:"",infinitePreloader:!1},on:{"ptr:refresh":t.onRefresh,infinite:t.onInfinite}},[e("eb-navbar",{attrs:{title:t.$text("Comment List"),"eb-back-link":"Back"}},[e("f7-nav-right",[t.user.anonymous?t._e():e("eb-link",{attrs:{iconF7:"::add","eb-href":"/a/basefront/comment/item?atomId=".concat(t.atomId,"&commentId=0&replyId=0")}}),t._v(" "),e("eb-link",{attrs:{iconF7:"desc"===t.order?"::arrow-down":"::arrow-up",onPerform:t.onPerformSort}})],1),t._v(" "),e("f7-subnavbar",[e("div"),t._v(" "),t.atom?e("eb-link",{attrs:{onPerform:t.onPerformViewAtom}},[e("span",{staticClass:"eb-text-overflow-ellipsis"},[t._v(t._s(t.atom.atomName))])]):t._e()],1)],1),t._v(" "),t.moduleMarkdownRender&&t.atom?t._l(t.items,(function(r){return e("f7-card",{key:r.id,staticClass:"comment"},[e("f7-card-header",[e("div",{staticClass:"title"},[e("img",{staticClass:"avatar avatar32",attrs:{src:t.getItemMedia(r)}}),t._v(" "),e("div",{staticClass:"name"},[t._v(t._s(r.userName))]),t._v(" "),e("div",{staticClass:"date"},[t._v("#"+t._s(r.sorting)+"  "+t._s(t.$meta.util.formatDateTimeRelative(r.createdAt)))])]),t._v(" "),e("div",{staticClass:"actions"},[r.userId===t.user.id?e("eb-link",{staticClass:"action",attrs:{iconF7:"::edit",iconSize:"18","eb-href":"/a/basefront/comment/item?atomId=".concat(t.atomId,"&commentId=").concat(r.id,"&replyId=0")}}):t._e(),t._v(" "),r.userId===t.user.id?e("eb-link",{staticClass:"action",attrs:{iconF7:"::delete-forever",iconSize:"18",context:r,onPerform:t.onPerformDelete}}):t._e(),t._v(" "),e("eb-link",{staticClass:"action",attrs:{iconF7:r.heart?"::heart":":outline:heart-outline",iconSize:"18",iconBadge:r.heartCount,badgeColor:"orange",context:r,onPerform:t.onPerformHeart}}),t._v(" "),t.user.anonymous?t._e():e("eb-link",{staticClass:"action",attrs:{iconF7:"::reply",iconSize:"18","eb-href":"/a/basefront/comment/item?atomId=".concat(t.atomId,"&commentId=0&replyId=").concat(r.id)}})],1)]),t._v(" "),e("f7-card-content",{attrs:{padding:""}},[e("eb-markdown-render",{attrs:{host:t.markdownHost,html:r.html}})],1)],1)})):t._e(),t._v(" "),e("eb-load-more",{ref:"loadMore",class:t.showSingle?"display-none":"",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!0}}),t._v(" "),t.showSingle?e("eb-button",{attrs:{onPerform:t.onPerformShowAllComments}},[t._v(t._s(t.$text("ShowAllComments")))]):t._e()],2)}),[],!1,null,null,null).exports},476:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===n(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(){c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,i=Object.create(a.prototype),c=new O(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function m(){}function v(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,i)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function a(o,i,c,u){var s=h(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){a("next",t,c,u)}),(function(t){a("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return a("throw",t,c,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){a(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,o(w,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function u(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){u(a,n,o,i,c,"next",t)}function c(t){u(a,n,o,i,c,"throw",t)}i(void 0)}))}}r.r(e),r.d(e,{default:()=>f});const l={data:function(){var t=this.$f7route.query;return{atomId:parseInt(t.atomId),items:null}},created:function(){this.reload()},methods:{combineAtomClassAndLanguage:function(){var t={module:this.atomClass.module,atomClassName:this.atomClass.atomClassName};return this.language&&(t.language=this.language),t},onRefresh:function(t){t(),this.reload()},reload:function(){var t=this;this.$api.post("/a/base/resource/resourceRoles",{key:{atomId:this.atomId}}).then((function(e){t.items=e.list}))},onPerformAdd:function(){var t=this;return s(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$view.navigate("/a/baseadmin/role/select",{target:"_self",context:{params:{roleIdStart:null,multiple:!0},callback:function(e,r){200===e&&t._resourceRoleAdd(r)}}});case 1:case"end":return e.stop()}}),e)})))()},_resourceRoleAdd:function(t){var e=this;return s(c().mark((function r(){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t&&0!==t.length){r.next=3;break}return r.abrupt("return");case 3:return n=t.map((function(t){return t.itemId})),r.next=6,e.$api.post("/a/base/resource/resourceRoleAdd",{key:{atomId:e.atomId},data:{roles:n}});case 6:e.reload(),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),e.$view.toast.show({text:r.t0.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},onItemClick:function(t,e){var r=this;return s(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.onPerformEdit(t,e);case 2:case"end":return n.stop()}}),n)})))()},onPerformEdit:function(t,e){var r=this;return s(c().mark((function t(){var n,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.$view.dialog.prompt(r.$text("Please specify the new tag name"));case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,r.$api.post("/a/base/tag/save",{tagId:e.id,data:{tagName:n}});case 7:-1!==(o=r.items.findIndex((function(t){return t.id===e.id})))&&r.items.splice(o,1,a(a({},e),{},{tagName:n}));case 9:case"end":return t.stop()}}),t)})))()},onPerformRemove:function(t,e){var r=this;return s(c().mark((function n(){var o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.$view.dialog.confirm();case 2:return n.next=4,r.$api.post("/a/base/resource/resourceRoleRemove",{key:{atomId:r.atomId},data:{roleId:e.roleId}});case 4:r.$meta.util.swipeoutClose(t.currentTarget),-1!==(o=r.items.findIndex((function(t){return t.id===e.id})))&&r.items.splice(o,1);case 7:case"end":return n.stop()}}),n)})))()}}},f=(0,r(792).Z)(l,(function(){var t=this,e=t._self._c;return e("eb-page",{attrs:{ptr:""},on:{"ptr:refresh":t.onRefresh}},[e("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Authorize"),"eb-back-link":"Back"}},[e("f7-nav-right",[e("eb-link",{attrs:{iconF7:"::add",onPerform:t.onPerformAdd}})],1)],1),t._v(" "),e("f7-list",t._l(t.items,(function(r){return e("eb-list-item",{key:r.id,staticClass:"item",attrs:{title:r.roleNameLocale,swipeout:""}},[e("eb-context-menu",[e("div",{attrs:{slot:"right"},slot:"right"},[e("div",{attrs:{color:"red",context:r,onPerform:t.onPerformRemove}},[t._v(t._s(t.$text("Remove")))])])])],1)})),1),t._v(" "),t.items&&0===t.items.length?e("div",{staticClass:"text-align-center"},[t._v(t._s(t.$text("No Data")))]):t._e()],1)}),[],!1,null,"be34cb86",null).exports},319:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>f});var n=r(3);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(){c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var a=e&&e.prototype instanceof p?e:p,i=Object.create(a.prototype),c=new O(o||[]);return n(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function m(){}function v(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==e&&r.call(b,i)&&(y=b);var w=v.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function a(n,i,c,u){var s=h(t[n],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){a("next",t,c,u)}),(function(t){a("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return a("throw",t,c,u)}))}u(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){a(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function u(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){u(a,n,o,i,c,"next",t)}function c(t){u(a,n,o,i,c,"throw",t)}i(void 0)}))}}const l={mixins:[r.n(n)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],data:function(){var t=this.$f7route.query;return{maxLevelAutoOpened:parseInt(t.maxLevelAutoOpened||1),resourceType:t.resourceType,treeData:null,resourcesArrayAll:null}},computed:{ready:function(){return this.treeData&&this.resourcesArrayAll},pageTitle:function(){var t=this.$store.getState("a/base/resourceTypes");return t?"".concat(this.$text("Select")," ").concat(t[this.resourceType].titleLocale):null},multiple:function(){return this.contextParams.multiple},fixed:function(){return this.contextParams.fixed},checkedAtomStaticKeys:function(){return this.contextParams.checkedAtomStaticKeys},root:function(){return{attrs:{itemToggle:!1,selectable:!1,multiple:this.multiple}}}},created:function(){this.__init()},methods:{__init:function(){var t=this;return s(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("a/base/getResourceTypes");case 2:return e.next=4,t.$store.dispatch("a/base/getResourcesArray",{resourceType:t.resourceType});case 4:return t.resourcesArrayAll=e.sent,e.next=7,t.$store.dispatch("a/base/getCategoryTreeResource",{resourceType:t.resourceType});case 7:t.treeData=e.sent;case 8:case"end":return e.stop()}}),e)})))()},combineAtomClassAndLanguage:function(){var t={module:this.atomClass.module,atomClassName:this.atomClass.atomClassName};return this.language&&(t.language=this.language),t},_loadNodeCategories:function(t,e){var r=this;return s(c().mark((function n(){var o,i,u,s,l,f,h,d,p;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=t.__level||0,i=o+1,u=t.root?r.treeData:t.data.children,s=[],l=a(u),n.prev=5,l.s();case 7:if((f=l.n()).done){n.next=17;break}if(h=f.value,d=!1,p={id:h.id,attrs:{id:e._calcNodeAttrId(t,h),label:h.categoryNameLocale,toggle:!0,itemToggle:!0,loadChildren:!0,checkbox:d,checkOnLabel:d,selectable:d},data:h,__level:i},!(i<=r.maxLevelAutoOpened||-1===r.maxLevelAutoOpened)){n.next=14;break}return n.next=14,e._preloadChildren(p);case 14:s.push(p);case 15:n.next=7;break;case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(5),l.e(n.t0);case 22:return n.prev=22,l.f(),n.finish(22);case 25:return n.abrupt("return",s);case 26:case"end":return n.stop()}}),n,null,[[5,19,22,25]])})))()},_checkCheckedInit:function(t){return!!this.checkedAtomStaticKeys&&this.checkedAtomStaticKeys.findIndex((function(e){return e===t.atomStaticKey}))>-1},_loadNodeResources:function(t){var e=this;return s(c().mark((function r(){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.resourcesArrayAll.filter((function(e){return e.atomCategoryId===t.id})),r.abrupt("return",n.map((function(t){var r=!0,n=e._checkCheckedInit(t),o="disabled"===e.fixed&&!0===JSON.parse(t.resourceConfig).fixed;return{id:t.atomId,attrs:{label:t.atomNameLocale,toggle:!1,loadChildren:!1,checkbox:r,checked:n,checkOnLabel:r,selectable:r,itemToggle:!1,disabled:o},data:t}})));case 2:case"end":return r.stop()}}),r)})))()},onLoadChildren:function(t,e){var r=this;return s(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.root&&1!==t.data.categoryCatalog){n.next=4;break}return n.next=3,r._loadNodeCategories(t,e);case 3:case 6:return n.abrupt("return",n.sent);case 4:return n.next=6,r._loadNodeResources(t,e);case 7:case"end":return n.stop()}}),n)})))()},onPerformDone:function(){var t,e=this.$refs.tree.checked();t=e&&0!==e.length?e:null,this.contextCallback(200,t),this.$f7router.back()}}},f=(0,r(792).Z)(l,(function(){var t=this,e=t._self._c;return e("eb-page",[e("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.pageTitle,"eb-back-link":"Back"}},[e("f7-nav-right",[e("eb-link",{attrs:{iconF7:"::done",onPerform:t.onPerformDone}})],1)],1),t._v(" "),t.ready?e("eb-treeview",{ref:"tree",attrs:{root:t.root,onLoadChildren:t.onLoadChildren}}):t._e(),t._v(" "),e("f7-block")],1)}),[],!1,null,"36c61c45",null).exports},300:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>c});var n=r(3),o=r.n(n),a=r(245);const i={mixins:[o().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{tagSelect:a.Z},data:function(){var t=this.$f7route.query;return{atomClass:{module:t.module,atomClassName:t.atomClassName},language:t.language,searchQuery:null}},computed:{selectedTags:function(){return this.contextParams.selectedTags},multiple:function(){return!1!==this.contextParams.multiple},showBlockCurrent:function(){return!1!==this.contextParams.showBlockCurrent}},created:function(){var t=this;this.onSearch=this.$meta.util.debounce((function(e,r){t.searchQuery=r}),200)},methods:{onPerformDone:function(){var t=this.$refs.tagSelect.checked();this.contextCallback(200,t),this.$f7router.back()},onPerformSearch:function(){this.$refs.searchbar.f7Searchbar.enable()},onDisable:function(){this.searchQuery=null}}},c=(0,r(792).Z)(i,(function(){var t=this,e=t._self._c;return e("eb-page",[e("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Select Tags"),"eb-back-link":"Back"}},[e("f7-nav-right",[e("eb-link",{attrs:{iconF7:"::search",onPerform:t.onPerformSearch}}),t._v(" "),e("eb-link",{ref:"buttonSubmit",attrs:{iconF7:"::done",onPerform:t.onPerformDone}})],1),t._v(" "),e("f7-searchbar",{ref:"searchbar",attrs:{expandable:"",backdrop:!1,"disable-button":!0,"clear-button":!0,"custom-search":!0},on:{"searchbar:search":t.onSearch,"searchbar:disable":t.onDisable}})],1),t._v(" "),e("tagSelect",{ref:"tagSelect",attrs:{atomClass:t.atomClass,language:t.language,multiple:t.multiple,searchQuery:t.searchQuery,selectedTags:t.selectedTags,showBlockCurrent:t.showBlockCurrent}})],1)}),[],!1,null,null,null).exports},792:(t,e,r)=>{"use strict";function n(t,e,r,n,o,a,i,c){var u,s="function"==typeof t?t.options:t;if(e&&(s.render=e,s.staticRenderFns=r,s._compiled=!0),n&&(s.functional=!0),a&&(s._scopeId="data-v-"+a),i?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},s._ssrRegister=u):o&&(u=c?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),u)if(s.functional){s._injectStyles=u;var l=s.render;s.render=function(t,e){return u.call(e),l(t,e)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,u):[u]}return{exports:t,options:s}}r.d(e,{Z:()=>n})},990:(t,e,r)=>{var n={"./atom/item.jsx":788,"./atom/list.jsx":9,"./atom/searchQuick.jsx":950,"./atom/select.jsx":544,"./atom/selecting.jsx":833};function o(t){var e=a(t);return r(e)}function a(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id=990},142:(t,e,r)=>{var n={"./atom/autoStar.vue":629,"./atom/draftTabs.vue":596,"./atom/labels.vue":570,"./atom/starTabs.vue":484,"./attachment/all.vue":258,"./attachment/list.vue":703,"./base/about.vue":850,"./base/alert.vue":73,"./base/openLink.vue":765,"./category/categorySelect.vue":554,"./comment/all.vue":717,"./comment/autoHeart.vue":907,"./comment/item.vue":283,"./comment/list.vue":33,"./resource/authorize.vue":476,"./resource/resourceSelect.vue":319,"./tag/tagSelect.vue":300};function o(t){var e=a(t);return r(e)}function a(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id=142},3:t=>{"use strict";t.exports=window.Vue}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={id:n,exports:{}};return t[n](a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";var t;r.r(n),r.d(n,{default:()=>e}),r(577);const e={install:function(e,n){return t?console.error("already installed."):(t=e,n({routes:r(267).Z,store:r(625).Z(t),config:r(835).Z,locales:r(380).Z,components:r(956).Z,mixins:r(900).Z(t)}))}}})(),window["a-basefront"]=n})();
//# sourceMappingURL=front.js.map