(()=>{var t={675:(t,e,n)=>{"use strict";n.d(e,{Z:()=>kt});var a=n(3),r=n.n(a);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}const s={meta:{global:!1},mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebActionBase],methods:{onAction:function(){return"atomName"===this.action.name?this.onAction_atomName():"dateRange"===this.action.name?this.onAction_dateRange():void 0},onAction_atomName:function(){var t=this.$props,e=t.ctx,n=t.item,a=n.value,r=n.operator,o=n.data;if(!a)return null;var i={op:r.op,val:a},s={__or__atomNameResource:[{"a.atomName":i}]},u=o.atomClass?e.getAtomClass(o.atomClass):null;return u&&u.resource&&s.__or__atomNameResource.push({"f.atomNameLocale":i}),s},onAction_dateRange:function(){var t=this.$props,e=t.ctx,n=t.item,a=n.key,r=n.property,s=n.value,u=r.ebSearch,c=r.ebParams.dateFormat;if(!s)return null;var l=u&&u.tableAlias;l=null===l?null:l||"f";var m,d,f=u&&u.fieldName||a,h=null===l?f:"".concat(l,".").concat(f),p=(m=s.split(","),d=2,function(t){if(Array.isArray(t))return t}(m)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,r,o=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){s=!0,r=t}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return o}}(m,d)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(m,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=p[0],g=p[1],v=[];if(b){var y=new Date(e.$meta.util.moment(b,c).format("YYYY-MM-DD 00:00:00"));v.push(o({},h,{op:">=",val:y}))}if(g){var _=new Date(e.$meta.util.moment(g,c).format("YYYY-MM-DD 23:59:59"));v.push(o({},h,{op:"<=",val:_}))}return 0===v.length?null:o({},"__and__".concat(f),v)}}};function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,r,o=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){s=!0,r=t}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}const f={meta:{global:!1},mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebActionBase],methods:{onAction:function(){if("dateRange"===this.action.name)return this._renderDateRange()},_renderDateRange:function(){var t=this.$props,e=t.ctx,n=t.item.context,a=n.property,r=e.getTitle(n),o=n.getValue(),i=m(this._renderDateRange_splitValue({ctx:e,context:n,value:o}),2),s=i[0],u=i[1];return[this._renderDateRange_renderProperty({ctx:e,context:n,property:a,mode:"begin",title:r,value:s}),this._renderDateRange_renderProperty({ctx:e,context:n,property:a,mode:"end",title:r,value:u})]},_renderDateRange_splitValue:function(t){var e=t.ctx,n=t.context,a=t.value,r=n.property;if(!a)return[null,null];var o=m(a.split(","),2),i=o[0],s=o[1];return[i=i?e.$meta.util.moment(i,r.ebParams.dateFormat):null,s=s?e.$meta.util.moment(s,r.ebParams.dateFormat):null]},_renderDateRange_setValue:function(t){var e=t.ctx,n=t.context,a=t.mode,r=t.value,o=n.property,i=m(this._renderDateRange_splitValue({ctx:e,context:n,value:n.getValue()}),2),s=i[0],u=i[1];"begin"===a?s=r:u=r;var c=[s=s?e.$meta.util.moment(s).format(o.ebParams.dateFormat):"",u=u?e.$meta.util.moment(u).format(o.ebParams.dateFormat):""].join(",");","===c&&(c=""),n.setValue(c)},_renderDateRange_renderProperty:function(t){var e=t.ctx,n=t.context,a=t.mode,r=t.title,o=t.value,i=n.key,s=this._renderDateRange_combineProperty({ctx:e,context:n,mode:a});return n=c(c({},n),{},{key:"".concat(i,":").concat(a),property:s}),this._renderDateRange_renderProperty2({ctx:e,context:n,mode:a,title:r,value:o})},_renderDateRange_renderProperty2:function(t){var e=this,n=t.ctx,a=t.context,r=t.mode,o=t.title,i=t.value,s=this.$createElement,u=a.key,l=a.property;return s("eb-list-input",{key:u,props:c({},{floatingLabel:!1,type:"datepicker",placeholder:n.getPlaceholder(a),resizable:!1,clearButton:!n.validate.readOnly&&!l.ebReadOnly&&!l.ebDisabled,value:i?[i]:[],readonly:!0,disabled:n.validate.readOnly||l.ebReadOnly||l.ebDisabled,calendarParams:l.ebParams}),on:{calendarChange:function(t){var o=t[0];e._renderDateRange_setValue({ctx:n,context:a,mode:r,value:o})}}},[s("div",{slot:"label",staticClass:l.ebReadOnly?"text-color-gray":""},[o]),n.__searchStates_render_list_item(a)])},_renderDateRange_combineProperty:function(t){var e=t.ctx,n=t.context,a=t.mode,r=n.property,o={type:"",ebType:"datePicker",ebDescription:"begin"===a?"Begin Date":"End Date",ebRender:null,ebSearch:{operators:"begin"===a?">=":"<="}};return e.$meta.util.extend({},r,o)}}};function h(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const p={mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebAtomClasses],props:{context:{type:Object}},data:function(){return{}},created:function(){},methods:{onChooseAtom:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,a,r,o,i,s,u,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.context,a=n.key,r=n.property,o=n.validate,void 0===(i=r.ebParams.target)&&(i="_self"),s=r.ebParams.atomClass,u=r.ebParams.selectOptions,c="string"==typeof(c=o.host&&o.host.atomId||r.ebParams.atomId)?e.context.getValue(c):c||0,l=r.ebParams.mapper,t.abrupt("return",new Promise((function(t){e.$view.navigate("/a/basefront/atom/select",{target:i,context:{params:{selectMode:"single",selectedAtomId:c,atomClass:s,options:u},callback:function(n,r){if(200===n){if(l)for(var o in l){var i=r[l[o]];e.context.setValue(i,o)}else{var s=r[a];e.context.setValue(s,a)}t(!0)}else!1===n&&t(!1)}}})})));case 9:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){h(o,a,r,i,s,"next",t)}function s(t){h(o,a,r,i,s,"throw",t)}i(void 0)}))})()}},render:function(){var t=arguments[0],e=this.context,n=e.dataPath,a=e.property,r=e.validate,o=this.context.getTitle(),i=this.context.getValue();return r.readOnly||a.ebReadOnly?t("f7-list-item",{attrs:{title:o}},[t("div",{slot:"after"},[i])]):t("eb-list-item-choose",{attrs:{link:"#",dataPath:n,title:o},props:{onChoose:this.onChooseAtom}},[t("div",{slot:"after"},[i])])}};function b(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const g={mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebAtomClasses],props:{context:{type:Object}},data:function(){return{}},computed:{value:function(){return this.context.getValue()},atomClass:function(){var t=this.value;return t&&"string"==typeof t?window.JSON5.parse(t):t},atomClassTitle:function(){var t=this.getAtomClass(this.atomClass);return t?t.titleLocale:null}},created:function(){},methods:{onChooseAtomClass:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,a,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.context.property,void 0===(a=e.$meta.util.getProperty(n,"ebParams.target"))&&(a="_self"),r=e.$meta.util.getProperty(n,"ebParams.optional"),o=e.$meta.util.getProperty(n,"ebParams.simple"),i=e.$meta.util.getProperty(n,"ebParams.inner"),t.abrupt("return",new Promise((function(t){e.$view.navigate("/a/basefront/atom/selectAtomClass",{target:a,context:{params:{atomClass:e.atomClass,optional:r,simple:o,inner:i},callback:function(a,r){var o;200===a?(o="string"===n.type?r?JSON.stringify(r):null:r,e.context.setValue(o),t(!0)):!1===a&&t(!1)}}})})));case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){b(o,a,r,i,s,"next",t)}function s(t){b(o,a,r,i,s,"throw",t)}i(void 0)}))})()}},render:function(){var t=arguments[0],e=this.context,n=e.dataPath,a=e.property,r=e.validate,o=this.context.getTitle();return r.readOnly||a.ebReadOnly?t("f7-list-item",{attrs:{title:o}},[t("div",{slot:"after"},[this.atomClassTitle])]):t("eb-list-item-choose",{attrs:{link:"#",dataPath:n,title:o},props:{onChoose:this.onChooseAtomClass}},[t("div",{slot:"after"},[this.atomClassTitle])])}};function v(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const y={props:{context:{type:Object}},data:function(){return{}},computed:{atomClass:function(){var t=this.context.parcel;return{module:t.data.module,atomClassName:t.data.atomClassName}},locales:function(){return this.$store.getState("a/base/locales")||[]}},created:function(){this.init()},methods:{init:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("a/base/getLocales");case 2:1===(n=t.sent).length&&((a=e.context.getValue("atomLanguage"))||void 0===a||e.context.setValue(n[0].value,"atomLanguage"));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){v(o,a,r,i,s,"next",t)}function s(t){v(o,a,r,i,s,"throw",t)}i(void 0)}))})()}},render:function(){var t=arguments[0],e=this.context,n=e.parcel,a=e.key,r=e.property,o=this.$utils.extend({},r,{ebType:"select",ebOptions:this.locales});return t("eb-list-item-validate",{attrs:{parcel:n,dataKey:a,property:o}})}};function _(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const x={props:{context:{type:Object}},data:function(){return{}},computed:{atomClass:function(){var t=this.context.parcel;return{module:t.data.module,atomClassName:t.data.atomClassName}}},created:function(){},methods:{combineAtomClassAndLanguage:function(t){var e={module:this.atomClass.module,atomClassName:this.atomClass.atomClassName};return t&&(e.language=t),e},onChooseCategory:function(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){var a,r,o,i,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.context.parcel,r={actionModule:"a-base",actionComponent:"action",name:"selectLocale",targetEl:t.currentTarget},!a.data.atomLanguage){e.next=6;break}o=a.data.atomLanguage,e.next=10;break;case 6:return e.next=8,n.$meta.util.performAction({ctx:n,action:r,item:a.data});case 8:(i=e.sent)&&(o=i.value,n.context.setValue(i.value,"atomLanguage"));case 10:return s=n.context.getValue("atomCategoryId"),u=[s],e.abrupt("return",new Promise((function(t){var e=n.$meta.util.combineQueries("/a/basefront/category/select",n.combineAtomClassAndLanguage(o));n.$view.navigate(e,{target:"_self",context:{params:{categoryIdStart:0,leafOnly:!0,selectedCategoryIds:u},callback:function(e,a){200===e?(a?(n.context.setValue(a.id,"atomCategoryId"),n.context.setValue(a.data.categoryName,"atomCategoryName"),n.context.setValue(a.data.categoryNameLocale,"atomCategoryNameLocale")):(n.context.setValue(0,"atomCategoryId"),n.context.setValue("","atomCategoryName"),n.context.setValue("","atomCategoryNameLocale")),t(!0)):!1===e&&t(!1)}}})})));case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(t){_(o,a,r,i,s,"next",t)}function s(t){_(o,a,r,i,s,"throw",t)}i(void 0)}))})()}},render:function(){var t=arguments[0],e=this.context,n=e.parcel,a=e.dataPath,r=e.property,o=e.validate,i=this.context.getTitle(),s=n.data.atomCategoryNameLocale||n.data.atomCategoryName;return o.readOnly||r.ebReadOnly?t("f7-list-item",{attrs:{title:i}},[t("div",{slot:"after"},[s])]):t("eb-list-item-choose",{attrs:{link:"#",dataPath:a,title:i},props:{onChoose:this.onChooseCategory}},[t("div",{slot:"after"},[s])])}};function C(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const k={props:{context:{type:Object}},data:function(){return{}},computed:{atomClass:function(){var t=this.context.parcel;return{module:t.data.module,atomClassName:t.data.atomClassName}}},created:function(){},methods:{combineAtomClassAndLanguage:function(t){var e={module:this.atomClass.module,atomClassName:this.atomClass.atomClassName};return t&&(e.language=t),e},onChooseCategory:function(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){var a,r,o,i,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.context.parcel,r={actionModule:"a-base",actionComponent:"action",name:"selectResourceType",targetEl:t.currentTarget},!a.data.resourceType){e.next=6;break}o=a.data.resourceType,e.next=10;break;case 6:return e.next=8,n.$meta.util.performAction({ctx:n,action:r,item:a.data});case 8:(i=e.sent)&&n.context.setValue(i,"resourceType");case 10:return e.next=12,n.$api.post("/a/base/category/child",{atomClass:n.atomClass,categoryId:0,categoryName:o});case 12:return s=e.sent,u=s.id,e.abrupt("return",new Promise((function(t){var e=n.$meta.util.combineQueries("/a/basefront/category/select",n.atomClass);n.$view.navigate(e,{target:"_self",context:{params:{categoryIdStart:u,leafOnly:!0,setLocale:!0},callback:function(e,a){200===e?(a?(n.context.setValue(a.id,"atomCategoryId"),n.context.setValue(a.data.categoryName,"atomCategoryName"),n.context.setValue(a.data.categoryNameLocale,"atomCategoryNameLocale")):(n.context.setValue(0,"atomCategoryId"),n.context.setValue("","atomCategoryName"),n.context.setValue("","atomCategoryNameLocale")),t(!0)):!1===e&&t(!1)}}})})));case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(t){C(o,a,r,i,s,"next",t)}function s(t){C(o,a,r,i,s,"throw",t)}i(void 0)}))})()}},render:function(){var t=arguments[0],e=this.context,n=e.parcel,a=e.dataPath,r=e.property,o=e.validate,i=this.context.getTitle(),s=n.data.atomCategoryNameLocale||n.data.atomCategoryName;return o.readOnly||r.ebReadOnly?t("f7-list-item",{attrs:{title:i}},[t("div",{slot:"after"},[s])]):t("eb-list-item-choose",{attrs:{link:"#",dataPath:a,title:i},props:{onChoose:this.onChooseCategory}},[t("div",{slot:"after"},[s])])}};function w(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function $(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){w(o,a,r,i,s,"next",t)}function s(t){w(o,a,r,i,s,"throw",t)}i(void 0)}))}}const A={props:{context:{type:Object}},data:function(){return{tagsAll:null}},computed:{atomClass:function(){var t=this.context.parcel;return{module:t.data.module,atomClassName:t.data.atomClassName}}},created:function(){var t=this.context.parcel;this.loadTagsAll(t.data.atomLanguage)},methods:{combineAtomClassAndLanguage:function(t){var e={module:this.atomClass.module,atomClassName:this.atomClass.atomClassName};return t&&(e.language=t),e},loadTagsAll:function(t){var e=this;return $(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("a/base/getTags",{atomClass:e.atomClass,language:t});case 2:e.tagsAll=n.sent;case 3:case"end":return n.stop()}}),n)})))()},adjustTags:function(t){var e=this;return this.tagsAll&&t?(t=(t=JSON.parse(t)).map((function(t){var n=e.tagsAll.find((function(e){return e.id===t}));return n?n.tagName:""}))).join(","):""},onChooseTags:function(t){var e=this;return $(regeneratorRuntime.mark((function n(){var a,r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.context.parcel,r={actionModule:"a-base",actionComponent:"action",name:"selectLocale",targetEl:t.currentTarget},!a.data.atomLanguage){n.next=6;break}o=a.data.atomLanguage,n.next=10;break;case 6:return n.next=8,e.$meta.util.performAction({ctx:e,action:r,item:a.data});case 8:(i=n.sent)&&(o=i.value,e.context.setValue(i.value,"atomLanguage"));case 10:if(!o){n.next=13;break}return n.next=13,e.loadTagsAll(o);case 13:return n.abrupt("return",new Promise((function(t){var n=e.$meta.util.combineQueries("/a/basefront/tag/select",e.combineAtomClassAndLanguage(o));e.$view.navigate(n,{target:"_self",context:{params:{selectedTags:a.data.atomTags,multiple:!0},callback:function(n,a){200===n?(e.context.setValue(a?JSON.stringify(a):null,"atomTags"),t(!0)):!1===n&&t(!1)}}})})));case 14:case"end":return n.stop()}}),n)})))()}},render:function(){var t=arguments[0],e=this.context,n=e.parcel,a=e.dataPath,r=e.property,o=e.validate,i=this.context.getTitle();return o.readOnly||r.ebReadOnly?t("f7-list-item",{attrs:{title:i}},[t("div",{slot:"after"},[this.adjustTags(n.data.atomTags)])]):t("eb-list-item-choose",{attrs:{link:"#",dataPath:a,title:i},props:{onChoose:this.onChooseTags}},[t("div",{slot:"after"},[this.adjustTags(n.data.atomTags)])])}},I={props:{context:{type:Object}},data:function(){return{}},computed:{resourceTypes:function(){var t=this.$store.getState("a/base/resourceTypes");return t?Object.keys(t).map((function(e){return{title:t[e].titleLocale,value:e}})):[]}},created:function(){this.$store.dispatch("a/base/getResourceTypes")},methods:{},render:function(){var t=arguments[0],e=this.context,n=e.parcel,a=e.key,r=e.property,o=this.$utils.extend({},r,{ebType:"select",ebOptions:this.resourceTypes});return t("eb-list-item-validate",{attrs:{parcel:n,dataKey:a,property:o}})}},P={meta:{global:!1},mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebRenderTableCellFormat],props:{layoutManager:{type:Object},layout:{type:Object},layoutItems:{type:Object},info:{type:Object},expression:{type:String}},data:function(){return{}},methods:{},render:function(){var t=arguments[0],e=this.info,n=e.text,a=e.column,r=this.formatText({text:n,column:a});return t("div",{class:"eb-antdv-table-cell",attrs:{title:r}},[r])}};function S(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var R=r().prototype.$meta.module.get("a-base").options.mixins.ebRenderTableCellFormat,T=["info.record","info.index"];const O={meta:{global:!1},mixins:[R],props:{layoutManager:{type:Object},layout:{type:Object},layoutItems:{type:Object},info:{type:Object},expression:{type:String}},data:function(){return{value:null}},created:function(){var t=this;this.evaluate(),this._unwatches=[];var e,n=S(T);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=this.$watch(a,(function(){t.evaluate()}));this._unwatches.push(r)}}catch(t){n.e(t)}finally{n.f()}},beforeDestroy:function(){if(this._unwatches){var t,e=S(this._unwatches);try{for(e.s();!(t=e.n()).done;)(0,t.value)()}catch(t){e.e(t)}finally{e.f()}this._unwatches=null}},methods:{evaluate:function(){var t=this,e=this.info,n=e.text,a=e.record,r=e.index,o=e.column,i={text:n,record:a,index:r,params:o.params,options:o.component&&o.component.options};this.$meta.util.sandbox.evaluate(this.expression,i).then((function(e){t.value=t.formatText({text:e,column:o})})).catch((function(t){throw t}))}},render:function(){var t=arguments[0];return t("div",{class:"eb-antdv-table-cell",attrs:{title:this.value}},[this.value])}};function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}const M={meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},layoutItems:{type:Object},info:{type:Object},dateFormat:{type:Object}},data:function(){return{}},methods:{_renderDateEmpty:function(){var t=this.info.column;return{title:"",value:t.params&&t.params.default||""}},_renderDateDefault:function(){var t,e=this.info.text,n=this.dateFormat.default;return!0===n&&(n=null),{title:t="object"===N(e)&&e instanceof Date?this.$meta.util.formatDateTime(e,n):e,value:t}},_renderDateLines:function(){var t=this.$createElement,e=this.info.text,n=[],a=this.$meta.util.formatDate(null,this.dateFormat.dateSeparator),r=this.$meta.util.formatDate(e,this.dateFormat.dateSeparator),o=this.$meta.util.formatTime(e,this.dateFormat.timeSeparator);a!==r&&n.push(t("div",{key:"date:one"},[r])),n.push(t("div",{key:"date:two"},[o]));var i=t("div",{class:"date-lines"},[n]);return{title:"".concat(r," ").concat(o),value:i}}},render:function(){var t=arguments[0],e=this.info.text,n=this.dateFormat.lines,a=e?n?this._renderDateLines():this._renderDateDefault():this._renderDateEmpty(),r=a.title,o=a.value;return t("div",{class:"eb-antdv-table-cell",attrs:{title:r}},[o])}};function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){B(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const F={meta:{global:!1},mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebRenderTableCellFormat],props:{layoutManager:{type:Object},layout:{type:Object},layoutItems:{type:Object},info:{type:Object},link:{type:Object},links:{type:Array}},data:function(){return{}},methods:{_renderLink:function(t){var e=this.$createElement,n=this.info,a=n.text,r=n.record,o=n.column,i={},s=this.$meta.util.replaceTemplate(t.text,r)||a||"";return s=this.formatText({text:s,column:o}),t.href&&(i.ebHref=this.$meta.util.replaceTemplate(t.href,r)),!0===t.external?(i.link=!1,i.externalLink=!1,i.external=!0,i.target=t.target):(i.link=!0,i.externalLink=!0,i.external=!1,i.ebTarget=t.target),e("eb-link",{key:s,props:E({},i)},[s])},_renderLinks:function(t){var e,n=[],a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;n.push(this._renderLink(r))}}catch(t){a.e(t)}finally{a.f()}return n}},render:function(){var t=arguments[0];return this.link||this.links?this.link?t("div",{class:"eb-antdv-table-cell eb-antdv-table-cell-link"},[this._renderLink(this.link)]):t("div",{class:"eb-antdv-table-cell eb-antdv-table-cell-links"},[this._renderLinks(this.links)]):t("div")}};function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){H(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function H(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const z={meta:{global:!1},mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebRenderTableCellFormat],props:{layoutManager:{type:Object},layout:{type:Object},layoutItems:{type:Object},info:{type:Object},button:{type:Object},buttons:{type:Array}},data:function(){return{}},methods:{onPerformClick:function(t,e){var n=this.info.record;return this.$meta.util.performAction({ctx:this.layoutManager,action:e.onPerform,item:n})},_renderButton:function(t){var e=this,n=this.$createElement,a=this.info,r=a.text,o=a.record,i=a.column,s=this.$meta.util.replaceTemplate(t.text,o)||r||"";return n("eb-button",{key:s=this.formatText({text:s,column:i}),props:Z(Z({},Object.assign({},t.props)),{},{onPerform:function(n){return e.onPerformClick(n,t)}})},[s])},_renderButtons:function(t){var e,n=this.$createElement,a=[],r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=this._renderButton(o);a.push(n("f7-col",{key:i.key},[i]))}}catch(t){r.e(t)}finally{r.f()}return n("f7-row",[a])}},render:function(){var t=arguments[0];return this.button||this.buttons?this.button?t("div",{class:"eb-antdv-table-cell eb-antdv-table-cell-button"},[this._renderButton(this.button)]):t("div",{class:"eb-antdv-table-cell eb-antdv-table-cell-buttons"},[this._renderButtons(this.buttons)]):t("div")}};function J(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const q={props:{context:{type:Object}},data:function(){return{}},computed:{userLabels:function(){return this.$store.getters["a/base/userLabels"]}},created:function(){this.$store.dispatch("a/base/getLabels")},methods:{getLabel:function(t){return this.userLabels?this.userLabels[t]:null},getLabelCurrent:function(){var t=this.context.getValue();return this.getLabel(t)},onChooseLabel:function(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){var a,r,o,i,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.userLabels){e.next=2;break}return e.abrupt("return");case 2:for(s in a=n,r=n.context.property,o=n.$meta.util.getProperty(r,"ebParams.optional"),i=[],o&&i.push({text:"",data:0}),n.userLabels)u=n.userLabels[s],i.push({color:u.color,text:u.text,data:parseInt(s)});return c={targetEl:t.currentTarget,buttons:i},e.next=11,n.$view.actions.choose(c);case 11:return l=e.sent,a.context.setValue(l.data),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(t){J(o,a,r,i,s,"next",t)}function s(t){J(o,a,r,i,s,"throw",t)}i(void 0)}))})()},_renderAfterLabel:function(){var t=this.$createElement,e=this.getLabelCurrent();return e?t("f7-badge",{attrs:{color:e.color}},[e.text]):null}},render:function(){var t=arguments[0],e=this.context,n=e.dataPath,a=e.property,r=e.validate,o=this.context.getTitle(),i=this._renderAfterLabel();return r.readOnly||a.ebReadOnly?t("f7-list-item",{attrs:{title:o}},[t("div",{slot:"after"},[i])]):t("eb-list-item-choose",{attrs:{link:"#",dataPath:n,title:o},props:{onChoose:this.onChooseLabel}},[t("div",{slot:"after"},[i])])}};function K(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const Q={props:{context:{type:Object}},data:function(){return{}},created:function(){},methods:{onChooseUser:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,a,r,o,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.context,a=n.key,r=n.property,void 0===(o=r.ebParams.target)&&(o="_self"),i=r.ebParams.mapper,s=r.ebParams.apiFetchUsers,t.abrupt("return",new Promise((function(t){e.$view.navigate("/a/baseadmin/user/select",{target:o,context:{params:{apiFetchUsers:s,buttonClearUser:!0},callback:function(n,r){if(200===n){if(i)for(var o in i){var s=r[i[o]];e.context.setValue(s,o)}else{var u=r[a];e.context.setValue(u,a)}t(!0)}else!1===n&&t(!1)}}})})));case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){K(o,a,r,i,s,"next",t)}function s(t){K(o,a,r,i,s,"throw",t)}i(void 0)}))})()}},render:function(){var t=arguments[0],e=this.context,n=e.dataPath,a=e.property,r=e.validate,o=this.context.getTitle(),i=this.context.getValue();return r.readOnly||a.ebReadOnly?t("f7-list-item",{attrs:{title:o}},[t("div",{slot:"after"},[i])]):t("eb-list-item-choose",{attrs:{link:"#",dataPath:n,title:o},props:{onChoose:this.onChooseUser}},[t("div",{slot:"after"},[i])])}};var W=n(28),G=n(276),Y=n(592);function X(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function tt(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){X(o,a,r,i,s,"next",t)}function s(t){X(o,a,r,i,s,"throw",t)}i(void 0)}))}}function et(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function nt(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){et(o,a,r,i,s,"next",t)}function s(t){et(o,a,r,i,s,"throw",t)}i(void 0)}))}}function at(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function rt(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){at(o,a,r,i,s,"next",t)}function s(t){at(o,a,r,i,s,"throw",t)}i(void 0)}))}}function ot(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return it(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function st(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function ut(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){st(o,a,r,i,s,"next",t)}function s(t){st(o,a,r,i,s,"throw",t)}i(void 0)}))}}function ct(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function lt(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){ct(o,a,r,i,s,"next",t)}function s(t){ct(o,a,r,i,s,"throw",t)}i(void 0)}))}}const mt={mixins:[{created:function(){this.$meta.eventHub.$on("atom:star",this.star_onChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("atom:star",this.star_onChanged)},methods:{star_onSwitch:function(t,e){var n=this;return tt(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.star?0:1,a.next=3,n.star_onSwitch2(t,e,r,"swipeoutClose");case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})))()},star_onSwitch2:function(t,e,n,a){var r=this;return tt(regeneratorRuntime.mark((function o(){var i,s;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!r.layoutManager.base_user.anonymous){o.next=5;break}return o.next=3,r.layoutManager.$view.dialog.confirm(r.$text("Please Sign In"));case 3:return r.$meta.vueLayout.openLogin(),o.abrupt("return");case 5:return i={atomId:e.atomId,itemId:e.itemId},o.next=8,r.$api.post("/a/base/atom/star",{key:i,atom:{star:n}});case 8:s=o.sent,r.$meta.eventHub.$emit("atom:star",{key:i,star:s.star,starCount:s.starCount}),r.$meta.util[a](t.currentTarget);case 11:case"end":return o.stop()}}),o)})))()},star_onChanged:function(t){var e=this;return tt(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.key.atomId,n.next=3,e._loopProviders(function(){var n=tt(regeneratorRuntime.mark((function n(r){var o,i,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e._callMethodProvider(r,"findItem",a)){n.next=3;break}return n.abrupt("return");case 3:i=o.items,s=o.index,e.layoutManager.base_prepareSelectParams({setOrder:!1}).options.star?0===t.star&&-1!==s?e._callMethodProvider(r,"spliceItem",i,s):1===t.star&&-1===s?e._callMethodProvider(r,"onPageRefresh"):-1!==s&&(i[s].star=t.star):-1!==s&&(i[s].star=t.star);case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})))()}}},{created:function(){this.$meta.eventHub.$on("atom:labels",this.labels_onChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("atom:labels",this.labels_onChanged)},methods:{labels_onClick:function(t,e){var n=this;return nt(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.layoutManager.base_user.anonymous){a.next=5;break}return a.next=3,n.layoutManager.$view.dialog.confirm(n.$text("Please Sign In"));case 3:return n.$meta.vueLayout.openLogin(),a.abrupt("return");case 5:r={},n.layoutManager.$view.inPanel()&&(r.target="_self"),n.layoutManager.$view.navigate("/a/basefront/atom/labels?atomId=".concat(e.atomId),r),n.$meta.util.swipeoutClose(t.currentTarget);case 9:case"end":return a.stop()}}),a)})))()},labels_onChanged:function(t){var e=this;return nt(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.key.atomId,n.next=3,e._loopProviders(function(){var n=nt(regeneratorRuntime.mark((function n(r){var o,i,s,u,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e._callMethodProvider(r,"findItem",a)){n.next=3;break}return n.abrupt("return");case 3:i=o.items,s=o.index,u=e.layoutManager.base_prepareSelectParams({setOrder:!1}),(c=u.options.label)?(l=t.labels.indexOf(String(c))>-1)||-1===s?l&&-1===s?e._callMethodProvider(r,"onPageRefresh"):-1!==s&&(i[s].labels=JSON.stringify(t.labels)):e._callMethodProvider(r,"spliceItem",i,s):-1!==s&&(i[s].labels=JSON.stringify(t.labels));case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})))()}}},{created:function(){this.$meta.eventHub.$on("atom:action",this.event_onActionChanged),this.$meta.eventHub.$on("atom:actions",this.event_onActionsChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("atom:action",this.event_onActionChanged),this.$meta.eventHub.$off("atom:actions",this.event_onActionsChanged)},methods:{event_onActionChanged:function(t){var e=this;return rt(regeneratorRuntime.mark((function n(){var a,r,o,i,s,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.key,"create"!==(r=t.action).name){n.next=14;break}if(o=e.layoutManager.base_prepareSelectParams({setOrder:!1}),i=o.atomClass,s=o.options.stage,u=t.atom,e.layoutManager.base_stageToString(u.atomStage)===s){n.next=9;break}return n.abrupt("return");case 9:if(!i||i.module===u.module&&i.atomClassName===u.atomClassName){n.next=11;break}return n.abrupt("return");case 11:return n.next=13,e._loopProviders(function(){var t=rt(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e._callMethodProvider(n,"onPageRefresh");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 13:return n.abrupt("return");case 14:return n.next=16,e._loopProviders(function(){var t=rt(regeneratorRuntime.mark((function t(n){var o,i,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.findItemProvier(n,a.atomId),i=o.items,-1!==(s=o.index)){t.next=3;break}return t.abrupt("return");case 3:if("delete"!==r.name){t.next=6;break}return e._callMethodProvider(n,"spliceItem",i,s),t.abrupt("return");case 6:return u=e.layoutManager.base_prepareReadOptions(),t.next=9,e.$api.post("/a/base/atom/read",{key:a,options:u});case 9:c=t.sent,e.$set(i,s,c);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 16:case"end":return n.stop()}}),n)})))()},event_onActionsChanged:function(t){var e=this;return rt(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.key,n.next=3,e._loopProviders(function(){var t=rt(regeneratorRuntime.mark((function t(n){var r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e._callMethodProvider(n,"findItem",a.atomId)){t.next=3;break}return t.abrupt("return");case 3:if(o=r.items,-1!==(i=r.index)){t.next=6;break}return t.abrupt("return");case 6:e.$set(o[i],"_actions",null);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})))()}}},{methods:{item_onAction:function(t,e,n){var a=this;return ut(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=a.layoutManager.getAction(n)){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,a.$meta.util.performAction({ctx:a.layoutManager,action:o,item:e});case 5:a.$meta.util.swipeoutClose(t.currentTarget);case 6:case"end":return r.stop()}}),r)})))()},item_onActionView:function(t,e){var n=this;return ut(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.item_onAction(t,e,{module:e.module,atomClassName:e.atomClassName,name:"read"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},item_getAtomName:function(t){return t.atomNameLocale||t.atomName},item_getMetaMedia:function(t,e){var n;return(n=e?t[e]:t._meta&&t._meta.media||t.avatar)||(n=this.$meta.config.modules["a-base"].user.avatar.default),this.$meta.util.combineImageUrl(n,24)},item_getMetaMediaLabel:function(t){return t._meta&&t._meta.mediaLabel||t.userName},item_getMetaSummary:function(t){var e=[];if(!this.layoutManager.container.atomClass){var n=this.layoutManager.getAtomClass({module:t.module,atomClassName:t.atomClassName});n&&e.push(n.titleLocale)}var a=t.resourceTypeLocale;a&&e.push(a);var r=t.atomCategoryNameLocale||t.atomCategoryName;r&&e.push(r);var o=t._meta&&t._meta.summary||"";return o&&e.push(o),e.join(" / ")},item_getMetaFlags:function(t){var e=t._meta&&t._meta.flags||[];return Array.isArray(e)||(e=e.split(",")),t.atomDisabled&&(e=[this.$text("Disabled")].concat(e)),e},item_getLabel:function(t){return this.layoutManager.base_userLabels?this.layoutManager.base_userLabels[t]:null},item_getActionColor:function(t,e){return 0===e?"orange":1===e?"red":"blue"},item_getActionTitle:function(t,e){return this.layoutManager.getActionTitle(t,e)},item_renderContextMenu:function(t,e){var n,a=this,r=this.$createElement;if(t&&1===t.atomStage){var o;("menu"===e||!e&&this.$device.desktop)&&(o=r("div",{slot:"title"},[this.$text(t.star?"Unstar":"UserStar")]));var i,s=r("div",{attrs:{color:"teal"},props:{onPerform:function(e){return a.star_onSwitch(e,t)}}},[r("f7-icon",{slot:"media",attrs:{color:t.star?"orange":"",f7:t.star?"::star":":outline:star-outline"}}),o]);("menu"===e||!e&&this.$device.desktop)&&(i=r("div",{slot:"title"},[this.$text("UserLabels")]));var u=r("div",{attrs:{color:"blue"},props:{onPerform:function(e){return a.labels_onClick(e,t)}}},[r("f7-icon",{slot:"media",attrs:{f7:"::label"}}),i]);n=r("div",{slot:"left"},[s,u])}var c=[];if(t&&t._actions){var l=function(n){n=parseInt(n);var o=t._actions[n],i=a.layoutManager.getAction(o),s=void 0;("menu"===e||!e&&a.$device.desktop)&&(s=r("div",{slot:"title"},[a.item_getActionTitle(o,t)])),c.push(r("div",{key:o.id,attrs:{color:a.item_getActionColor(o,n)},props:{onPerform:function(e){return a.item_onAction(e,t,o)}}},[r("f7-icon",{slot:"media",attrs:{material:i.icon&&i.icon.material,f7:i.icon&&i.icon.f7}}),s])),m=n};for(var m in t._actions)l(m)}var d=r("div",{slot:"right",attrs:{ready:t&&!!t._actions}},[c]);return r("eb-context-menu",{attrs:{mode:e}},[n,d])},item_renderMedia:function(t,e,n){return(0,this.$createElement)("img",{class:e||"avatar avatar24",attrs:{src:this.item_getMetaMedia(t,n)}})},item_renderStats:function(t){var e,n,a=this.$createElement,r=[];return t.star>0&&r.push(a("span",{key:"stat_star"},[a("f7-icon",{attrs:{f7:"::star",size:"14",color:"orange"}})])),t.attachmentCount>0&&(t.attachmentCount>1&&(e=a("sub",{class:"text-color-orange"},[t.attachmentCount])),r.push(a("span",{key:"stat_attachmentCount_icon"},[a("f7-icon",{attrs:{f7:"::attachment-line",size:"14",color:"orange"}}),e]))),t.commentCount>0&&(t.commentCount>1&&(n=a("sub",{class:"text-color-orange"},[t.commentCount])),r.push(a("span",{key:"stat_commentCount_icon"},[a("f7-icon",{attrs:{f7:"::comment-dots",size:"14",color:"orange"}}),n]))),r},item_renderMetaFlags:function(t){var e=this.$createElement,n=[];t.flowNodeNameCurrentLocale&&n.push(e("f7-badge",{key:"flowNodeNameCurrent",attrs:{color:"orange"}},[t.flowNodeNameCurrentLocale]));var a,r=ot(this.item_getMetaFlags(t));try{for(r.s();!(a=r.n()).done;){var o=a.value;n.push(e("f7-badge",{key:o},[o]))}}catch(t){r.e(t)}finally{r.f()}return n},item_renderLabels:function(t){var e=this.$createElement,n=[];if(t.labels&&this.layoutManager.base_userLabels){var a,r=ot(JSON.parse(t.labels));try{for(r.s();!(a=r.n()).done;){var o=a.value,i=this.item_getLabel(o);n.push(e("f7-badge",{key:o,style:{backgroundColor:i.color}},[i.text]))}}catch(t){r.e(t)}finally{r.f()}}return n}}}],props:{layoutManager:{type:Object}},data:function(){return{providerName:null,providers:{}}},computed:{providerCurrent:function(){return this.providers[this.providerName]}},beforeDestroy:function(){for(var t in this.providers)this.providers[t].$destroy();this.providers={}},methods:{providerSwitch:function(t){var e=this;return lt(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.providerName,r=e.providers[a]){n.next=9;break}return n.next=5,e.providerCreate(a);case 5:if(r=n.sent){n.next=8;break}throw new Error("not found list layout data provider: ".concat(a));case 8:e.$set(e.providers,a,r);case 9:return n.next=11,r.switch(t);case 11:e.providerName=a,e.layoutManager.bulk_closeSelecting();case 13:case"end":return n.stop()}}),n)})))()},providerCreate:function(t){var e=this;return lt(regeneratorRuntime.mark((function n(){var a,r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.getProviderConfig(t).component,n.next=3,e.$meta.module.use(a.module);case 3:return r=n.sent,o={propsData:{layoutManager:e.layoutManager}},i=r.options.components[a.name],n.abrupt("return",e.$meta.util.createComponentInstance(i,o));case 7:case"end":return n.stop()}}),n)})))()},getProviderConfig:function(t){return this.$meta.util.getProperty(this.layoutManager.base.config,"render.list.info.data.adapter.providers.".concat(t))},_callMethod:function(t){var e=this.providerCurrent;if(!e)return null;for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return this._callMethodProvider.apply(this,[e,t].concat(a))},_callMethodProvider:function(t,e){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];return t[e].apply(t,a)},_loopProviders:function(t){var e=this;return lt(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=regeneratorRuntime.keys(e.providers);case 1:if((n.t1=n.t0()).done){n.next=8;break}return a=n.t1.value,r=e.providers[a],n.next=6,t(r);case 6:n.next=1;break;case 8:case"end":return n.stop()}}),n)})))()},onPageRefresh:function(t){return this._callMethod("onPageRefresh",t)},onPageInfinite:function(){return this._callMethod("onPageInfinite")},onPageClear:function(){return this._callMethod("onPageClear")},getItems:function(){return this._callMethod("getItems")||[]},getLoading:function(){return this._callMethod("getLoading")},getPageInfo:function(){return this._callMethod("getPageInfo")},gotoPage:function(t){return this._callMethod("gotoPage",t)},findItem:function(t){return this._callMethod("findItem",t)||{pageNum:null,items:null,index:-1}},findItemProvier:function(t,e){return this._callMethodProvider(t,"findItem",e)||{pageNum:null,items:null,index:-1}},spliceItem:function(t,e,n){for(var a=arguments.length,r=new Array(a>3?a-3:0),o=3;o<a;o++)r[o-3]=arguments[o];return this._callMethod.apply(this,["spliceItem",t,e,n].concat(r))},renderLoadMore:function(){return this._callMethod("renderLoadMore")}}};function dt(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function ft(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){dt(o,a,r,i,s,"next",t)}function s(t){dt(o,a,r,i,s,"throw",t)}i(void 0)}))}}var ht=r().prototype.$meta.module.get("a-components").options.components.ebLoadMore;const pt={props:{layoutManager:{type:Object}},data:function(){return{inited:!1,loadMoreComponent:null,items:[]}},beforeDestroy:function(){this.loadMoreComponent&&(this.loadMoreComponent.$destroy(),this.loadMoreComponent=null)},methods:{switch:function(t){var e=this;return ft(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.inited){n.next=2;break}return n.abrupt("return");case 2:a={propsData:{onLoadClear:e.onLoadClear,onLoadMore:e.onLoadMore,autoInit:t.autoInit}},e.loadMoreComponent=e.$meta.util.createComponentInstance(ht,a),e.inited=!0;case 5:case"end":return n.stop()}}),n)})))()},onPageRefresh:function(t){this.loadMoreComponent.reload(t)},onPageInfinite:function(){this.loadMoreComponent.loadMore()},onPageClear:function(){this.loadMoreComponent.clear()},onLoadClear:function(t){this.layoutManager.bulk_clearSelectedAtoms(),this.items=[],t()},onLoadMore:function(t){var e=this;return ft(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.index,(r=e.layoutManager.base_prepareSelectParams()).options.page={index:a},n.next=5,e.$api.post("/a/base/atom/select",r);case 5:return o=n.sent,e.items=e.items.concat(o.list),n.abrupt("return",o);case 8:case"end":return n.stop()}}),n)})))()},getItems:function(){return this.items},getLoading:function(){return!1},getPageInfo:function(){},gotoPage:function(){},findItem:function(t){var e=this.items.findIndex((function(e){return e.atomId===t}));return{pageNum:1,items:this.items,index:e}},spliceItem:function(t,e,n){void 0===n&&(n=1);for(var a=arguments.length,r=new Array(a>3?a-3:0),o=3;o<a;o++)r[o-3]=arguments[o];return t.splice.apply(t,[e,n].concat(r))},renderLoadMore:function(){return this.loadMoreComponent?this.loadMoreComponent.renderContent():null}}};function bt(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function gt(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){bt(o,a,r,i,s,"next",t)}function s(t){bt(o,a,r,i,s,"throw",t)}i(void 0)}))}}const vt={props:{layoutManager:{type:Object}},data:function(){return{inited:!1,info:{pageCurrent:0,pageSize:20,total:0},itemsPages:{},loading:!1}},computed:{dataSource:function(){return this.itemsPages[this.info.pageCurrent]}},methods:{switch:function(t){var e=this;return gt(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.inited){n.next=2;break}return n.abrupt("return");case 2:e.inited=!0,t.autoInit&&e.onPageRefresh();case 4:case"end":return n.stop()}}),n)})))()},onPageRefresh:function(){this.onPageClear(),this._loadTotal()},onPageInfinite:function(){},onPageClear:function(){this.layoutManager.bulk_clearSelectedAtoms(),this.loading=!1,this.itemsPages={},this.info={pageCurrent:0,pageSize:20,total:0},this._changePageCurrent(0)},getItems:function(){return this.dataSource||[]},getLoading:function(){return this.loading},getPageInfo:function(){return this.info},findItem:function(t){for(var e in this.itemsPages){var n=this.itemsPages[e],a=n.findIndex((function(e){return e.atomId===t}));if(-1!==a)return{pageNum:parseInt(e),items:n,index:a}}return{pageNum:null,items:null,index:-1}},spliceItem:function(t,e,n){void 0===n&&(n=1);for(var a=arguments.length,r=new Array(a>3?a-3:0),o=3;o<a;o++)r[o-3]=arguments[o];return this.info.total-=n-r.length,t.splice.apply(t,[e,n].concat(r))},gotoPage:function(t){var e=this;if(this.info.pageCurrent!==t)if(this.layoutManager.bulk_clearSelectedAtoms(),this.itemsPages[t])this._changePageCurrent(t);else{var n=(t-1)*this.info.pageSize;this.loading=!0,this._loadMore({index:n,size:this.info.pageSize}).then((function(n){e.loading=!1,e.$set(e.itemsPages,t,n),e._changePageCurrent(t)})).catch((function(t){e.loading=!1,e.layoutManager.$view.toast.show({text:t.message})}))}},_loadTotal:function(){var t=this,e=this.layoutManager.base_prepareSelectParams();this.loading=!0,this.$api.post("/a/base/atom/count",e).then((function(e){t.loading=!1,t.info.total=e,0!==t.info.total&&t.gotoPage(1)})).catch((function(e){t.layoutManager.$view.toast.show({text:e.message}),t.loading=!1}))},_loadMore:function(t){var e=this;return gt(regeneratorRuntime.mark((function n(){var a,r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.index,r=t.size,(o=e.layoutManager.base_prepareSelectParams()).options.page={index:a,size:r},n.next=5,e.$api.post("/a/base/atom/select",o);case 5:return i=n.sent,n.abrupt("return",i.list);case 7:case"end":return n.stop()}}),n)})))()},_changePageCurrent:function(t){this.info.pageCurrent=t,this.layoutManager.$emit("providerPaged:pageCurrentChanged",{pageCurrent:t})}}};function yt(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function _t(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){yt(o,a,r,i,s,"next",t)}function s(t){yt(o,a,r,i,s,"throw",t)}i(void 0)}))}}var xt;const Ct={meta:{global:!1},mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebActionBase],methods:{onAction:function(){var t=this;return _t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("initialize"!==t.action.name){e.next=4;break}return e.next=3,t._onActioninitialize();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()},_onActioninitialize:function(){var t=this;return _t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xt){e.next=2;break}return e.abrupt("return");case 2:t.$props.ctx.$meta.util.requirejs.require(["api/static/a/base/js/developerTool"],(function(t){xt=new t}));case 4:case"end":return e.stop()}}),e)})))()}}},kt={combineSearch:s,componentAction:f,renderAtom:p,renderAtomClass:g,renderLanguage:y,renderCategory:x,renderCategoryResource:k,renderTags:A,renderResourceType:I,renderTableCellDefault:P,renderTableCellComputed:O,renderTableCellDatetime:M,renderTableCellLink:F,renderTableCellButton:z,renderUserLabel:q,renderUser:Q,categorySelect:W.Z,tagSelect:G.Z,atomTab:Y.Z,listLayoutDataAdapter:mt,listLayoutDataProviderContinuous:pt,listLayoutDataProviderPaged:vt,developerTool:Ct}},855:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var a=[{name:"default"}],r=[{name:"default"}];const o={atom:{render:{list:{info:{layout:{viewSize:{small:{name:"list"},medium:{name:"table"},large:{name:"table"}}},data:{adapter:{component:{module:"a-basefront",name:"listLayoutDataAdapter"},providers:{continuous:{component:{module:"a-basefront",name:"listLayoutDataProviderContinuous"}},paged:{component:{module:"a-basefront",name:"listLayoutDataProviderPaged"}}}}},ordersBase:[{name:"atomCreatedAt",title:"Created Time",by:"desc",tableAlias:""},{name:"atomUpdatedAt",title:"Modification Time",by:"desc",tableAlias:""},{name:"atomName",title:"Atom Name",by:"asc",tableAlias:"a"}],orders:[],filter:{actionPath:"/a/baselayout/listLayoutFilter",tabs:{basic:{schema:{module:"a-baselayout",schema:"filterTabBasic"}},general:{schema:{module:"a-baselayout",schema:"filterTabGeneral"}}}},export:{fields:[{name:"atomName",title:"AtomName"},{name:"userName",title:"Creator"},{name:"atomCreatedAt",title:"Created Time"},{name:"atomUpdatedAt",title:"Modification Time"}]}},layouts:{base:{blocks:{caption:{component:{module:"a-baselayout",name:"listLayoutBlockListCaption"}},title:{component:{module:"a-baselayout",name:"listLayoutBlockListTitle"}},subnavbar:{component:{module:"a-baselayout",name:"listLayoutBlockListSubnavbar"}}}},card:{title:"LayoutCard",component:{module:"a-baselayout",name:"listLayoutCard"},blocks:{items:{component:{module:"a-baselayout",name:"listLayoutBlockCardItems"}},item:{component:{module:"a-baselayout",name:"listLayoutBlockCardItem"}},itemHeader:{component:{module:"a-baselayout",name:"listLayoutBlockListItem"},summary:!1}}},list:{title:"LayoutList",component:{module:"a-baselayout",name:"listLayoutList"},blocks:{items:{component:{module:"a-baselayout",name:"listLayoutBlockListItems"}},item:{component:{module:"a-baselayout",name:"listLayoutBlockListItem"}}}},table:{title:"LayoutTable",component:{module:"a-baselayout",name:"listLayoutTable"},blocks:{items:{component:{module:"a-baselayout",name:"listLayoutBlockTableItems"},columns:[{dataIndex:"atomName",title:"Atom Name",align:"left",component:{module:"a-baselayout",name:"listLayoutTableCellAtomName"}},{dataIndex:"userName",title:"Creator",align:"left",component:{module:"a-baselayout",name:"listLayoutTableCellUserName"}},{dataIndex:"atomCreatedAt",title:"Created Time",align:"center",params:{dateFormat:{lines:!0}}},{dataIndex:"atomUpdatedAt",title:"Modification Time",align:"center",params:{dateFormat:{lines:!0}}}]},bottombar:{component:{module:"a-baselayout",name:"listLayoutBlockTableBottombar"}}}},select:{component:{module:"a-baselayout",name:"listLayoutList"},blocks:{title:{component:{module:"a-baselayout",name:"listLayoutBlockSelectTitle"}},items:{component:{module:"a-baselayout",name:"listLayoutBlockSelectItems"}}}},selecting:{component:{module:"a-baselayout",name:"listLayoutList"},blocks:{title:{component:{module:"a-baselayout",name:"listLayoutBlockSelectingTitle"}},items:{component:{module:"a-baselayout",name:"listLayoutBlockSelectingItems"}}}}}},item:{info:{layout:{viewSize:{view:{small:a,medium:a,large:a},edit:{small:r,medium:r,large:r}}},attachment:!0,comment:!0},layouts:{base:{blocks:{caption:{component:{module:"a-baselayout",name:"itemLayoutBlockDefaultCaption"}},title:{component:{module:"a-baselayout",name:"itemLayoutBlockDefaultTitle"}},subnavbar:{component:{module:"a-baselayout",name:"itemLayoutBlockDefaultSubnavbar"}},main:{component:{module:"a-baselayout",name:"itemLayoutBlockDefaultMain"}}}},default:{title:"LayoutInfo",component:{module:"a-baselayout",name:"itemLayoutDefault"},blocks:{}},content:{title:"LayoutContent",component:{module:"a-baselayout",name:"itemLayoutDefault"},blocks:{}}}}}},resource:{render:{tree:{info:{layout:{viewSize:{small:[{name:"accordion"},{name:"tree"}],medium:[{name:"accordion"},{name:"tree"}],large:[{name:"accordion"},{name:"tree"}]}}},layouts:{base:{blocks:{title:{component:{module:"a-baselayout",name:"resourceTreeLayoutBlockAccordionTitle"}}}},accordion:{title:"LayoutAccordion",component:{module:"a-baselayout",name:"resourceTreeLayoutAccordion"},blocks:{items:{component:{module:"a-baselayout",name:"resourceTreeLayoutBlockAccordionItems"}}}},tree:{title:"LayoutTree",component:{module:"a-baselayout",name:"resourceTreeLayoutTree"},blocks:{items:{component:{module:"a-baselayout",name:"resourceTreeLayoutBlockTreeItems"}}}}}}}}}},933:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a={OpenLinkTitleRedirect:"Redirect",PleaseInputText:"Please Input text",ShowAllComments:"Show All Comments",SharingCompleted:"Sharing Completed",DraftsFlowingMineTab:"Flowings",CabloyAboutTip1:"CabloyJS - The Ultimate NodeJS Full Stack Business Development Platform",CabloyAboutTip2:"The frontend of CabloyJS uses VueJS + Framework7 + Webpack, while the backend uses KoaJS + EggJS, and the database uses MySQL",CabloyAboutTip3:"Vertically, CabloyJS make the frontend and the backend work together to form an organic wholeness, so as to avoid working independently between them",CabloyAboutTip4:"Horizontally, CabloyJS has refined a code organization mode called business modularity, which could offer a powerful basic framework for the continually growing business demands of large-scale web applications through different module combinations"}},978:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a={About:"",Documentation:"",Community:"",PleaseInputText:"",ShowAllComments:"",SharingCompleted:"",DraftsFlowingMineTab:"",OpenLinkTitleRedirect:"",CabloyAboutTip1:"CabloyJS - NodeJS",CabloyAboutTip2:"VueJS + Framework7 + WebpackKoaJS + EggJSMySQL",CabloyAboutTip3:"",CabloyAboutTip4:"Web","Welcome to CabloyJS":"CabloyJS","Open Link":""}},137:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a={"en-us":n(933).Z,"zh-cn":n(978).Z}},751:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var a=n(883),r=n(833);const o={listLayoutManager:a.Z,itemLayoutManager:r.Z}},644:(t,e,n)=>{"use strict";function a(t){return n(142)("./".concat(t,".vue")).default}function r(t){return n(990)("./".concat(t,".jsx")).default}n.d(e,{Z:()=>o});const o=[{path:"atom/list",component:r("atom/list")},{path:"atom/searchQuick",component:r("atom/searchQuick")},{path:"atom/labels",component:a("atom/labels")},{path:"atom/item",component:r("atom/item")},{path:"atom/selectAtomClass",component:a("atom/selectAtomClass")},{path:"atom/select",component:r("atom/select")},{path:"atom/selecting",component:r("atom/selecting")},{path:"atom/autoStar",component:a("atom/autoStar"),meta:{auth:!0}},{path:"atom/starTabs",component:a("atom/starTabs")},{path:"atom/draftTabs",component:a("atom/draftTabs")},{path:"comment/list",component:a("comment/list")},{path:"comment/item",component:a("comment/item"),meta:{auth:!0}},{path:"comment/all",component:a("comment/all")},{path:"comment/autoHeart",component:a("comment/autoHeart"),meta:{auth:!0}},{path:"attachment/list",component:a("attachment/list")},{path:"attachment/all",component:a("attachment/all")},{path:"base/alert",component:a("base/alert")},{path:"base/about",component:a("base/about")},{path:"base/openLink",component:a("base/openLink")},{path:"category/select",component:a("category/categorySelect")},{path:"tag/select",component:a("tag/tagSelect")},{path:"resource/tree",component:r("resource/tree")},{path:"resource/authorize",component:a("resource/authorize")},{path:"resource/select",component:a("resource/resourceSelect")}]},81:(t,e,n)=>{"use strict";function a(t){return{state:{},getters:{},mutations:{},actions:{}}}n.d(e,{Z:()=>a})},833:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var a=n(3),r=n.n(a);function o(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){o(i,a,r,s,u,"next",t)}function u(t){o(i,a,r,s,u,"throw",t)}s(void 0)}))}}const s={data:function(){return{base:{ready:!1,configAtomBase:null,configAtom:null,config:null,layoutConfig:null,item:null,atomClass:null,module:null,validateParams:null,notfound:!1}}},computed:{base_ready:function(){return this.base.ready&&this.base_userLabels&&this.atomClassesAll&&this.actionsAll},base_user:function(){return this.$store.state.auth.user.op},base_userLabels:function(){return this.$store.getters["a/base/userLabels"]}},created:function(){this.$store.dispatch("a/base/getLabels")},mounted:function(){this.$meta.eventHub.$on("atom:star",this.base_onStarChanged),this.$meta.eventHub.$on("atom:labels",this.base_onLabelsChanged),this.$meta.eventHub.$on("atom:action",this.base_onActionChanged),this.$meta.eventHub.$on("atom:actions",this.base_onActionsChanged),this.$meta.eventHub.$on("comment:action",this.base_onCommentChanged),this.$meta.eventHub.$on("attachment:action",this.base_onAttachmentChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("atom:star",this.base_onStarChanged),this.$meta.eventHub.$off("atom:labels",this.base_onLabelsChanged),this.$meta.eventHub.$off("atom:action",this.base_onActionChanged),this.$meta.eventHub.$off("atom:actions",this.base_onActionsChanged),this.$meta.eventHub.$off("comment:action",this.base_onCommentChanged),this.$meta.eventHub.$off("attachment:action",this.base_onAttachmentChanged)},methods:{base_init:function(){var t=this;return i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("a/base/getLayoutConfig","a-basefront");case 2:return t.base.layoutConfig=e.sent,e.next=5,t.$store.dispatch("a/base/getAtomClasses");case 5:case"end":return e.stop()}}),e)})))()},base_getLayoutConfigKeyCurrent:function(){var t="".concat(this.base.atomClass.module,"_").concat(this.base.atomClass.atomClassName);return"atom.".concat(t,".render.item.layout.current.").concat(this.container.mode,".").concat(this.$view.size)},base_loadItem:function(){var t=this;return i(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.base_prepareReadOptions(),e.next=4,t.$api.post("/a/base/atom/read",{key:{atomId:t.container.atomId},options:n});case 4:return t.base.item=e.sent,t.base.atomClass={id:t.base.item.atomClassId,module:t.base.item.module,atomClassName:t.base.item.atomClassName},e.next=8,t.$meta.module.use(t.base.item.module);case 8:return t.base.module=e.sent,e.next=11,t.$api.post("/a/base/atom/validator",{atomClass:{id:t.base.item.atomClassId}});case 11:return a=e.sent,t.base.validateParams={module:a.module,validator:a.validator},e.next=15,t.actions_fetchActions();case 15:return e.abrupt("return",!0);case 18:return e.prev=18,e.t0=e.catch(0),t.base.notfound=!0,e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))()},base_prepareReadOptions:function(){var t={};return t.layout=this.layout.current,t},base_getCurrentStage:function(){if(!this.base.item)return null;var t=this.base.item.atomStage;return void 0!==t?this.base_stageToString(t):void 0},base_stageToString:function(t){return 0===t?"draft":1===t?"formal":"history"},base_onActionChanged:function(t){var e=this;return i(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.key,r=t.action,e.base_ready){n.next=4;break}return n.abrupt("return");case 4:if(e.base.item.atomId===a.atomId){n.next=6;break}return n.abrupt("return");case 6:if("save"!==r.name||"edit"!==e.container.mode||!e.page_getDirty()){n.next=25;break}if(t.actionSource!==e){n.next=11;break}e.base.item.atomUpdatedAt=new Date,n.next=24;break;case 11:return o=e.base.item.atomNameLocale||e.base.item.atomName,n.prev=12,n.next=15,e.$view.dialog.confirm(e.$text("DataChangedReloadConfirm"),o);case 15:if(!e.page_getDirty()){n.next=19;break}return n.next=18,e.base_loadItem();case 18:e.page_setDirty(!1);case 19:n.next=24;break;case 21:n.prev=21,n.t0=n.catch(12),e.base.item.atomUpdatedAt=new Date;case 24:return n.abrupt("return");case 25:if("create"!==r.name){n.next=27;break}return n.abrupt("return");case 27:return n.next=29,e.base_loadItem();case 29:case"end":return n.stop()}}),n,null,[[12,21]])})))()},base_onActionsChanged:function(t){var e=this;return i(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.key,e.base_ready){n.next=3;break}return n.abrupt("return");case 3:if(e.base.item.atomId===a.atomId){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,e.actions_fetchActions();case 7:case"end":return n.stop()}}),n)})))()},base_onOpenDrafted:function(t){var e=this;return i(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.key,e.base_ready){n.next=3;break}return n.abrupt("return");case 3:if(e.base.item.atomId===a.atomId){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,e.actions_fetchActions();case 7:case"end":return n.stop()}}),n)})))()},base_onCommentChanged:function(t){this.base.item&&t.atomId===this.container.atomId&&("create"===t.action&&(this.base.item.commentCount+=1),"delete"===t.action&&(this.base.item.commentCount-=1))},base_onAttachmentChanged:function(t){this.base.item&&t.atomId===this.container.atomId&&("create"===t.action&&(this.base.item.attachmentCount+=1),"delete"===t.action&&(this.base.item.attachmentCount-=1))},base_onStarChanged:function(t){this.base.item&&t.key.atomId===this.container.atomId&&(this.base.item.star=t.star)},base_onLabelsChanged:function(t){this.base.item&&t.key.atomId===this.container.atomId&&(this.base.item.labels=JSON.stringify(t.labels))}}};function u(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){u(o,a,r,i,s,"next",t)}function s(t){u(o,a,r,i,s,"throw",t)}i(void 0)}))}}const l={data:function(){return{layout:{current:null,config:null,instance:null,instanceExtend:null}}},created:function(){},beforeDestroy:function(){this.layout_destroyInstanceExtend()},methods:{layout_destroyInstanceExtend:function(){this.layout.instanceExtend&&(this.layout.instanceExtend.$destroy(),this.layout.instanceExtend=null)},layout_createInstanceExtend:function(){var t=this;return c(regeneratorRuntime.mark((function e(){var n,a,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$meta.util.getProperty(t.layout.config,"extend.component")){e.next=4;break}return t.layout_destroyInstanceExtend(),e.abrupt("return");case 4:return e.next=6,t.$meta.module.use(n.module);case 6:if(a=e.sent,r={propsData:{layoutManager:t}},o=a.options.components[n.name]){e.next=11;break}throw new Error("extend.component not found: ".concat(n.module,":").concat(n.name));case 11:i=t.$meta.util.createComponentInstance(o,r),t.layout_destroyInstanceExtend(),t.layout.instanceExtend=i;case 14:case"end":return e.stop()}}),e)})))()},layout_setInstance:function(t){var e=this;return c(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.layout_createInstanceExtend();case 2:e.layout.instance=t;case 3:case"end":return n.stop()}}),n)})))()},layout_clearInstance:function(t){this.layout.instance===t&&(this.layout.instance=null)},layout_prepareConfig:function(){var t=this;return c(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.base.atomClass,t.base.configAtomBase=t.$meta.config.modules["a-basefront"].atom,t.base.configAtom=t.$meta.util.getProperty(t.$meta.config.modules[n.module],"atoms.".concat(n.atomClassName)),!t.getAtomClass(n).cms||"a-cms"===n.module&&"article"===n.atomClassName){e.next=9;break}return e.next=7,t.$meta.module.use("a-cms");case 7:a=t.$meta.util.getProperty(t.$meta.config.modules["a-cms"],"atoms.article"),t.base.configAtom=t.base.configAtom?t.$meta.util.extend({},a,t.base.configAtom):a;case 9:t.base.config=t.base.configAtom?t.$meta.util.extend({},t.base.configAtomBase,t.base.configAtom):t.base.configAtomBase,t.layout_prepareConfigLayout();case 11:case"end":return e.stop()}}),e)})))()},layout_getDefault:function(){var t=this.base_getLayoutConfigKeyCurrent(),e=this.base.layoutConfig[t];if(e)return e;var n=this.$meta.util.getProperty(this.base.config,"render.item.info.layout.viewSize")[this.container.mode][this.$view.size];return Array.isArray(n)||(n=[n]),n[0].name},layout_prepareConfigLayout:function(t){this.layout.current=t||this.container.layout||this.layout_getDefault();var e=this.$meta.util.getProperty(this.base.config,"render.item.layouts.".concat(this.layout.current));if(e||(e=this.$meta.util.getProperty(this.base.config,"render.item.layouts.default")),!e)return!1;var n=this.$meta.util.getProperty(this.base.config,"render.item.layouts.base");return this.layout.config=n?this.$meta.util.extend({},n,e):e,!0},layout_switchLayout:function(t){var e=this;return c(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==e.layout.current){n.next=2;break}return n.abrupt("return",!0);case 2:if(e.layout.current=null,e.layout.config=null,e.subnavbar.enable=!1,e.subnavbar.render=!1,e.layout_prepareConfigLayout(t)){n.next=8;break}return n.abrupt("return",!1);case 8:return a=e.base_getLayoutConfigKeyCurrent(),e.$store.commit("a/base/setLayoutConfigKey",{module:"a-basefront",key:a,value:t}),n.abrupt("return",!0);case 11:case"end":return n.stop()}}),n)})))()},layout_getComponentOptions:function(){return{props:{layoutManager:this,layoutConfig:this.layout.config}}},layout_renderComponent:function(){var t=this.$createElement;return this.base.ready?t("eb-component",{attrs:{module:this.layout.config.component.module,name:this.layout.config.component.name,options:this.layout_getComponentOptions()}}):null},layout_getBlockComponentOptions:function(t){var e=t.blockConfig;return{props:{layoutManager:this,layout:this.layout.instance,blockConfig:e}}},layout_renderBlock:function(t){var e=t.blockName,n=this.$createElement;if(!this.base.ready)return null;if(!this.layout.instance)return null;var a=this.layout.config.blocks[e];if(!a)return n("div",["".concat(this.$text("Block Not Found"),": ").concat(e)]);var r=this.layout_getBlockComponentOptions({blockConfig:a});return n("eb-component",{attrs:{module:a.component.module,name:a.component.name,options:r}})},layout_renderSubnavbar:function(){return this.base.ready&&this.layout.instance&&this.subnavbar.enable?this.layout_renderBlock({blockName:"subnavbar"}):null},layout_renderLayout:function(){var t=this.$createElement;return this.base.notfound?t("f7-card",[t("f7-card-header",[this.$text("Friendly Tips")]),t("f7-card-content",[this.$text("Not Found")])]):t("div",[this.layout_renderComponent(),this.actions_renderPopover()])},layout_renderCaptionInit:function(){var t=this.$createElement;return this.base.ready?null:t("f7-nav-title",[t("div",[this.page_title])])},layout_renderPage:function(){var t=this.$createElement;return t("eb-page",{attrs:{withSubnavbar:this.subnavbar.enable}},[t("eb-navbar",{attrs:{"eb-back-link":"Back"}},[this.layout_renderCaptionInit(),this.layout_renderBlock({blockName:"caption"}),this.layout_renderBlock({blockName:"title"}),this.layout_renderSubnavbar()]),this.layout_renderLayout()])}}};function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}const d={data:function(){return{}},methods:{info_onLabel:function(){var t=this;if(this.base_user.anonymous)this.$view.dialog.confirm(this.$text("Please Sign In")).then((function(){t.$meta.vueLayout.openLogin()}));else{var e=this.base.item;this.$view.navigate("/a/basefront/atom/labels?atomId=".concat(e.atomId),{})}},info_onStarSwitch:function(){var t=this.base.item.star?0:1;return this._info_onStarSwitch(t)},_info_onStarSwitch:function(t){var e=this,n=this.base.item;if(!this.base_user.anonymous){var a={atomId:n.atomId,itemId:n.itemId};return this.$api.post("/a/base/atom/star",{key:a,atom:{star:t}}).then((function(t){e.$meta.eventHub.$emit("atom:star",{key:a,star:t.star,starCount:t.starCount})}))}this.$view.dialog.confirm(this.$text("Please Sign In")).then((function(){e.$meta.vueLayout.openLogin()}))},info_getLabel:function(t){return this.base_userLabels[t]},info_getItemMetaMedia:function(t){var e=t||this.$meta.config.modules["a-base"].user.avatar.default;return this.$meta.util.combineImageUrl(e,16)},info_renderActionsLeft:function(){var t=this.$createElement;if(this.base_ready){var e=this.base.item,n=[];if((0===e.atomStage||this.base.config.render.item.info.comment)&&n.push(t("eb-link",{key:"actionsLeft:comment",attrs:{iconF7:"::comment-dots",iconBadge:e.commentCount,tooltip:this.$text("Comments"),"eb-href":"/a/basefront/comment/list?atomId=".concat(e.atomId)}})),this.base.config.render.item.info.attachment&&n.push(t("eb-link",{key:"actionsLeft:attachment",attrs:{iconF7:"::attachment-line",iconBadge:e.attachmentCount,tooltip:this.$text("Attachments"),"eb-href":"/a/basefront/attachment/list?atomId=".concat(e.atomId)}})),1===e.atomStage&&n.push(t("eb-link",{key:"actionsLeft:star",attrs:{iconF7:e.star?"::star":":outline:star-outline",tooltip:this.$text("UserStar")},props:{onPerform:this.info_onStarSwitch}})),1===e.atomStage){var a=e.labels?JSON.parse(e.labels):[];if(a.length>0){var r,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(a);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=this.info_getLabel(i);n.push(t("eb-link",{key:i,attrs:{text:s.text,tooltip:this.$text("UserLabel")},style:{color:s.color},props:{onPerform:this.info_onLabel}}))}}catch(t){o.e(t)}finally{o.f()}}else n.push(t("eb-link",{key:"actionsLeft:label",attrs:{iconF7:":outline:label-outline",tooltip:this.$text("UserLabels")},props:{onPerform:this.info_onLabel}}))}return n}},info_renderAvatar:function(){var t=this.$createElement,e=this.base.item,n=[],a=!1;return e.userIdCreated!==e.userIdUpdated&&(a=!0,n.push(t("img",{key:"avatar:one",class:"avatar ".concat(a?"avatar12":"avatar16"),attrs:{src:this.info_getItemMetaMedia(e.avatarUpdated),title:e.userName}}))),n.push(t("img",{key:"avatar:two",class:"avatar ".concat(a?"avatar12":"avatar16"),attrs:{src:this.info_getItemMetaMedia(e.avatar),title:e.userName}})),t("div",{key:"avatar",class:"info-avatar"},[n])},info_renderDate:function(){var t=this.$createElement,e=this.base.item,n=[],a=this.$meta.util.formatDateTime(e.atomCreatedAt),r=this.$meta.util.formatDateTime(e.atomUpdatedAt),o=!1;return a!==r&&(o=!0,n.push(t("div",{key:"date:one"},[r]))),o?n.push(t("div",{key:"date:two"},[a])):(n.push(t("div",{key:"date:one2"},[this.$meta.util.formatDate(e.atomCreatedAt)])),n.push(t("div",{key:"date:two2"},[this.$meta.util.formatTime(e.atomCreatedAt)]))),t("div",{key:"date",class:"info-date"},[n])},info_renderActionsRight:function(){var t=this.$createElement;if(this.base_ready){var e=this.base.item,n=[];return 0===e.atomStage&&1===e.atomClosed&&n.push(t("f7-badge",{key:"atomClosed",attrs:{color:"orange"}},[this.$text("Closed")])),0===e.atomStage&&e.flowNodeNameCurrentLocale&&n.push(t("f7-badge",{key:"flowNodeNameCurrent",attrs:{color:"orange"}},[e.flowNodeNameCurrentLocale])),n.push(this.info_renderAvatar()),n.push(this.info_renderDate()),n}}}};function f(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}const b={data:function(){return{actions:{list:null,popoverId:r().prototype.$meta.util.nextId("popover")}}},computed:{actions_listPopover:function(){var t=this;if(!this.base_ready)return null;var e,n=[],a=h(this.actions.list);try{for(a.s();!(e=a.n()).done;){var r=e.value;if("layout"!==r.name&&!("write"===r.name&&this.base.item.atomStage===this.base.item.atomSimple||"read"===r.name&&"view"===this.container.mode)){var o=this.getAction(r);if(o.stage&&!o.stage.split(",").some((function(e){return t.$meta.config.modules["a-base"].stage[e]===t.base.item.atomStage})))continue;n.push(r)}}}catch(t){a.e(t)}finally{a.f()}return this.base.item.atomIdFormal&&n.push({module:this.base.atomClass.module,atomClassName:this.base.atomClass.atomClassName,name:"formal"}),(this.base.item.atomIdFormal||1===this.base.item.atomStage)&&!1!==this.getAtomClass(this.base.atomClass).history&&n.push({module:this.base.atomClass.module,atomClassName:this.base.atomClass.atomClassName,name:"history"}),0===this.base.item.atomStage&&this.base.item.atomFlowId>0&&n.push({module:this.base.atomClass.module,atomClassName:this.base.atomClass.atomClassName,name:"workflow"}),n.length>0?n:null}},methods:{actions_fetchActions:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.post("/a/base/atom/actions",{key:{atomId:e.container.atomId}});case 2:e.actions.list=t.sent;case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){f(o,a,r,i,s,"next",t)}function s(t){f(o,a,r,i,s,"throw",t)}i(void 0)}))})()},actions_findAction:function(t){return this.actions.list?this.actions.list.find((function(e){return e.name===t})):null},actions_onSubmit:function(){this.$refs.buttonSave.onClick()},actions_submit:function(t,e){var n={action:e},a=this.validate_getInstance();return a?a.perform(t,n):this.validate_onPerformValidateWrapper(t,n)},actions_onAction:function(t,e){if("save"===e||"submit"===e)return this.actions_submit(t,e);if("submit"===e.name)return this.actions_submit(t,e.name);"string"==typeof e&&(e={module:this.base.atomClass.module,atomClassName:this.base.atomClass.atomClassName,name:e});var n=this.getAction(e);return n?(n=this.$utils.extend({},n,{targetEl:t.currentTarget}),"write"===e.name&&(n=this.$utils.extend({},n,{navigateOptions:{target:"_self"}})),this.$meta.util.performAction({ctx:this,action:n,item:this.base.item})):void 0},actions_getActionTitle:function(t){return this.getActionTitle(t,this.base.item)},actions_render:function(){var t=this,e=this.$createElement;if(!this.base_ready)return null;var n=[];if(this.actions_findAction("layout")){var a="layout";n.push(e("eb-link",{key:a,ref:"buttonLayout",attrs:{iconF7:"::view-list",tooltip:this.$text("Layout")},props:{onPerform:function(e){return t.actions_onAction(e,a)}}}))}var r=1===this.base.item.atomClosed,o=this.actions_findAction("write");if(o&&this.base.item.atomStage===this.base.item.atomSimple&&!r){var i="edit"===this.container.mode?"::save":"::edit",s="edit"===this.container.mode?"save":"write",u="edit"===this.container.mode?"Save":"Edit";n.push(e("eb-link",{key:s,ref:"buttonSave",attrs:{iconF7:i,tooltip:this.$text(u)},props:{onPerform:function(e){return t.actions_onAction(e,s)}}}))}if(o&&0===this.base.item.atomStage&&!r){var c="submit";n.push(e("eb-link",{key:c,ref:"buttonSubmit",attrs:{iconF7:"::done",tooltip:this.$text("Submit")},props:{onPerform:function(e){return t.actions_onAction(e,c)}}}))}return this.actions_listPopover&&n.push(e("f7-link",{key:"actionsPopover",attrs:{iconF7:"::more-horiz","popover-open":"#".concat(this.actions.popoverId)}})),n},actions_renderPopover:function(){var t,e=this,n=this.$createElement,a=this.actions_listPopover;if(a){var r,o=[],i=h(a);try{var s=function(){var t=r.value,a=e.getAction(t);o.push(n("eb-list-item",{key:t.id,attrs:{link:"#","popover-close":!0},props:{onPerform:function(n){return e.actions_onAction(n,t)}}},[n("f7-icon",{slot:"media",attrs:{material:a.icon&&a.icon.material,f7:a.icon&&a.icon.f7}}),n("div",{slot:"title"},[e.actions_getActionTitle(t)])]))};for(i.s();!(r=i.n()).done;)s()}catch(t){i.e(t)}finally{i.f()}t=n("f7-list",{attrs:{inset:!0}},[o])}return n("f7-popover",{attrs:{id:this.actions.popoverId}},[t])}}};function g(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){g(o,a,r,i,s,"next",t)}function s(t){g(o,a,r,i,s,"throw",t)}i(void 0)}))}}const y={data:function(){return{validate:{errors:null}}},computed:{validate_host:function(){return{stage:this.base_getCurrentStage(),mode:this.container.mode,atomId:this.container.atomId}}},methods:{validate_getInstance:function(){return this.$refs.validate},validate_onSubmit:function(){this.actions_onSubmit()},validate_onPerformValidateWrapper:function(t,e){var n=this;return v(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n.validate_onPerformValidate(t,e);case 3:!0===(r=a.sent)?n.$view.toast.show({text:n.$text("Operation Succeeded")}):"string"==typeof r&&n.$view.toast.show({text:r}),a.next=18;break;case 7:if(a.prev=7,a.t0=a.catch(0),422!==a.t0.code){a.next=15;break}return n.validate.errors=a.t0.message,o=n.$text("Data Validation Error"),n.$view.toast.show({text:o}),n.$nextTick((function(){n.layout_switchLayout("default")})),a.abrupt("return");case 15:if(!a.t0.message){a.next=18;break}throw n.$view.toast.show({text:a.t0.message}),a.t0;case 18:case"end":return a.stop()}}),a,null,[[0,7]])})))()},validate_onPerformValidate:function(t,e){var n=this;return v(regeneratorRuntime.mark((function t(){var a,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e&&e.action,r=n.$utils.extend({},n.actions_findAction("write"),{name:a}),o=n.getAction(r),t.next=5,n.$meta.util.performAction({ctx:n,action:o,item:n.base.item});case 5:return i=t.sent,"save"!==a&&"submit"!==a||n.page_setDirty(!1),t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})))()},validate_onValidateItemChange:function(){"edit"===this.container.mode&&this.page_setDirty(!0)},validate_errorsSet:function(t){this.validate.errors=t},validate_errorsReset:function(){this.validate.errors=null},validate_render:function(){var t=this.$createElement;return this.base_ready?t("eb-validate",{ref:"validate",attrs:{host:this.validate_host,readOnly:"edit"!==this.container.mode,auto:!0,data:this.base.item,params:this.base.validateParams,errors:this.validate.errors},props:{onPerform:this.validate_onPerformValidate},on:{submit:this.validate_onSubmit,validateItemChange:this.validate_onValidateItemChange,errorsSet:this.validate_errorsSet,errorsReset:this.validate_errorsReset}}):null}}};function _(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){_(o,a,r,i,s,"next",t)}function s(t){_(o,a,r,i,s,"throw",t)}i(void 0)}))}}const C={data:function(){return{}},methods:{share_createLink:function(t){var e=this;return x(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.capability,n.next=3,e.$api.post("/a/share/share/generate",{host:a.host,atomId:e.container.atomId,url:e.$pageRoute.url});case 3:return r=n.sent,n.abrupt("return",r.link);case 5:case"end":return n.stop()}}),n)})))()},share_updateLink:function(){var t=this;return x(regeneratorRuntime.mark((function e(){var n,a,r,o,i,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1===t.base.item.atomStage&&!t.base_user.anonymous){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n={actionModule:"a-host",actionComponent:"capabilities",name:"lookup"},e.next=6,t.$meta.util.performAction({ctx:t,action:n,item:{name:"shareLink"}});case 6:if(a=e.sent){e.next=9;break}return e.abrupt("return");case 9:return n={actionModule:"a-host",actionComponent:"capabilities",name:"invoke"},r=t.base.item.atomName||"",o=t.base.item.description||t.base.item.summary||"",e.next=14,t.share_createLink({capability:a});case 14:return i=e.sent,(s=t.base.item.imageCover||t.base.item.imageFirst)||(u=t.$meta.config.modules["a-base"],s=t.$meta.util.combineFetchStaticPath(u.site.cover)),c={name:"shareLink",options:{title:r,desc:o,link:i,imgUrl:s,success:function(){t.$view.toast.show({text:t.$text("SharingCompleted")})}}},e.next=20,t.$meta.util.performAction({ctx:t,action:n,item:c});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(2);case 24:case"end":return e.stop()}}),e,null,[[2,22]])})))()}}};function k(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const w={mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebAtomClasses,r().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions,r().prototype.$meta.module.get("a-components").options.mixins.ebPageDirty,s,{data:function(){return{}},computed:{page_title:function(){return this.page_getTitle()}},methods:{page_getTitle:function(){var t;return t=this.base.item?this.base.item.atomName:"edit"===this.container.mode?this.$text("Edit"):this.$text("View"),this.page_getDirtyTitle(t)},page_getSubtitle:function(){var t=this.base_getCurrentStage();return t&&"formal"!==t?this.$text(t.replace(t[0],t[0].toUpperCase())):""}}},l,{data:function(){return{subnavbar:{enable:!1,render:!1}}},methods:{subnavbar_policyDefault:function(){var t=this.subnavbar_policyDefaultCalc(),e=t.enable,n=t.render;this.subnavbar.enable=e,this.subnavbar.render=n},subnavbar_policyDefaultCalc:function(){return{enable:"small"===this.$view.size,render:!0}}}},d,b,y,C],data:function(){return{}},created:function(){this.index_load()},beforeDestroy:function(){this.$emit("layoutManager:destroy")},methods:{index_load:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.base_init();case 2:return t.next=4,e.base_loadItem();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.layout_prepareConfig();case 9:return t.next=11,e.share_updateLink();case 11:e.base.ready=!0;case 12:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){k(o,a,r,i,s,"next",t)}function s(t){k(o,a,r,i,s,"throw",t)}i(void 0)}))})()}}}},883:(t,e,n)=>{"use strict";n.d(e,{Z:()=>I});var a=n(3),r=n.n(a);function o(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const i={data:function(){return{base:{ready:!1,configAtomBase:null,configAtom:null,config:null,layoutConfig:null}}},computed:{base_user:function(){return this.$store.state.auth.user.op},base_userLabels:function(){return this.$store.getters["a/base/userLabels"]}},created:function(){this.$store.dispatch("a/base/getLabels")},methods:{base_init:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("a/base/getLayoutConfig","a-basefront");case 2:return e.base.layoutConfig=t.sent,t.next=5,e.$store.dispatch("a/base/getAtomClasses");case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){o(i,a,r,s,u,"next",t)}function u(t){o(i,a,r,s,u,"throw",t)}s(void 0)}))})()},base_getLayoutConfigKeyCurrent:function(){var t=this.container.atomClass?"".concat(this.container.atomClass.module,"_").concat(this.container.atomClass.atomClassName):null;return"atom.".concat(t,".render.list.layout.current.").concat(this.$view.size)},base_prepareReadOptions:function(){var t={};return t.layout=this.layout.current,t},base_prepareSelectOptions:function(){var t={where:{}};return t.layout=this.layout.current,this.search.query&&(t.where["a.atomName"]={val:this.search.query,op:"like"}),"select"===this.container.scene&&(t.where["a.id"]=this.container.params.selectedAtomIds.length>0?this.container.params.selectedAtomIds:null),this.container.options&&(t=this.$utils.extend({},t,this.container.options)),t},base_prepareSelectParams:function(t){var e=!t||!1!==t.setOrder,n=this.base_prepareSelectOptions(),a={atomClass:this.container.atomClass,options:n},r=this.filter_prepareSelectParams();if(r&&(a=this.$utils.extend({},a,r)),e){var o=this.order.selected||this.order_default(a);a.options.orders=[[this.order_getKey(o),o.by]]}return a},base_getItems:function(){return this.data_getItems()},base_getCurrentStage:function(){var t=this.$meta.util.getProperty(this.filter.data,"form.stage");return t||(t=this.container.options&&this.container.options.stage),t||(t="formal"),t},base_stageToString:function(t){return 0===t?"draft":1===t?"formal":"history"},base_getExportFields:function(){return this.$meta.util.getProperty(this.base.config,"render.list.info.export.fields")}}};function s(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){s(o,a,r,i,u,"next",t)}function u(t){s(o,a,r,i,u,"throw",t)}i(void 0)}))}}const c={data:function(){return{layout:{current:null,config:null,instance:null,instanceExtend:null}}},created:function(){},beforeDestroy:function(){this.layout_destroyInstanceExtend()},methods:{layout_destroyInstanceExtend:function(){this.layout.instanceExtend&&(this.layout.instanceExtend.$destroy(),this.layout.instanceExtend=null)},layout_createInstanceExtend:function(){var t=this;return u(regeneratorRuntime.mark((function e(){var n,a,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$meta.util.getProperty(t.layout.config,"extend.component")){e.next=4;break}return t.layout_destroyInstanceExtend(),e.abrupt("return");case 4:return e.next=6,t.$meta.module.use(n.module);case 6:if(a=e.sent,r={propsData:{layoutManager:t}},o=a.options.components[n.name]){e.next=11;break}throw new Error("extend.component not found: ".concat(n.module,":").concat(n.name));case 11:i=t.$meta.util.createComponentInstance(o,r),t.layout_destroyInstanceExtend(),t.layout.instanceExtend=i;case 14:case"end":return e.stop()}}),e)})))()},layout_setInstance:function(t){var e=this;return u(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.layout_createInstanceExtend();case 2:e.layout.instance=t;case 3:case"end":return n.stop()}}),n)})))()},layout_clearInstance:function(t){this.layout.instance===t&&(this.layout.instance=null)},layout_extend_onTableColumns:function(t){var e=t.columns,n=this.layout.instanceExtend;return n&&n.onTableColumns&&(e=n.onTableColumns({columns:e})),e},layout_extend_onFilterSchema:function(t){var e=t.schema,n=t.type,a=this.layout.instanceExtend;return a&&a.onFilterSchema&&(e=a.onFilterSchema({schema:e,type:n})),e},layout_prepareConfig:function(){var t=this;return u(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.container.atomClass,t.base.configAtomBase=t.$meta.config.modules["a-basefront"].atom,!n){e.next=12;break}return e.next=5,t.$meta.module.use(n.module);case 5:if(t.base.configAtom=t.$meta.util.getProperty(t.$meta.config.modules[n.module],"atoms.".concat(n.atomClassName)),!t.getAtomClass(n).cms||"a-cms"===n.module&&"article"===n.atomClassName){e.next=12;break}return e.next=10,t.$meta.module.use("a-cms");case 10:a=t.$meta.util.getProperty(t.$meta.config.modules["a-cms"],"atoms.article"),t.base.configAtom=t.base.configAtom?t.$meta.util.extend({},a,t.base.configAtom):a;case 12:t.base.config=t.base.configAtom?t.$meta.util.extend({},t.base.configAtomBase,t.base.configAtom):t.base.configAtomBase,t.layout_prepareConfigLayout();case 14:case"end":return e.stop()}}),e)})))()},layout_getDefault:function(){var t=this.base_getLayoutConfigKeyCurrent(),e=this.base.layoutConfig[t];if(e)return e;var n=this.$meta.util.getProperty(this.base.config,"render.list.info.layout.viewSize")[this.$view.size];return Array.isArray(n)||(n=[n]),n[0].name},layout_prepareConfigLayout:function(t){this.layout.current=t||this.container.layout||this.layout_getDefault();var e=this.$meta.util.getProperty(this.base.config,"render.list.layouts.".concat(this.layout.current));if(!e)return!1;var n=this.$meta.util.getProperty(this.base.config,"render.list.layouts.base");return this.layout.config=n?this.$meta.util.extend({},n,e):e,!0},layout_switchLayout:function(t){var e=this;return u(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==e.layout.current){n.next=2;break}return n.abrupt("return",!0);case 2:if(e.layout.current=null,e.layout.config=null,e.subnavbar.enable=!1,e.subnavbar.render=!1,e.bottombar.enable=!1,e.data.adapter&&(e.data.adapter.providerName=null),e.layout_prepareConfigLayout(t)){n.next=10;break}return n.abrupt("return",!1);case 10:return a=e.base_getLayoutConfigKeyCurrent(),e.$store.commit("a/base/setLayoutConfigKey",{module:"a-basefront",key:a,value:t}),n.abrupt("return",!0);case 13:case"end":return n.stop()}}),n)})))()},layout_getComponentOptions:function(){return{props:{layoutManager:this,layoutConfig:this.layout.config}}},layout_renderComponent:function(){var t=this.$createElement;return this.base.ready?t("eb-component",{attrs:{module:this.layout.config.component.module,name:this.layout.config.component.name,options:this.layout_getComponentOptions()}}):null},layout_getBlockComponentOptions:function(t){var e=t.blockConfig,n=t.info;return{props:{layoutManager:this,layout:this.layout.instance,blockConfig:e,info:n}}},layout_renderBlock:function(t){var e=t.blockName,n=t.key,a=t.info,r=t.listItem,o=this.$createElement;if(!this.base.ready)return null;if(!this.layout.instance)return null;var i=this.layout.config.blocks[e];if(!i)return o("div",["".concat(this.$text("Block Not Found"),": ").concat(e)]);var s=this.layout_getBlockComponentOptions({blockConfig:i,info:a});return o(r?"eb-list-item-component":"eb-component",{key:n,attrs:{module:i.component.module,name:i.component.name,options:s}})},layout_renderSubnavbar:function(){return this.base.ready&&this.layout.instance&&this.subnavbar.enable?this.layout_renderBlock({blockName:"subnavbar"}):null},layout_renderBottombar:function(){var t=this.$createElement;return this.base.ready&&this.layout.instance&&this.bottombar.enable?t("f7-toolbar",{attrs:{position:"bottom"}},[this.layout_renderBlock({blockName:"bottombar"})]):null},layout_renderLayout:function(){return(0,this.$createElement)("div",[this.layout_renderComponent(),this.order_renderPopover()])},layout_renderCaptionInit:function(){var t=this.$createElement;return this.base.ready?null:t("f7-nav-title",[t("div",[this.page_title])])},layout_renderPage:function(){var t=this.$createElement;return t("eb-page",{attrs:{withSubnavbar:this.subnavbar.enable,ptr:!0,infinite:!0,infinitePreloader:!1},on:{ptrRefresh:this.page_onRefresh,infinite:this.page_onInfinite}},[t("eb-navbar",{attrs:{"eb-back-link":"Back"}},[this.layout_renderCaptionInit(),this.layout_renderBlock({blockName:"caption"}),this.layout_renderBlock({blockName:"title"}),this.layout_renderSubnavbar()]),this.layout_renderBottombar(),this.layout_renderLayout()])}}};function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function m(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){m(o,a,r,i,s,"next",t)}function s(t){m(o,a,r,i,s,"throw",t)}i(void 0)}))}}const f={data:function(){return{bulk:{actions:null,selectedAtoms:[],selecting:!1}}},methods:{bulk_actionsInit:function(){var t=this;return d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.container.atomClass||"select"===t.container.scene||"selecting"===t.container.scene){e.next=3;break}return e.next=3,t.bulk_loadActions();case 3:case"end":return e.stop()}}),e)})))()},bulk_onAction:function(t,e){this.$f7.tooltip.hide(t.currentTarget);var n=this.getAction(e);if(n){n=this.$utils.extend({},n,{targetEl:t.currentTarget});var a={atomClassId:e.atomClassId,module:e.module,atomClassName:e.atomClassName,atomClassIdParent:e.atomClassIdParent};if("create"===n.name){var r=this.$meta.util.getProperty(this.container.params,"createParams");r&&(a=this.$utils.extend({},a,r));var o=this.base_prepareSelectParams({setOrder:!1});o.options.language&&(a.atomLanguage=o.options.language),o.options.category&&(a.atomCategoryId=o.options.category)}return this.$meta.util.performAction({ctx:this,action:n,item:a})}},bulk_loadActions:function(){var t=this;return d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.bulk.actions){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$api.post("/a/base/atom/actionsBulk",{atomClass:t.container.atomClass,stage:t.base_getCurrentStage()});case 4:t.bulk.actions=e.sent;case 5:case"end":return e.stop()}}),e)})))()},bulk_clearSelectedAtoms:function(){this.bulk.selectedAtoms=[]},bulk_closeSelecting:function(){this.bulk.selecting=!1,this.bulk_clearSelectedAtoms()},bulk_onSelectingSwitch:function(){this.bulk.selecting=!this.bulk.selecting,this.bulk.selecting||this.bulk_clearSelectedAtoms()},bulk_onItemChange:function(t,e){var n=this.bulk.selectedAtoms,a=n.findIndex((function(t){return t.atomId===e.atomId}));t.currentTarget.checked&&-1===a?n.push(e):!t.currentTarget.checked&&a>-1&&n.splice(a,1)},bulk_onSelectingChecking:function(){var t=this.base_getItems();this.bulk.selectedAtoms.length>=t.length?this.bulk.selectedAtoms=[]:this.bulk.selectedAtoms=t.concat()},bulk_renderActionsLeft:function(){var t=this.$createElement,e=[],n=this.base_getItems(),a=this.bulk.selectedAtoms;return(n.length>0||this.bulk.selecting)&&e.push(t("eb-link",{key:"actionsLeft:select",attrs:{iconF7:"::grading",tooltip:this.$text("Select")},props:{onPerform:this.bulk_onSelectingSwitch}})),this.bulk.selecting&&e.push(t("eb-link",{key:"actionsLeft:selectChecking",attrs:{iconF7:0===a.length?":outline:checkbox-outline":"::checkbox-checked",iconBadge:a.length.toString()},props:{onPerform:this.bulk_onSelectingChecking}})),e},bulk_renderActionsLeftB:function(){var t=this.$createElement,e=[],n=this.bulk.selectedAtoms;return e.push(t("eb-link",{key:"actionsLeftB:select",attrs:{iconF7:"::grading",iconBadge:this.bulk.selecting?n.length.toString():0,tooltip:this.$text("Select")},props:{onPerform:this.bulk_onSelectingSwitch}})),e},bulk_renderActionsRight:function(){var t=this,e=this.$createElement,n=[],a=this.base_getCurrentStage(),r=this.bulk.selectedAtoms;if(this.bulk.actions&&this.actionsAll){var o,i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(this.bulk.actions);try{var s=function(){var i=o.value,s=t.getAction(i);if(s.stage&&!s.stage.split(",").some((function(t){return t===a})))return"continue";(void 0===s.select||null===s.select||!0===s.select&&r.length>0||!1===s.select&&!t.bulk.selecting)&&n.push(e("eb-link",{key:"actionsRight:".concat(s.name),attrs:{iconMaterial:s.icon&&s.icon.material,iconF7:s.icon&&s.icon.f7,tooltip:s.icon&&s.titleLocale},props:{onPerform:function(e){return t.bulk_onAction(e,i)}}},[!s.icon&&s.titleLocale]))};for(i.s();!(o=i.n()).done;)s()}catch(t){i.e(t)}finally{i.f()}}return n}}};function h(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const p={data:function(){return{select:{selectedAtoms:[]}}},methods:{select_prepareSelectedAtoms:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("selecting"===e.container.scene){t.next=2;break}return t.abrupt("return");case 2:if(!e.container.params.selectedAtoms){t.next=5;break}return e.select.selectedAtoms=e.container.params.selectedAtoms,t.abrupt("return");case 5:if(!((n=e.container.params.selectedAtomIds)&&n.length>0)){t.next=13;break}return a={options:{where:{"a.id":n}}},t.next=10,e.$api.post("/a/base/atom/select",a);case 10:return r=t.sent,e.select.selectedAtoms=r.list,t.abrupt("return");case 13:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){h(o,a,r,i,s,"next",t)}function s(t){h(o,a,r,i,s,"throw",t)}i(void 0)}))})()},select_getSelectedAtoms:function(){return"selecting"===this.container.scene?this.select.selectedAtoms:"select"===this.container.scene?this.base_getItems():void 0},select_onItemChange:function(t,e){if("single"===this.container.params.selectMode)t.currentTarget.checked&&(this.select.selectedAtoms=[e]);else{var n=this.select.selectedAtoms,a=n.findIndex((function(t){return t.atomId===e.atomId}));t.currentTarget.checked&&-1===a?n.push(e):!t.currentTarget.checked&&a>-1&&n.splice(a,1)}}}};function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}const g={data:function(){return{order:{selected:null}}},computed:{order_current:function(){return this.order.selected||this.order_default()},order_list:function(){var t=this.$meta.util.getProperty(this.base.config,"render.list.info.ordersBase"),e=this.$meta.util.getProperty(this.base.config,"render.list.info.orders");return e?t.concat(e):t}},methods:{order_default:function(t){return t||(t=this.base_prepareSelectParams({setOrder:!1})),"select"===this.container.scene?{name:"atomName",by:"asc",tableAlias:"a"}:t.options.star?{name:"updatedAt",by:"desc",tableAlias:"d"}:t.options.label?{name:"updatedAt",by:"desc",tableAlias:"e"}:this._order_default_others()},_order_default_others:function(){return this.order_list.find((function(t){return t.default}))||{name:"atomUpdatedAt",by:"desc",tableAlias:""}},order_onPerformPopover:function(t){var e=this.$refs.order_popover.$el;this.$f7.popover.open(e,t.currentTarget)},order_onPerformChange:function(t,e){var n=this.order_current;this.order_getKey(n)===this.order_getKey(e)?this.order.selected={name:n.name,tableAlias:n.tableAlias,by:"desc"===n.by?"asc":"desc"}:this.order.selected=e,this.page_onRefresh()},order_getKey:function(t){return t?""===t.tableAlias?t.name:"".concat(t.tableAlias||"f",".").concat(t.name):null},order_getStatus:function(t){var e=this.order_current;return this.order_getKey(e)===this.order_getKey(t)?"desc"===e.by?"::arrow-drop-down":"::arrow-drop-up":""},order_renderAction:function(){var t=this;return(0,this.$createElement)("eb-link",{attrs:{iconF7:"::sort",tooltip:this.$text("Sort")},props:{onPerform:function(e){return t.order_onPerformPopover(e)}}})},order_renderPopover:function(){var t=this,e=this.$createElement;if(!this.base.ready)return null;var n,a=[],r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(this.order_list);try{var o=function(){var r=n.value;a.push(e("eb-list-item",{key:t.order_getKey(r),attrs:{popoverClose:!0,link:"#"},props:{onPerform:function(e){return t.order_onPerformChange(e,r)}}},[e("f7-icon",{slot:"media",attrs:{f7:t.order_getStatus(r)}}),e("div",{slot:"title"},[t.$text(r.title)])]))};for(r.s();!(n=r.n()).done;)o()}catch(t){r.e(t)}finally{r.f()}return e("eb-popover",{ref:"order_popover",attrs:{ready:!0}},[e("f7-list",{attrs:{inset:!0}},[a])])}}};function v(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){v(o,a,r,i,s,"next",t)}function s(t){v(o,a,r,i,s,"throw",t)}i(void 0)}))}}const _={data:function(){return{filter:{data:null,tabNameCurrent:null}}},methods:{filter_prepareData:function(){var t=this;return y(regeneratorRuntime.mark((function e(){var n,a,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={atomName:null,mine:t.container.options&&t.container.options.mine||0,stage:t.container.options&&t.container.options.stage||"formal",language:t.container.options&&t.container.options.language||"",category:t.container.options&&t.container.options.category||0,tag:t.container.options&&t.container.options.tag||0,star:t.container.options&&t.container.options.star||0,label:t.container.options&&t.container.options.label||0,atomClass:t.container.atomClass},a=t.$meta.util.getProperty(t.container,"params.filter.formAtomClass")||{},e.next=4,t.filter_loadSchemaBasic();case 4:return r=e.sent,e.next=7,t.filter_loadSchemaGeneral();case 7:return o=e.sent,e.next=10,t.filter_loadSchemaSearch(t.container.atomClass);case 10:i=e.sent,t.filter.data={form:n,formAtomClass:a,schemaBasic:r,schemaGeneral:o,schemaSearch:i,searchStatesBasic:null,searchStatesGeneral:null,searchStatesSearch:null};case 12:case"end":return e.stop()}}),e)})))()},filter_loadSchemaBasic:function(){var t=this;return y(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter_getConfig(),a=n.tabs.basic,e.next=4,t.$meta.module.use(a.schema.module);case 4:return e.next=6,t.$api.post("/a/validation/validation/schema",{module:a.schema.module,schema:a.schema.schema});case 6:return r=e.sent,e.next=9,t.$meta.util.combineSearchClauseLoadModules({schema:r});case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))()},filter_loadSchemaGeneral:function(){var t=this;return y(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter_getConfig(),a=n.tabs.general,e.next=4,t.$meta.module.use(a.schema.module);case 4:return e.next=6,t.$api.post("/a/validation/validation/schema",{module:a.schema.module,schema:a.schema.schema});case 6:return r=e.sent,e.next=9,t.$meta.util.combineSearchClauseLoadModules({schema:r});case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))()},filter_loadSchemaSearch:function(t){var e=this;return y(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",null);case 2:return n.next=4,e.$meta.module.use(t.module);case 4:return n.next=6,e.$api.post("/a/base/atomClass/validatorSearch",{atomClass:{module:t.module,atomClassName:t.atomClassName}});case 6:return a=n.sent,n.next=9,e.$api.post("/a/validation/validation/schema",{module:a.module,validator:a.validator,schema:null});case 9:return r=n.sent,n.next=12,e.$meta.util.combineSearchClauseLoadModules({schema:r});case 12:return n.abrupt("return",r);case 13:case"end":return n.stop()}}),n)})))()},filter_prepareSelectParams:function(){if(!this.filter.data)return null;var t={where:{}},e={options:t},n=this.filter.data.form;if(n){var a=this.$meta.util.combineSearchClause({ctx:this,schema:this.filter.data.schemaBasic,data:n,searchStates:this.filter.data.searchStatesBasic}),r=this.$meta.util.combineSearchClause({ctx:this,schema:this.filter.data.schemaGeneral,data:n,searchStates:this.filter.data.searchStatesGeneral}),o=Object.assign({},a,r);for(var i in o.atomClass&&(e.atomClass=o.atomClass.val,delete o.atomClass),o.__or__atomNameResource&&(t.where.__or__atomNameResource=o.__or__atomNameResource,delete o.__or__atomNameResource),o.__and__createdAt&&(t.where.__and__createdAt=o.__and__createdAt,delete o.__and__createdAt),o)t[i]=o[i].val;n.category&&(t.category=n.category),n.tag&&(t.tag=n.tag)}var s=this.filter.data.formAtomClass;if(s){var u=this.$meta.util.combineSearchClause({ctx:this,schema:this.filter.data.schemaSearch,data:s,searchStates:this.filter.data.searchStatesSearch});u&&(Object.assign(t.where,u),Object.keys(u).length>0&&(t.mode="search"))}return e},filter_getSchemaSearch:function(){return this.$meta.util.getProperty(this.filter,"data.schemaSearch")},filter_getSchemaSearchProperty:function(t){var e=t.schema,n=t.key;return this.$meta.util.getProperty(e,"properties.".concat(n))},filter_getConfig:function(){return this.$meta.util.getProperty(this.base.config,"render.list.info.filter")},filter_openTab:function(t){this.filter.tabNameCurrent=t,this.filter_onPerform()},filter_onPerform:function(){var t=this.$view.inPanel(),e="pc"===this.$meta.vueApp.layout&&!t,n=this.filter_getConfig(),a=n.actionPath,r={context:{params:{layoutManager:this,filterConfig:n,immediate:e}}};e?(r.scene="sidebar",r.sceneOptions={side:"right",name:"filter",title:"Filter"}):r.target="_self",this.$view.navigate("".concat(a,"?t=").concat(Date.now()),r)},filter_onChanged:function(t){this.filter.data=t,this.page_onRefresh()},filter_renderAction:function(){var t=this.$createElement;return this.container.params&&!0===this.container.params.disableFilter?null:t("eb-link",{attrs:{iconF7:"::search",tooltip:this.$text("Filter")},props:{onPerform:this.filter_onPerform}})}}};function x(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const C={data:function(){return{}},methods:{actions_fetchActions:function(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._actions){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.$api.post("/a/base/atom/actions",{key:{atomId:t.atomId},basic:!n.$device.desktop});case 4:a=(a=e.sent).filter((function(t){return!n.getAction(t).disableInList})),0===t.atomStage&&t.atomFlowId>0&&a.push({module:t.module,atomClassName:t.atomClassName,name:"workflow"}),r().set(t,"_actions",a);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(t){x(o,a,r,i,s,"next",t)}function s(t){x(o,a,r,i,s,"throw",t)}i(void 0)}))})()}}};function k(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function w(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){k(o,a,r,i,s,"next",t)}function s(t){k(o,a,r,i,s,"throw",t)}i(void 0)}))}}const $={data:function(){return{data:{adapter:null}}},beforeDestroy:function(){this.data.adapter&&(this.data.adapter.$destroy(),this.data.adapter=null)},methods:{data_adapterInit:function(){var t=this;return w(regeneratorRuntime.mark((function e(){var n,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$meta.util.getProperty(t.base.config,"render.list.info.data.adapter.component"),e.next=3,t.$meta.module.use(n.module);case 3:a=e.sent,r={propsData:{layoutManager:t}},o=a.options.components[n.name],t.data.adapter=t.$meta.util.createComponentInstance(o,r);case 7:case"end":return e.stop()}}),e)})))()},data_providerSwitch:function(t){var e=this;return w(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.data.adapter.providerSwitch(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},data_callMethod:function(t){var e;if(!this.data.adapter)return null;for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return(e=this.data.adapter)[t].apply(e,a)},data_onPageRefresh:function(t){return this.data_callMethod("onPageRefresh",t)},data_onPageInfinite:function(){return this.data_callMethod("onPageInfinite")},data_onPageClear:function(){return this.data_callMethod("onPageClear")},data_getItems:function(){return this.data_callMethod("getItems")},data_getLoading:function(){return this.data_callMethod("getLoading")},data_renderLoadMore:function(){return this.layout.instance?this.data_callMethod("renderLoadMore"):null}}};function A(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const I={mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebAtomClasses,r().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions,i,{data:function(){return{}},computed:{page_title:function(){return this.page_getTitle()}},methods:{page_onRefresh:function(t){t&&t(),this.data_onPageRefresh(!0)},page_onInfinite:function(){this.data_onPageInfinite()},page_onClear:function(){this.data_onPageClear()},page_getTitle:function(){if(this.container.params&&this.container.params.pageTitle)return this.container.params.pageTitle;var t=this.getAtomClass(this.container.atomClass),e=t&&t.titleLocale;return"select"===this.container.scene?t?"".concat(this.$text("Selected")," ").concat(e):"".concat(this.$text("Selected")," ").concat(this.$text("Atom")):"selecting"===this.container.scene?t?"".concat(this.$text("Select")," ").concat(e):"".concat(this.$text("Select")," ").concat(this.$text("Atom")):"search"===this.container.scene?t?"".concat(this.$text("Search")," ").concat(e):"".concat(this.$text("Search")," ").concat(this.$text("Atom")):t?e:this.$text("Atom")},page_getSubtitle:function(){var t=this.base_getCurrentStage();return t&&"formal"!==t?this.$text(t.replace(t[0],t[0].toUpperCase())):""}}},c,f,{data:function(){return{search:{query:null}}},methods:{search_onSearch:function(t){this.search.query=t,this.search.query?this.page_onRefresh():this.page_onClear()},search_onSearchDisable:function(){this.$f7router.back()},search_onSearchAdvanced:function(){this.filter_onPerform()}}},p,g,_,{data:function(){return{subnavbar:{enable:!1,render:!1}}},methods:{subnavbar_policyDefault:function(){var t=this.subnavbar_policyDefaultCalc(),e=t.enable,n=t.render;this.subnavbar.enable=e,this.subnavbar.render=n},subnavbar_policyDefaultCalc:function(){var t=this.container.atomClass&&"select"!==this.container.scene&&"selecting"!==this.container.scene;return{enable:!!t&&"small"===this.$view.size,render:t}}}},{data:function(){return{bottombar:{enable:!1}}},methods:{}},C,$],data:function(){return{}},created:function(){var t=this;this.$nextTick((function(){t.index_init()}))},beforeDestroy:function(){this.$emit("layoutManager:destroy")},methods:{index_init:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.base_init();case 2:return t.next=4,e.select_prepareSelectedAtoms();case 4:return t.next=6,e.layout_prepareConfig();case 6:return t.next=8,e.bulk_actionsInit();case 8:return t.next=10,e.filter_prepareData();case 10:return t.next=12,e.data_adapterInit();case 12:e.base.ready=!0;case 13:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){A(o,a,r,i,s,"next",t)}function s(t){A(o,a,r,i,s,"throw",t)}i(void 0)}))})()}}}},28:(t,e,n)=>{"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function r(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function s(t){r(i,a,o,s,u,"next",t)}function u(t){r(i,a,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,{Z:()=>i});const i={props:{atomClass:{},language:{},categoryIdStart:{},multiple:{},catalogOnly:{},leafOnly:{},disabledCategoryIds:{},selectedCategoryIds:{}},data:function(){return{}},watch:{atomClass:function(){this.reload()},language:function(){this.reload()}},mounted:function(){this.init(this.selectedCategoryIds)},methods:{getInstance:function(){return this.$refs.tree},init:function(t){var e=this;return o(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={attrs:{itemToggle:!1,selectable:!1,multiple:e.multiple,checkbox:!0,checkOnLabel:!0}},r=e.getInstance(),n.next=4,r.load(a);case 4:return n.next=6,r.checkNodes(t,!0,!0);case 6:case"end":return n.stop()}}),n)})))()},reload:function(){var t=this;return o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init(null);case 2:case"end":return e.stop()}}),e)})))()},_findChildren:function(t,e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.id===e)return o.children;if(o.children){var i=this._findChildren(o.children,e);if(i)return i}}}catch(t){r.e(t)}finally{r.f()}return null},_createNodeRoot:function(t){var e=!this.leafOnly,n=this.disabledCategoryIds&&this.disabledCategoryIds.indexOf(0)>-1;return[{id:0,attrs:{label:this.$text("Root"),toggle:!0,loadChildren:!0,checkbox:e,checkOnLabel:e,selectable:e,itemToggle:!e,disabled:n},data:{id:0,categoryCatalog:1,children:t}}]},_createNodeChildren:function(t){var e=this;if(!t)return[];var n=t.map((function(t){var n=!e.leafOnly||0===t.categoryCatalog,a=!n&&1===t.categoryCatalog,r=e.disabledCategoryIds&&e.disabledCategoryIds.indexOf(t.id)>-1;return{id:t.id,attrs:{label:t.categoryNameLocale||t.categoryName||"[".concat(e.$text("New Category"),"]"),toggle:1===t.categoryCatalog,loadChildren:1===t.categoryCatalog,checkbox:n,checkOnLabel:n,selectable:n,itemToggle:!n,folder:a,disabled:r},data:t}}));return n.filter((function(t){return!e.catalogOnly||1===t.data.categoryCatalog}))},onLoadChildren:function(t){var e=this;return o(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.root){n.next=8;break}return n.next=3,e.$store.dispatch("a/base/getCategoryTree",{atomClass:e.atomClass,language:e.language});case 3:if(a=n.sent,void 0!==e.categoryIdStart){n.next=6;break}return n.abrupt("return",e._createNodeRoot(a));case 6:return r=0===e.categoryIdStart?a:e._findChildren(a,e.categoryIdStart),n.abrupt("return",e._createNodeChildren(r));case 8:return n.abrupt("return",e._createNodeChildren(t.data.children));case 9:case"end":return n.stop()}}),n)})))()},onNodeChange:function(t){this.$emit("node:change",t),this.$emit("nodeChange",t)}},render:function(){var t=arguments[0];return t("eb-treeview",{ref:"tree",attrs:{auto:!1},props:{onLoadChildren:this.onLoadChildren},on:{nodeChange:this.onNodeChange}})}}},592:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a={meta:{global:!1},mixins:[n(883).Z],props:{container:{type:Object}},data:function(){return{}},methods:{reload:function(t){this.data_onPageRefresh(t)},loadMore:function(){this.data_onPageInfinite()}},render:function(){return this.layout_renderLayout()}}},276:(t,e,n)=>{"use strict";function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function o(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){o(i,a,r,s,u,"next",t)}function u(t){o(i,a,r,s,u,"throw",t)}s(void 0)}))}}n.d(e,{Z:()=>s});const s={props:{atomClass:{},language:{},multiple:{},searchQuery:{},selectedTags:{},showBlockCurrent:{}},data:function(){return{tagsCurrent:[],tagsAll:null}},watch:{atomClass:function(){this.reload()},language:function(){this.reload()}},computed:{tagsAll2:function(){var t=this;return this.tagsAll&&this.searchQuery?this.tagsAll.filter((function(e){return e.tagName.toLowerCase().indexOf(t.searchQuery.toLowerCase())>-1})):this.tagsAll}},created:function(){this.init()},methods:{init:function(){var t=this;return i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.initTagsCurrent(),e.next=3,t.loadTagsAll();case 3:case"end":return e.stop()}}),e)})))()},reload:function(){var t=this;return i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.tagsCurrent=[],e.next=3,t.loadTagsAll();case 3:case"end":return e.stop()}}),e)})))()},initTagsCurrent:function(){this.selectedTags?Array.isArray(this.selectedTags)?this.tagsCurrent=this.selectedTags.concat():"number"==typeof this.selectedTags?this.tagsCurrent=[this.selectedTags]:this.tagsCurrent=JSON.parse(this.selectedTags):this.tagsCurrent=[]},loadTagsAll:function(){var t=this;return i(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={where:{language:t.language},orders:[["tagName","asc"]]},e.next=3,t.$api.post("/a/base/tag/list",{atomClass:t.atomClass,options:n});case 3:a=e.sent,t.tagsAll=a.list;case 5:case"end":return e.stop()}}),e)})))()},getTagName:function(t){var e=this.getTagBase(t);return e?e.tagName:null},getTagBase:function(t){return this.tagsAll?this.tagsAll.find((function(e){return e.id===t})):null},tagIndex:function(t){return this.tagsCurrent.findIndex((function(e){return e===t}))},onTagRemove:function(t){var e=this.tagIndex(t);e>-1&&this.tagsCurrent.splice(e,1),this.emitChange()},onTagSwitch:function(t){if(this.multiple){var e=this.tagIndex(t.id);e>-1?this.tagsCurrent.splice(e,1):this.tagsCurrent.push(t.id)}else this.tagsCurrent[0]===t.id?this.tagsCurrent=[]:this.tagsCurrent=[t.id];this.emitChange()},emitChange:function(){this.$emit("change",this.tagsCurrent)},checked:function(){return this.multiple?this.tagsCurrent.length>0?this.tagsCurrent:null:this.tagsCurrent.length>0?this.tagsCurrent[0]:0},_renderTagsCurrent:function(){var t=this,e=this.$createElement;if(!this.showBlockCurrent)return null;if(!this.tagsAll)return null;var n,r=[],o=a(this.tagsCurrent);try{var i=function(){var a=n.value;r.push(e("f7-chip",{key:a,attrs:{text:t.getTagName(a),deleteable:!0},on:{click:function(){t.onTagRemove(a)}}}))};for(o.s();!(n=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}return e("div",[e("f7-block-title",[this.$text("Selected Tags")]),e("f7-block",{class:"selected-tags"},[r]),e("hr")])},_renderTagsAll:function(){var t=this,e=this.$createElement;if(!this.tagsAll)return null;var n,r=[],o=a(this.tagsAll2);try{var i=function(){var a=n.value,o={chip:!0,"col-33":!0,"chip-outline":-1===t.tagIndex(a.id)};r.push(e("div",{key:a.id,class:o,on:{click:function(){t.onTagSwitch(a)}}},[e("div",{class:"chip-label"},[a.tagName]),e("f7-badge",{class:"eb-icon-badge",attrs:{color:"gray"}},[a.tagAtomCount])]))};for(o.s();!(n=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}return e("f7-block",[e("div",{class:"row tags"},[r,e("div",{class:"col-33"}),e("div",{class:"col-33"})])])}},render:function(){var t=arguments[0],e=this._renderTagsCurrent(),n=this._renderTagsAll();return t("div",{class:"eb-tag-select"},[e,n])}}},696:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});const a={meta:{size:"medium"},mixins:[n(833).Z],data:function(){var t=this.$f7route.query;return{container:{mode:t.mode,atomId:parseInt(t.atomId||0),itemId:parseInt(t.itemId||0),layout:t.layout}}},render:function(){return this.layout_renderPage()}}},235:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});const a={mixins:[n(883).Z],data:function(){var t=this.$f7route.query,e=t&&t.module,n=t&&t.atomClassName;return{container:{atomClass:e&&n?{module:e,atomClassName:n}:null,options:t&&t.options?JSON.parse(t.options):null,params:t&&t.params?JSON.parse(t.params):null,scene:t&&t.scene,layout:t&&t.layout}}},render:function(){return this.layout_renderPage()}}},368:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var a=n(3),r=n.n(a),o=n(883);const i={mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebAtomClasses,o.Z],data:function(){var t=this.$f7route.query,e=t&&t.module,n=t&&t.atomClassName;return{container:{atomClass:e&&n?{module:e,atomClassName:n}:null,options:t&&t.options?JSON.parse(t.options):null,scene:"search",layout:"list"}}},render:function(){var t=arguments[0];return t("eb-search-page",{attrs:{advanced:!0,title:this.page_getTitle(),subtitle:this.page_getSubtitle(),advancedSearchTitle:"Advanced Filter"},on:{search:this.search_onSearch,loadMore:this.page_onInfinite,disable:this.search_onSearchDisable,searchAdvanced:this.search_onSearchAdvanced}},[this.layout_renderComponent()])}}},783:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var a=n(3),r=n.n(a),o=n(883);const i={mixins:[r().prototype.$meta.module.get("a-components").options.mixins.ebPageContext,o.Z],data:function(){return{container:{atomClass:null,options:null,params:null,scene:"select",layout:"select"}}},created:function(){var t=this.contextParams;this.container.atomClass=t.atomClass,this.container.options=t.options;var e,n=t.selectMode;e="single"===t.selectMode?t.selectedAtomId?[t.selectedAtomId]:[]:t.selectedAtomIds?t.selectedAtomIds.concat():[],this.container.params={selectMode:n,selectedAtomIds:e},"single"===t.selectMode&&(this.container.scene="selecting",this.container.layout="selecting")},render:function(){var t=arguments[0];return t("eb-page",{attrs:{ptr:!0,infinite:!0,infinitePreloader:!1},on:{ptrRefresh:this.page_onRefresh,infinite:this.page_onInfinite}},[t("eb-navbar",{attrs:{title:this.page_getTitle(),"eb-back-link":"Back"}},[this.layout_renderBlock({blockName:"title"})]),this.layout_renderLayout()])}}},239:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var a=n(3),r=n.n(a),o=n(883);const i={mixins:[r().prototype.$meta.module.get("a-components").options.mixins.ebPageContext,o.Z],data:function(){return{container:{atomClass:null,options:null,params:null,scene:"selecting",layout:"selecting"}}},created:function(){var t=this.contextParams;this.container.atomClass=t.atomClass,this.container.options=t.options,this.container.params=t.params},render:function(){var t=arguments[0];return t("eb-page",{attrs:{ptr:!0,infinite:!0,infinitePreloader:!1},on:{ptrRefresh:this.page_onRefresh,infinite:this.page_onInfinite}},[t("eb-navbar",{attrs:{title:this.page_getTitle(),subtitle:this.page_getSubtitle(),"eb-back-link":"Back"}},[this.layout_renderBlock({blockName:"title"})]),this.layout_renderLayout()])}}},5:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>b});var a=n(3),r=n.n(a);function o(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){o(i,a,r,s,u,"next",t)}function u(t){o(i,a,r,s,u,"throw",t)}s(void 0)}))}}const s={data:function(){return{base:{ready:!1,configResourceBase:null,config:null,treeData:null,resourcesArrayAll:null,layoutConfig:null}}},computed:{base_ready:function(){return this.base.ready&&this.actionsAll}},created:function(){},methods:{base_init:function(){var t=this;return i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("a/base/getLayoutConfig","a-basefront");case 2:t.base.layoutConfig=e.sent;case 3:case"end":return e.stop()}}),e)})))()},base_getLayoutConfigKeyCurrent:function(){return"resource.".concat(this.container.resourceType,".render.tree.layout.current.").concat(this.$view.size)},base_load:function(){var t=this;return i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("a/base/getResourceTypes");case 2:return e.next=4,t.$store.dispatch("a/base/getResourcesArray",{resourceType:t.container.resourceType});case 4:return t.base.resourcesArrayAll=e.sent,e.next=7,t.$store.dispatch("a/base/getResourceTree",{resourceType:t.container.resourceType});case 7:return t.base.treeData=e.sent,e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})))()},base_onPerformResource:function(t,e){var n,a,r=JSON.parse(e.resourceConfig);return"create"===r.atomAction?(n=this.getAction({module:r.module,atomClassName:r.atomClassName,name:r.atomAction}),a={module:r.module,atomClassName:r.atomClassName}):"read"===r.atomAction?(r.actionComponent||r.actionPath||(r.actionPath="/a/basefront/atom/list?module={{module}}&atomClassName={{atomClassName}}"),n=r,a={module:r.module,atomClassName:r.atomClassName}):n=r,n=this.$utils.extend({},n,{targetEl:t.currentTarget}),this.$meta.util.performAction({ctx:this,action:n,item:a})}}};function u(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){u(o,a,r,i,s,"next",t)}function s(t){u(o,a,r,i,s,"throw",t)}i(void 0)}))}}const l={data:function(){return{layout:{current:null,config:null,instance:null}}},created:function(){},methods:{layout_setInstance:function(t){var e=this;return c(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.layout.instance=t;case 1:case"end":return n.stop()}}),n)})))()},layout_clearInstance:function(t){this.layout.instance===t&&(this.layout.instance=null)},layout_prepareConfig:function(){var t=this;return c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.base.configResourceBase=t.$meta.config.modules["a-basefront"].resource,t.base.config=t.base.configResourceBase,t.layout_prepareConfigLayout();case 3:case"end":return e.stop()}}),e)})))()},layout_getDefault:function(){var t=this.base_getLayoutConfigKeyCurrent(),e=this.base.layoutConfig[t];if(e)return e;var n=this.$meta.util.getProperty(this.base.config,"render.tree.info.layout.viewSize")[this.$view.size];return Array.isArray(n)||(n=[n]),n[0].name},layout_prepareConfigLayout:function(t){this.layout.current=t||this.container.layout||this.layout_getDefault();var e=this.$meta.util.getProperty(this.base.config,"render.tree.layouts.".concat(this.layout.current));if(e||(e=this.$meta.util.getProperty(this.base.config,"render.tree.layouts.accordion")),!e)return!1;var n=this.$meta.util.getProperty(this.base.config,"render.tree.layouts.base");return this.layout.config=n?this.$meta.util.extend({},n,e):e,!0},layout_switchLayout:function(t){var e=this;return c(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==e.layout.current){n.next=2;break}return n.abrupt("return",!0);case 2:if(e.layout.current=null,e.layout.config=null,e.layout_prepareConfigLayout(t)){n.next=6;break}return n.abrupt("return",!1);case 6:return a=e.base_getLayoutConfigKeyCurrent(),e.$store.commit("a/base/setLayoutConfigKey",{module:"a-basefront",key:a,value:t}),n.abrupt("return",!0);case 9:case"end":return n.stop()}}),n)})))()},layout_getComponentOptions:function(){return{props:{layoutManager:this,layoutConfig:this.layout.config}}},layout_renderComponent:function(){var t=this.$createElement;return this.base_ready?t("eb-component",{attrs:{module:this.layout.config.component.module,name:this.layout.config.component.name,options:this.layout_getComponentOptions()}}):null},layout_getBlockComponentOptions:function(t){var e=t.blockConfig;return{props:{layoutManager:this,layout:this.layout.instance,blockConfig:e}}},layout_renderBlock:function(t){var e=t.blockName,n=this.$createElement;if(!this.base_ready)return null;if(!this.layout.instance)return null;var a=this.layout.config.blocks[e];return a?n("eb-component",{attrs:{module:a.component.module,name:a.component.name,options:this.layout_getBlockComponentOptions({blockConfig:a})}}):null},layout_renderLayout:function(){return(0,this.$createElement)("div",[this.layout_renderComponent(),this.actions_renderPopover()])}}};function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function d(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){d(o,a,r,i,s,"next",t)}function s(t){d(o,a,r,i,s,"throw",t)}i(void 0)}))}}const h={data:function(){return{actions:{list:null,layoutPopoverId:r().prototype.$meta.util.nextId("popover")}}},methods:{actions_onActionLayout:function(t,e){var n=this;return f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.layout_switchLayout(e.name);case 2:case"end":return t.stop()}}),t)})))()},actions_onActionDashboard:function(){var t=this;return f(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.$view.inPanel(),a=n?{scene:"dashboard",sceneOptions:{name:"home"}}:{target:"_self"},t.$view.navigate("/a/dashboard/dashboard?key=home",a);case 3:case"end":return e.stop()}}),e)})))()},actions_render:function(){var t=this.$createElement;if(!this.base_ready)return null;var e=[];return e.push(t("eb-link",{key:"actionsDashboard",attrs:{iconF7:"::home"},props:{onPerform:this.actions_onActionDashboard}})),e.push(t("f7-link",{key:"actionsLayout",attrs:{iconF7:"::view-list","popover-open":"#".concat(this.actions.layoutPopoverId)}})),e},actions_renderPopover:function(){var t=this,e=this.$createElement;if(!this.base_ready)return null;var n=this.$meta.util.getProperty(this.base.config,"render.tree.info.layout.viewSize")[this.$view.size];Array.isArray(n)||(n=[n]);var a,r=[],o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(n);try{var i=function(){var n=a.value,o=t.$meta.util.getProperty(t.base.config,"render.tree.layouts.".concat(n.name));if(!o)return"continue";r.push(e("eb-list-item",{key:n.name,attrs:{link:"#","popover-close":!0},props:{onPerform:function(e){return t.actions_onActionLayout(e,n)}}},[e("f7-icon",{slot:"media",attrs:{f7:t.layout.current===n.name?"::done":""}}),e("div",{slot:"title"},[t.$text(o.title)])]))};for(o.s();!(a=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}var s=e("f7-list",{attrs:{inset:!0}},[r]);return e("f7-popover",{attrs:{id:this.actions.layoutPopoverId}},[s])}}};function p(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}const b={mixins:[{mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions,s,{data:function(){return{}},methods:{page_getTitle:function(){if(this.container.home)return this.$view.inPanel()?this.$text("Menu"):this.$text("Home");var t=this.$store.getState("a/base/resourceTypes");return t?t[this.container.resourceType].titleLocale:null},page_getSubtitle:function(){return""}}},l,h],data:function(){return{}},created:function(){this.index_load()},beforeDestroy:function(){this.$emit("layoutManager:destroy")},methods:{index_load:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.base_init();case 2:return t.next=4,e.base_load();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.layout_prepareConfig();case 9:e.base.ready=!0;case 10:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){p(o,a,r,i,s,"next",t)}function s(t){p(o,a,r,i,s,"throw",t)}i(void 0)}))})()}}}],data:function(){var t=this.$f7route.query,e=parseInt(t.maxLevelAutoOpened||1),n=t.resourceType,a=!1;return n||(n="a-base:menu",a=!0),{container:{maxLevelAutoOpened:e,resourceType:n,home:a,layout:t&&t.layout}}},render:function(){var t=arguments[0];return t("eb-page",[t("eb-navbar",{attrs:{title:this.page_getTitle(),subtitle:this.page_getSubtitle(),"eb-back-link":"Back"}},[this.layout_renderBlock({blockName:"title"})]),this.layout_renderLayout()])}}},450:(t,e,n)=>{var a=n(233),r=n(361)(a);r.push([t.id,".eb-tag-select .selected-tags {\n  min-height: 40px;\n}\n.eb-tag-select .selected-tags .chip + .chip {\n  margin-left: 6px;\n}\n.eb-tag-select .tags {\n  justify-content: space-around;\n}\n.eb-tag-select .tags .chip {\n  cursor: pointer;\n}\n.eb-tag-select .tags .chip .chip-media {\n  min-width: 32px;\n  width: auto;\n  border: 1px solid var(--f7-block-header-text-color);\n  color: var(--f7-block-header-text-color);\n}\n","",{version:3,sources:["webpack://./front/src/assets/css/module.less"],names:[],mappings:"AAAA;EAEI,gBAAA;AAAJ;AAGM;EACE,gBAAA;AADR;AALA;EAYI,6BAAA;AAJJ;AARA;EAeM,eAAA;AAJN;AAXA;EAkBQ,eAAA;EACA,WAAA;EACA,mDAAA;EACA,wCAAA;AAJR",sourcesContent:[".eb-tag-select {\n  .selected-tags {\n    min-height: 40px;\n\n    .chip {\n      & + .chip {\n        margin-left: 6px;\n      }\n    }\n  }\n\n  .tags {\n    justify-content: space-around;\n\n    .chip {\n      cursor: pointer;\n\n      .chip-media {\n        min-width: 32px;\n        width: auto;\n        border: 1px solid var(--f7-block-header-text-color);\n        color: var(--f7-block-header-text-color);\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),t.exports=r},779:(t,e,n)=>{var a=n(233),r=n(361)(a);r.push([t.id,".label-edit-list .label-media[data-v-2dedb27f] {\n  width: 16px;\n  height: 16px;\n  border-radius: 8px;\n}\n.label-edit .label-prompt[data-v-2dedb27f] {\n  position: absolute;\n  width: 100%;\n  top: 10px;\n  text-align: center;\n}\n.label-edit .label-form[data-v-2dedb27f] {\n  margin-top: 40px;\n}\n.label-edit .label-colors[data-v-2dedb27f] {\n  height: 60px;\n  width: 100%;\n}\n","",{version:3,sources:["webpack://./front/src/pages/atom/labels.vue","webpack://./labels.vue"],names:[],mappings:"AAgLA;EAEI,WAAA;EACA,YAAA;EACA,kBAAA;AChLJ;ADoLA;EAEI,kBAAA;EACA,WAAA;EACA,SAAA;EACA,kBAAA;ACnLJ;AD8KA;EASI,gBAAA;ACpLJ;AD2KA;EAaI,YAAA;EACA,WAAA;ACrLJ",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.label-edit-list {\n  .label-media {\n    width: 16px;\n    height: 16px;\n    border-radius: 8px;\n  }\n}\n\n.label-edit {\n  .label-prompt {\n    position: absolute;\n    width: 100%;\n    top: 10px;\n    text-align: center;\n  }\n\n  .label-form {\n    margin-top: 40px;\n  }\n\n  .label-colors {\n    height: 60px;\n    width: 100%;\n  }\n}\n",".label-edit-list .label-media {\n  width: 16px;\n  height: 16px;\n  border-radius: 8px;\n}\n.label-edit .label-prompt {\n  position: absolute;\n  width: 100%;\n  top: 10px;\n  text-align: center;\n}\n.label-edit .label-form {\n  margin-top: 40px;\n}\n.label-edit .label-colors {\n  height: 60px;\n  width: 100%;\n}\n"],sourceRoot:""}]),t.exports=r},361:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,a){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(a)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);a&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},233:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}t.exports=function(t){var n,a,r=(a=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var a,r,o=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){s=!0,r=t}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return o}}(n,a)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(t,n):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[1],i=r[3];if(!i)return o;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),c="/*# ".concat(u," */"),l=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[o].concat(l).concat([c]).join("\n")}return[o].join("\n")}},722:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const a={data:function(){return{atomId:this.$f7route.query.atomId}},created:function(){var t=this;this.$api.post("/a/base/atom/star",{key:{atomId:this.atomId},atom:{star:1}}).then((function(){t.$view.dialog.alert(t.$text("Starred")).then((function(){t.openAtom()}))}))},methods:{openAtom:function(){location.assign(this.$f7route.query.returnTo)}}},r=(0,n(792).Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Star"),"eb-back-link":"Back"}}),t._v(" "),n("f7-block")],1)}),[],!1,null,null,null).exports},472:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var a=n(3),r=n.n(a);const o={components:{atomTab:n(592).Z},data:function(){var t=this.$f7route.query;return{layout:t&&t.layout,stats:{drafts:0,draftsFlowing:0},tabId:{drafts:r().prototype.$meta.util.nextId("drafts"),draftsFlowing:r().prototype.$meta.util.nextId("draftsFlowing")},tabName:"drafts"}},computed:{pageTitle:function(){return"drafts"===this.tabName?this.$text("Drafts"):this.$text("DraftsFlowingMineTab")}},created:function(){},methods:{getContainer:function(t){var e={stage:"draft",mine:1};return e.where="drafts"===t?{atomFlowId:0}:{atomFlowId:{op:">",val:0}},{options:e,layout:this.layout}},onStatsChange:function(t,e){this.stats[e]=t}}},i=(0,n(792).Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",{attrs:{"page-content":!1,tabs:"","with-subnavbar":""}},[n("eb-navbar",{attrs:{title:t.pageTitle,"eb-back-link":"Back"}},[n("f7-subnavbar",[n("f7-toolbar",{attrs:{top:"",tabbar:""}},[n("eb-link",{attrs:{"tab-link":"#"+t.tabId.drafts,tabLinkActive:"drafts"===t.tabName,text:t.$text("Drafts"),"badge-color":"orange",badge:t.stats.drafts,stats_params:{module:"a-base",name:"drafts"}},on:{stats_change:function(e){return t.onStatsChange(e,"drafts")}}}),t._v(" "),n("eb-link",{attrs:{"tab-link":"#"+t.tabId.draftsFlowing,tabLinkActive:"draftsFlowing"===t.tabName,text:t.$text("DraftsFlowingMineTab"),"badge-color":"gray",badge:t.stats.draftsFlowing,stats_params:{module:"a-base",name:"draftsFlowing"}},on:{stats_change:function(e){return t.onStatsChange(e,"draftsFlowing")}}})],1)],1)],1),t._v(" "),n("f7-tabs",{ref:"tabs"},[n("eb-tab-page-content",{attrs:{id:t.tabId.drafts,tabActive:"drafts"===t.tabName,"data-ref":"drafts"},on:{"tab:show":function(e){t.tabName="drafts"}}},[n("atomTab",{ref:"drafts",attrs:{slot:"list",container:t.getContainer("drafts")},slot:"list"})],1),t._v(" "),n("eb-tab-page-content",{attrs:{id:t.tabId.draftsFlowing,tabActive:"draftsFlowing"===t.tabName,"data-ref":"draftsFlowing"},on:{"tab:show":function(e){t.tabName="draftsFlowing"}}},[n("atomTab",{ref:"draftsFlowing",attrs:{slot:"list",container:t.getContainer("draftsFlowing")},slot:"list"})],1)],1)],1)}),[],!1,null,null,null).exports},693:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});const a={data:function(){return{atomId:parseInt(this.$f7route.query.atomId),item:null,labels:[],sheetOpened:!1,labelId:0,labelText:"",labelColor:"",colors:[{name:"Red",value:"red"},{name:"Orange",value:"orange"},{name:"Purple",value:"purple"},{name:"Yellow",value:"yellow"},{name:"Blue",value:"blue"},{name:"Green",value:"green"}]}},computed:{labelsAll:function(){return this.$store.getters["a/base/userLabels"]}},methods:{onDone:function(){this.$f7router.back()},onAddLabel:function(){this.labelId=0,this.labelText="",this.labelColor="",this.sheetOpened=!0},onEditLabel:function(t,e){this.labelId=e,this.labelText=this.labelsAll[e].text,this.labelColor=this.labelsAll[e].color,this.sheetOpened=!0},onFormSubmit:function(){this.$refs.buttonSubmit.onClick()},onSubmit:function(){var t=this;if(this.labelText&&this.labelColor){var e=this.$meta.util.extend({},this.labelsAll);return 0===this.labelId?e[this.newLabelId()]={text:this.labelText,color:this.labelColor}:e[this.labelId]={text:this.labelText,color:this.labelColor},this.$api.post("/a/base/user/setLabels",{labels:e}).then((function(){t.$store.commit("a/base/setLabels",e),t.sheetOpened=!1}))}},onColorSelect:function(t){this.labelColor=t.value},newLabelId:function(){var t=Object.keys(this.labelsAll);return 0===t.length?1:(t.sort((function(t,e){return e-t})),parseInt(t[0])+1)},labelChecked:function(t){return this.labels&&this.labels.indexOf(t)>-1},onLabelCheckChange:function(t,e){var n=this,a=this.labels.indexOf(e);t.currentTarget.checked&&-1===a?this.labels.push(e):!t.currentTarget.checked&&a>-1&&this.labels.splice(a,1),this.labels.sort((function(t,e){return t-e})),this.$api.post("/a/base/atom/labels",{key:{atomId:this.atomId},atom:{labels:this.labels}}).then((function(){n.$meta.eventHub.$emit("atom:labels",{key:{atomId:n.atomId},labels:n.labels})}))}},created:function(){var t=this;this.$store.dispatch("a/base/getLabels"),this.$api.post("/a/base/atom/read",{key:{atomId:this.atomId}}).then((function(e){t.item=e,t.labels=JSON.parse(t.item.labels)||[]}))}},r=a;n(210);const o=(0,n(792).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("UserLabels"),"eb-back-link":"Back"}},[n("f7-nav-right",[n("eb-link",{attrs:{iconF7:"::add"},on:{click:function(e){return e.preventDefault(),t.onAddLabel.apply(null,arguments)}}})],1)],1),t._v(" "),t.labelsAll?n("f7-list",{staticClass:"label-edit-list"},[n("f7-list-item",{attrs:{"group-title":"",title:t.item?t.item.atomName:""}}),t._v(" "),t._l(Object.keys(t.labelsAll),(function(e){return n("eb-list-item",{key:e,attrs:{title:t.labelsAll[e].text,checkbox:"",checked:t.labelChecked(e),swipeout:""},on:{change:function(n){return t.onLabelCheckChange(n,e)}}},[n("div",{class:"label-media bg-color-"+t.labelsAll[e].color,attrs:{slot:"media"},slot:"media"}),t._v(" "),n("eb-context-menu",[n("div",{attrs:{slot:"right"},slot:"right"},[n("div",{attrs:{close:"",color:"orange",context:e,onPerform:t.onEditLabel}},[t._v(t._s(t.$text("Edit")))])])])],1)}))],2):t._e(),t._v(" "),n("f7-sheet",{ref:"ebSheet",staticClass:"label-edit",attrs:{fill:"",opened:t.sheetOpened},on:{"sheet:closed":function(e){t.sheetOpened=!1}}},[n("f7-toolbar",[n("div",{staticClass:"left"},[n("f7-link",{attrs:{"sheet-close":""}},[t._v(t._s(t.$text("Close")))])],1),t._v(" "),n("div",{staticClass:"right"},[n("eb-link",{ref:"buttonSubmit",attrs:{onPerform:t.onSubmit}},[t._v(t._s(t.$text("Submit")))])],1)]),t._v(" "),n("f7-page-content",[n("div",{staticClass:"label-prompt"},[n("f7-badge",{attrs:{color:t.labelColor}},[t._v(t._s(t.labelText||t.$text("PleaseInputText")))])],1),t._v(" "),n("eb-list",{staticClass:"label-form",attrs:{form:"","inline-labels":"","no-hairlines-md":""},on:{submit:t.onFormSubmit}},[n("eb-list-input",{attrs:{label:t.$text("Text"),type:"text","clear-button":"",placeholder:t.$text("Text")},model:{value:t.labelText,callback:function(e){t.labelText=e},expression:"labelText"}}),t._v(" "),n("f7-list-item",[n("div",{staticClass:"row label-colors"},t._l(t.colors,(function(e){return n("f7-button",{key:e.value,class:"col-33 color-"+e.value,attrs:{small:"",fill:""},on:{click:function(n){return t.onColorSelect(e)}}},[t._v(t._s(t.$text(e.name)))])})),1)])],1)],1)],1)],1)}),[],!1,null,"2dedb27f",null).exports},277:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var a=n(3),r=n.n(a),o=r().prototype.$meta.module.get("a-base").options.mixins.ebModules,i=r().prototype.$meta.module.get("a-base").options.mixins.ebAtomClasses;const s={mixins:[o,r().prototype.$meta.module.get("a-components").options.mixins.ebPageContext,i],data:function(){return{}},computed:{ready:function(){return this.modulesAll&&this.atomClassesAll},module:function(){return this.contextParams.atomClass?this.contextParams.atomClass.module:null},atomClassName:function(){return this.contextParams.atomClass?this.contextParams.atomClass.atomClassName:null},optional:function(){return this.contextParams.optional},simple:function(){return this.contextParams.simple},resource:function(){return this.contextParams.resource},inner:function(){return this.contextParams.inner},inner2:function(){return void 0!==this.inner&&this.inner},atomClasses:function(){var t=[];for(var e in this.optional&&t.push({title:null,module:null,atomClassName:null}),this.atomClassesAll){var n=this.modulesAll[e],a=this.atomClassesAll[e];for(var r in a){var o=a[r];if((null===this.inner2||Boolean(this.inner2)===Boolean(o.inner))&&(!this.resource||o.resource)&&(0!==this.simple||!o.simple)&&(1!==this.simple||o.simple)){var i=o.titleLocale,s=n.titleLocale;t.push({title:i,module:e,atomClassName:r,after:s})}}}return t}},methods:{onItemClick:function(t){var e=null;t.module&&(e={module:t.module,atomClassName:t.atomClassName,title:t.title}),this.contextCallback(200,e),this.$f7router.back()}}},u=(0,n(792).Z)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Select Atom Class"),"eb-back-link":"Back"}}),t._v(" "),t.ready?n("f7-list",t._l(t.atomClasses,(function(e,a){return n("f7-list-item",{key:a,attrs:{radio:"",checked:t.module===e.module&&t.atomClassName===e.atomClassName,title:e.title},on:{click:function(n){return t.onItemClick(e)}}},[n("div",{attrs:{slot:"after"},slot:"after"},[t._v(t._s(e.after))])])})),1):t._e()],1)}),[],!1,null,null,null).exports},824:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var a=n(3),r=n.n(a);const o={components:{atomTab:n(592).Z},data:function(){var t=this.$f7route.query;return{layout:t&&t.layout,stats:{stars:0,labels:{}},tabId:{stars:r().prototype.$meta.util.nextId("stars"),labels:r().prototype.$meta.util.nextId("labels")},tabName:"stars"}},computed:{pageTitle:function(){if("stars"===this.tabName)return"".concat(this.$text("Stars"));var t=this.tabName.split("_"),e=t[t.length-1];return this.userLabels[e].text},userLabels:function(){return this.$store.getters["a/base/userLabels"]}},created:function(){this.$store.dispatch("a/base/getLabels")},methods:{getContainer:function(t,e){var n={stage:"formal"};return"stars"===t?n.star=1:n.label=parseInt(e),{options:n,layout:this.layout}},onStatsChange:function(t,e,n){"stars"===e?this.stats[e]=t:this.$set(this.stats.labels,n,t)}}},i=(0,n(792).Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",{attrs:{"page-content":!1,tabs:"","with-subnavbar":""}},[n("eb-navbar",{attrs:{title:t.pageTitle,"eb-back-link":"Back"}},[n("f7-subnavbar",[n("f7-toolbar",{attrs:{top:"",tabbar:"",scrollable:t.userLabels&&Object.keys(t.userLabels).length>1}},[n("eb-link",{attrs:{"tab-link":"#"+t.tabId.stars,tabLinkActive:"stars"===t.tabName,text:t.$text("Stars"),"badge-color":"gray",badge:t.stats.stars,stats_params:{module:"a-base",name:"stars"}},on:{stats_change:function(e){return t.onStatsChange(e,"stars")}}}),t._v(" "),t.userLabels?t._l(Object.keys(t.userLabels),(function(e){return n("eb-link",{key:e,attrs:{"tab-link":"#"+t.tabId.labels+"_"+e,tabLinkActive:t.tabName===t.tabId.labels+"_"+e,text:t.userLabels[e].text,"badge-color":t.userLabels[e].color,badge:t.stats.labels[e],stats_params:{module:"a-base",name:"labels",nameSub:e}},on:{stats_change:function(n){return t.onStatsChange(n,"labels",e)}}})})):t._e()],2)],1)],1),t._v(" "),n("f7-tabs",{ref:"tabs"},[n("eb-tab-page-content",{attrs:{id:t.tabId.stars,tabActive:"stars"===t.tabName,"data-ref":"stars"},on:{"tab:show":function(e){t.tabName="stars"}}},[n("atomTab",{ref:"stars",attrs:{slot:"list",container:t.getContainer("stars")},slot:"list"})],1),t._v(" "),t.userLabels?t._l(Object.keys(t.userLabels),(function(e){return n("eb-tab-page-content",{key:e,attrs:{id:t.tabId.labels+"_"+e,tabActive:t.tabName===t.tabId.labels+"_"+e,"data-ref":t.tabId.labels+"_"+e},on:{"tab:show":function(n){t.tabName=t.tabId.labels+"_"+e}}},[n("atomTab",{ref:t.tabId.labels+"_"+e,refInFor:!0,attrs:{slot:"list",container:t.getContainer("labels",e)},slot:"list"})],1)})):t._e()],2)],1)}),[],!1,null,null,null).exports},484:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var a=n(3);const r={mixins:[n.n(a)().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions],data:function(){var t=this.$f7route.query,e=t&&t.module,n=t&&t.atomClassName,a=e&&n?{module:e,atomClassName:n}:null,r=t&&t.where?JSON.parse(t.where):null;if("mine"===(t&&t.scene)){r||(r={});var o=this.$store.state.auth.user.op;r["i.userId"]=o.id}return{atomClass:a,where:r,order:"desc",items:[]}},computed:{user:function(){return this.$store.state.auth.user.op}},created:function(){},mounted:function(){this.$meta.eventHub.$on("attachment:action",this.onAttachmentChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("attachment:action",this.onAttachmentChanged)},methods:{onRefresh:function(t){t(),this.reload()},onInfinite:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,n=t.index,a={where:{mode:2,attachment:1},orders:[["i_createdAt",this.order]],page:{index:n}};return this.where&&(a.where=this.where),this.$api.post("/a/file/file/all",{atomClass:this.atomClass,options:a}).then((function(t){return e.items=e.items.concat(t.list),t}))},reload:function(){this.$refs.loadMore.reload()},onPerformSort:function(){this.order="desc"===this.order?"asc":"desc",this.reload()},onAttachmentChanged:function(t){},onPerformViewAtom:function(t,e){var n=this.getAction({module:e.module,atomClassName:e.atomClassName,name:"read"});if(n)return this.$meta.util.performAction({ctx:this,action:n,item:e})},onItemClick:function(t,e){var n=this;this.$meta.config.base.jwt?this.$api.post("/a/base/jwt/create").then((function(t){n._openUrl(e,t.jwt)})):this._openUrl(e,null)},_openUrl:function(t,e){e?window.open(this.$meta.util.combineQueries(t.i_downloadUrl,{"eb-jwt":e})):window.open(t.i_downloadUrl)}}},o=(0,n(792).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",{attrs:{ptr:"",infinite:"",infinitePreloader:!1},on:{"ptr:refresh":t.onRefresh,infinite:t.onInfinite}},[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Attachment List"),"eb-back-link":"Back"}},[n("f7-nav-right",[n("eb-link",{attrs:{iconF7:"desc"===t.order?"::arrow-down":"::arrow-up",onPerform:t.onPerformSort}})],1)],1),t._v(" "),n("f7-list",t._l(t.items,(function(e){return n("eb-list-item",{key:e.id,staticClass:"item",attrs:{title:e.i_realName,link:"#",context:e,onPerform:t.onItemClick}},[n("div",{staticClass:"header",attrs:{slot:"root-start"},slot:"root-start"},[n("div",{staticClass:"userName"},[n("eb-link",{attrs:{context:e,onPerform:t.onPerformViewAtom}},[t._v(t._s(e.atomName))])],1),t._v(" "),n("div",{staticClass:"date"},[t._v(t._s(t.$meta.util.formatDateTimeRelative(e.i_createdAt)))])])])})),1),t._v(" "),n("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!0}})],1)}),[],!1,null,null,null).exports},381:(t,e,n)=>{"use strict";function a(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}n.r(e),n.d(e,{default:()=>o});const r={data:function(){return{atomId:parseInt(this.$f7route.query.atomId),items:[],actionWrite:null}},computed:{user:function(){return this.$store.state.auth.user.op}},created:function(){this.checkActionWrite()},methods:{onRefresh:function(t){t(),this.reload()},onInfinite:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,n={where:{mode:2,attachment:1},orders:[["createdAt","asc"]],page:{index:t.index}};return this.$api.post("/a/file/file/list",{key:{atomId:this.atomId},options:n}).then((function(t){return e.items=e.items.concat(t.list),t}))},reload:function(){this.$refs.loadMore.reload()},checkActionWrite:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.post("/a/base/atom/checkRightAction",{key:{atomId:e.atomId},action:3,stage:"draft",checkFlow:!0});case 2:(n=t.sent)&&0===n.atomClosed&&(e.actionWrite=n);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,u,"next",t)}function u(t){a(i,r,o,s,u,"throw",t)}s(void 0)}))})()},onPerformAdd:function(){var t=this;return new Promise((function(e,n){t.$view.navigate("/a/file/file/upload",{context:{params:{mode:2,atomId:t.atomId,attachment:1},callback:function(a){200===a&&(t.$meta.eventHub.$emit("attachment:action",{action:"create",atomId:t.atomId}),t.reload(),e()),!1===a&&n(new Error(""))}}})}))},onPerformDelete:function(t,e){var n=this;return this.$view.dialog.confirm().then((function(){return n.$api.post("/a/file/file/delete",{fileId:e.id}).then((function(){n.$meta.util.swipeoutClose(t.currentTarget),n.$meta.eventHub.$emit("attachment:action",{action:"delete",atomId:n.atomId,fileId:e.id}),n.deleteItem(e.id)}))}))},deleteItem:function(t){var e=this.items.findIndex((function(e){return e.id===t}));-1!==e&&this.items.splice(e,1)},onItemClick:function(t,e){var n=this;this.$meta.config.base.jwt?this.$api.post("/a/base/jwt/create").then((function(t){n._openUrl(e,t.jwt)})):this._openUrl(e,null)},_openUrl:function(t,e){e?window.open(this.$meta.util.combineQueries(t.downloadUrl,{"eb-jwt":e})):window.open(t.downloadUrl)},getItemMedia:function(t){var e=t.avatar||this.$meta.config.modules["a-base"].user.avatar.default;return this.$meta.util.combineImageUrl(e,32)}}},o=(0,n(792).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",{attrs:{ptr:"",infinite:"",infinitePreloader:!1},on:{"ptr:refresh":t.onRefresh,infinite:t.onInfinite}},[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Attachment List"),"eb-back-link":"Back"}},[n("f7-nav-right",[t.actionWrite?n("eb-link",{attrs:{iconF7:"::add",onPerform:t.onPerformAdd}}):t._e()],1)],1),t._v(" "),n("f7-list",t._l(t.items,(function(e){return n("eb-list-item",{key:e.id,staticClass:"item",attrs:{title:e.realName,link:"#",context:e,onPerform:t.onItemClick,swipeout:e.userId===t.user.id}},[n("div",{attrs:{slot:"media"},slot:"media"},[n("img",{staticClass:"avatar avatar32",attrs:{src:t.getItemMedia(e)}})]),t._v(" "),n("div",{staticClass:"header",attrs:{slot:"root-start"},slot:"root-start"},[n("div",{staticClass:"userName"},[n("span",[t._v(t._s(e.userName))])]),t._v(" "),n("div",{staticClass:"date"},[t._v(t._s(t.$meta.util.formatDateTimeRelative(e.createdAt)))])]),t._v(" "),t.actionWrite?n("eb-context-menu",[n("div",{attrs:{slot:"right"},slot:"right"},[n("div",{attrs:{color:"orange",context:e,onPerform:t.onPerformDelete}},[t._v(t._s(t.$text("Delete")))])])]):t._e()],1)})),1),t._v(" "),n("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!0}})],1)}),[],!1,null,null,null).exports},723:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});const a=(0,n(792).Z)({data:function(){return{}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("About"),"eb-back-link":"Back"}}),t._v(" "),n("f7-toolbar",{attrs:{position:"bottom"}},[n("f7-link",{attrs:{external:"",target:"_blank",href:"https://cabloy.com"}},[t._v(t._s(t.$text("Documentation")))]),t._v(" "),n("f7-link",{attrs:{external:"",target:"_blank",href:"https://community.cabloy.com"}},[t._v(t._s(t.$text("Community")))]),t._v(" "),n("f7-link",{attrs:{external:"",target:"_blank",href:"https://github.com/zhennann/cabloy"}},[t._v("GitHub")])],1),t._v(" "),n("f7-block-title",[t._v(t._s(t.$text("Welcome to CabloyJS")))]),t._v(" "),n("f7-block",{attrs:{strong:""}},[n("div",{staticClass:"alert-info"},[t._v(t._s(t.$text("CabloyAboutTip1")))]),t._v(" "),n("p",[t._v(t._s(t.$text("CabloyAboutTip2")))]),t._v(" "),n("p",[t._v(t._s(t.$text("CabloyAboutTip3")))]),t._v(" "),n("p",[t._v(t._s(t.$text("CabloyAboutTip4")))])])],1)}),[],!1,null,"56be7418",null).exports},238:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const a={components:{},data:function(){return{data:JSON.parse(this.$f7route.query.data)}},computed:{pageTitle:function(){return this.$store.state.auth.instance.title}},methods:{}},r=(0,n(792).Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.pageTitle,"eb-back-link":"Back"}}),t._v(" "),n("f7-card",[n("f7-card-header",[t._v(t._s(t.data.title||t.$text("Friendly Tips")))]),t._v(" "),n("f7-card-content",[t._v("\n      "+t._s(t.data.message)+"\n    ")]),t._v(" "),t.data.link?n("f7-card-footer",[n("div"),t._v(" "),n("eb-link",{attrs:{"eb-href":t.data.link}},[t._v(t._s(t.data.linkText||t.$text("Link")))])],1):t._e()],1)],1)}),[],!1,null,"0494e83e",null).exports},849:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const a={components:{},data:function(){return{data:JSON.parse(this.$f7route.query.data)}},computed:{pageTitle:function(){return this.$store.state.auth.instance.title}},methods:{onPerformOpenLink:function(){window.open(this.data.link,this.data.target||"_blank"),this.$f7router.back()}}},r=(0,n(792).Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{title:t.pageTitle,"eb-back-link":"Back"}}),t._v(" "),n("f7-card",[n("f7-card-header",[t._v(t._s(t.data.title||t.$text("OpenLinkTitleRedirect")))]),t._v(" "),n("f7-card-content",[n("eb-link",{attrs:{onPerform:t.onPerformOpenLink}},[t._v(t._s(t.data.linkText||t.$text("Open Link")))])],1)],1)],1)}),[],!1,null,"84cac672",null).exports},255:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var a=n(3),r=n.n(a),o=n(28);const i={mixins:[r().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{categorySelect:o.Z},data:function(){var t=this.$f7route.query;return{atomClass:{module:t.module,atomClassName:t.atomClassName},language:t.language}},computed:{categoryIdStart:function(){return this.contextParams.categoryIdStart},multiple:function(){return this.contextParams.multiple},catalogOnly:function(){return this.contextParams.catalogOnly},leafOnly:function(){return this.contextParams.leafOnly},disabledCategoryIds:function(){return this.contextParams.disabledCategoryIds},selectedCategoryIds:function(){return this.contextParams.selectedCategoryIds}},methods:{onPerformDone:function(){var t,e=this.$refs.tree.getInstance().checked();t=e&&0!==e.length?e:null,this.contextCallback(200,t),this.$f7router.back()}}},s=(0,n(792).Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Select Category"),"eb-back-link":"Back"}},[n("f7-nav-right",[n("eb-link",{attrs:{iconF7:"::done",onPerform:t.onPerformDone}})],1)],1),t._v(" "),n("categorySelect",{ref:"tree",attrs:{atomClass:t.atomClass,language:t.language,categoryIdStart:t.categoryIdStart,multiple:t.multiple,catalogOnly:t.catalogOnly,leafOnly:t.leafOnly,disabledCategoryIds:t.disabledCategoryIds,selectedCategoryIds:t.selectedCategoryIds}})],1)}),[],!1,null,null,null).exports},54:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var a=n(3);const r={mixins:[n.n(a)().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions],data:function(){var t=this.$f7route.query,e=t&&t.module,n=t&&t.atomClassName,a=e&&n?{module:e,atomClassName:n}:null,r=t&&t.where?JSON.parse(t.where):null;if("mine"===(t&&t.scene)){r||(r={});var o=this.$store.state.auth.user.op;r["h.userId"]=o.id}return{atomClass:a,where:r,order:"desc",items:[],moduleMarkdownRender:null,rightDeleteComment:!1}},computed:{user:function(){return this.$store.state.auth.user.op},markdownHost:function(){return{}}},created:function(){var t=this;this.$api.post("/a/base/resource/check",{atomStaticKeys:["a-base:deleteComment"]}).then((function(e){t.rightDeleteComment=e[0].passed,t.$meta.module.use("a-markdownrender",(function(e){t.moduleMarkdownRender=e}))}))},mounted:function(){this.$meta.eventHub.$on("comment:action",this.onCommentChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("comment:action",this.onCommentChanged)},methods:{onRefresh:function(t){t(),this.reload()},onInfinite:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,n=t.index,a={orders:[["h_updatedAt",this.order]],page:{index:n}};return this.where&&(a.where=this.where),this.$api.post("/a/base/comment/all",{atomClass:this.atomClass,options:a}).then((function(t){return e.items=e.items.concat(t.list),t}))},reload:function(){this.$refs.loadMore.reload()},onPerformDelete:function(t,e){var n=this;return this.$view.dialog.confirm().then((function(){return n.$api.post("/a/base/comment/delete",{key:{atomId:e.atomId},data:{commentId:e.h_id}}).then((function(t){return n.$meta.eventHub.$emit("comment:action",t),!0}))}))},onPerformHeart:function(t,e){var n=this;if(!this.user.anonymous)return this.$api.post("/a/base/comment/heart",{key:{atomId:e.atomId},data:{commentId:e.h_id,heart:e.h_heart?0:1}}).then((function(t){n.$meta.eventHub.$emit("comment:action",t)}));this.$view.dialog.confirm(this.$text("Please Sign In")).then((function(){n.$meta.vueLayout.openLogin()}))},onCommentChanged:function(t){var e=this,n=t.action,a=t.atomId,r=t.commentId;if("create"!==n){var o=this.items.findIndex((function(t){return t.h_id===r}));"delete"!==n?-1!==o&&this.$api.post("/a/base/comment/item",{key:{atomId:a},data:{commentId:r}}).then((function(t){for(var n=e.items[o],a=0,r=Object.keys(t);a<r.length;a++){var i=r[a];n["h_".concat(i)]=t[i]}})):-1!==o&&this.items.splice(o,1)}else this.reload()},onPerformSort:function(){this.order="desc"===this.order?"asc":"desc",this.reload()},onPerformViewAtom:function(t,e){var n=this.getAction({module:e.module,atomClassName:e.atomClassName,name:"read"});if(n)return this.$meta.util.performAction({ctx:this,action:n,item:e})},getItemMedia:function(t){var e=t.h_avatar||this.$meta.config.modules["a-base"].user.avatar.default;return this.$meta.util.combineImageUrl(e,32)}}},o=(0,n(792).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",{attrs:{ptr:"",infinite:"",infinitePreloader:!1},on:{"ptr:refresh":t.onRefresh,infinite:t.onInfinite}},[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Comment List"),"eb-back-link":"Back"}},[n("f7-nav-right",[n("eb-link",{attrs:{iconF7:"desc"===t.order?"::arrow-down":"::arrow-up",onPerform:t.onPerformSort}})],1)],1),t._v(" "),t.moduleMarkdownRender?t._l(t.items,(function(e){return n("f7-card",{key:e.h_id,staticClass:"comment"},[n("f7-card-header",[n("div",{staticClass:"header-container"},[n("div",{staticClass:"header-atom"},[n("eb-link",{attrs:{context:e,onPerform:t.onPerformViewAtom}},[t._v(t._s(e.atomName))])],1),t._v(" "),n("div",{staticClass:"header-comment"},[n("div",{staticClass:"title"},[n("img",{staticClass:"avatar avatar32",attrs:{src:t.getItemMedia(e)}}),t._v(" "),n("div",{staticClass:"name"},[t._v(t._s(e.h_userName))]),t._v(" "),n("div",{staticClass:"date"},[t._v("\n                #"+t._s(e.h_sorting)+"  "+t._s(t.$meta.util.formatDateTimeRelative(e.h_createdAt))+"\n              ")])]),t._v(" "),n("div",{staticClass:"actions"},[e.h_userId===t.user.id?n("eb-link",{staticClass:"action",attrs:{iconF7:"::edit",iconSize:"18","eb-href":"/a/basefront/comment/item?atomId="+e.atomId+"&commentId="+e.h_id+"&replyId=0"}}):t._e(),t._v(" "),e.h_userId===t.user.id||t.rightDeleteComment?n("eb-link",{staticClass:"action",attrs:{iconF7:"::delete-forever",iconSize:"18",context:e,onPerform:t.onPerformDelete}}):t._e(),t._v(" "),n("eb-link",{staticClass:"action",attrs:{iconF7:e.h_heart?"::heart":":outline:heart-outline",iconSize:"18",context:e,onPerform:t.onPerformHeart}},[t._v(t._s(e.h_heartCount))]),t._v(" "),t.user.anonymous?t._e():n("eb-link",{staticClass:"action",attrs:{iconF7:"::reply",iconSize:"18","eb-href":"/a/basefront/comment/item?atomId="+e.atomId+"&commentId=0&replyId="+e.h_id}})],1)])])]),t._v(" "),n("f7-card-content",{attrs:{padding:""}},[n("eb-markdown-render",{attrs:{host:t.markdownHost,html:e.h_html}})],1)],1)})):t._e(),t._v(" "),n("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!0}})],2)}),[],!1,null,null,null).exports},767:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const a={data:function(){return{atomId:this.$f7route.query.atomId,commentId:this.$f7route.query.commentId}},created:function(){var t=this;this.$api.post("/a/base/comment/heart",{key:{atomId:this.atomId},atom:{star:1},data:{commentId:this.commentId,heart:1}}).then((function(){t.$view.dialog.alert(t.$text("Hearted")).then((function(){t.openAtom()}))}))},methods:{openAtom:function(){location.assign(this.$f7route.query.returnTo)}}},r=(0,n(792).Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("HeartForAtom"),"eb-back-link":"Back"}}),t._v(" "),n("f7-block")],1)}),[],!1,null,null,null).exports},531:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var a=n(3);function r(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function s(t){r(i,a,o,s,u,"next",t)}function u(t){r(i,a,o,s,u,"throw",t)}s(void 0)}))}}const i={mixins:[n.n(a)().prototype.$meta.module.get("a-components").options.mixins.ebPageDirty],meta:{size:"medium"},data:function(){return{atomId:parseInt(this.$f7route.query.atomId),commentId:parseInt(this.$f7route.query.commentId||0),replyId:parseInt(this.$f7route.query.replyId||0),module:null,comment:null,reply:null,content:""}},computed:{page_title:function(){var t=this.$text("Comment");return this.page_getDirtyTitle(t)},ready:function(){return this.module&&(0===this.commentId||this.comment)&&(0===this.replyId||this.reply)},readOnly:function(){return!1},host:function(){return{atomId:this.atomId,opts:{upload:{flag:"comment"}}}}},created:function(){var t=this;this.$meta.module.use("a-markdown",(function(e){t.module=e})),this.loadComment(this.commentId),this.loadReply(this.replyId)},methods:{loadComment:function(t){var e=this;return o(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.$api.post("/a/base/comment/item",{key:{atomId:e.atomId},data:{commentId:t}});case 4:a=n.sent,e.comment=a,e.content=e.comment.content;case 7:case"end":return n.stop()}}),n)})))()},loadReply:function(t){var e=this;return o(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.$api.post("/a/base/comment/item",{key:{atomId:e.atomId},data:{commentId:t}});case 4:a=n.sent,e.reply=a;case 6:case"end":return n.stop()}}),n)})))()},onInput:function(t){this.content!==t&&(this.content=t,this.page_setDirty(!0))},onSave:function(){this.$refs.buttonSave.onClick()},onPerformSave:function(){var t=this;return o(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.content){e.next=2;break}return e.abrupt("return");case 2:if(t.$refs.editor){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.$refs.editor.checkContent();case 6:return e.next=8,t.$api.post("/a/base/comment/save",{key:{atomId:t.atomId},data:{commentId:t.commentId,replyId:t.replyId,content:t.content}});case 8:n=e.sent,t.page_setDirty(!1),t.$meta.eventHub.$emit("comment:action",n),(a=t.$f7route.query.returnTo)?location.assign(a):t.$f7router.back();case 13:case"end":return e.stop()}}),e)})))()},onPreRender:function(t){if(this.comment)return this.fullContent({content:t,replyContent:this.comment.replyContent,replyUserName:this.comment.replyUserName});if(this.reply){var e=this.fullContent({content:this.reply.content,replyContent:this.reply.replyContent,replyUserName:this.reply.replyUserName});return this.fullContent({content:t,replyContent:e,replyUserName:this.reply.userName})}return t},fullContent:function(t){var e=t.content,n=t.replyContent,a=t.replyUserName;if(!n)return e;var r=this._getMarkdownSep(n);return"".concat(e,"\n\n> `").concat(a,"`:\n\n").concat(r," comment-quot\n").concat(n,"\n").concat(r,"\n\n")},_getMarkdownSep:function(t){var e=t.indexOf(":::");if(-1===e)return":::";for(var n=e+3;":"===t[n];)++n;return":".repeat(n-e+1)}}},s=(0,n(792).Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{title:t.page_title,"eb-back-link":"Back"}},[n("f7-nav-right",[n("eb-link",{ref:"buttonSave",attrs:{iconF7:"::save",onPerform:t.onPerformSave}})],1)],1),t._v(" "),t.ready?[n("eb-box",[n("eb-markdown-editor",{ref:"editor",attrs:{readOnly:t.readOnly,host:t.host,value:t.content},on:{input:t.onInput,save:t.onSave}})],1)]:t._e()],2)}),[],!1,null,null,null).exports},577:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var a=n(3),r=n.n(a);function o(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){o(i,a,r,s,u,"next",t)}function u(t){o(i,a,r,s,u,"throw",t)}s(void 0)}))}}const s={mixins:[r().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions,r().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],data:function(){return{atomId:parseInt(this.$f7route.query.atomId),commentId:parseInt(this.$f7route.query.commentId||0),order:"desc",items:[],moduleMarkdownRender:null,single:!0,atom:null}},computed:{user:function(){return this.$store.state.auth.user.op},showSingle:function(){return this.commentId>0&&this.single},markdownHost:function(){return{atomId:this.atom.atomId,atom:this.atom}}},created:function(){var t=this;this.$meta.module.use("a-markdownrender",(function(e){t.moduleMarkdownRender=e})),this._loadAtom()},mounted:function(){this.$meta.eventHub.$on("comment:action",this.onCommentChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("comment:action",this.onCommentChanged)},methods:{onRefresh:function(t){t(),this.reload()},onInfinite:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,n=t.index,a={};this.showSingle&&(a.id=this.commentId);var r={where:a,orders:[["updatedAt",this.order]],page:{index:n}};return this.$api.post("/a/base/comment/list",{key:{atomId:this.atomId},options:r}).then((function(t){return e.items=e.items.concat(t.list),t}))},reload:function(){this.$refs.loadMore.reload()},_loadAtom:function(){var t=this;return i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.contextParams||!t.contextParams.atom){e.next=4;break}t.atom=t.contextParams.atom,e.next=7;break;case 4:return e.next=6,t.$api.post("/a/base/atom/read",{key:{atomId:t.atomId}});case 6:t.atom=e.sent;case 7:case"end":return e.stop()}}),e)})))()},onPerformViewAtom:function(){var t=this;return i(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.atom){e.next=2;break}return e.abrupt("return");case 2:if(n=t.getAction({module:t.atom.module,atomClassName:t.atom.atomClassName,name:"read"})){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",t.$meta.util.performAction({ctx:t,action:n,item:t.atom}));case 6:case"end":return e.stop()}}),e)})))()},onPerformDelete:function(t,e){var n=this;return this.$view.dialog.confirm().then((function(){return n.$api.post("/a/base/comment/delete",{key:{atomId:n.atomId},data:{commentId:e.id}}).then((function(t){return n.$meta.eventHub.$emit("comment:action",t),!0}))}))},onPerformHeart:function(t,e){var n=this;if(!this.user.anonymous)return this.$api.post("/a/base/comment/heart",{key:{atomId:this.atomId},data:{commentId:e.id,heart:e.heart?0:1}}).then((function(t){n.$meta.eventHub.$emit("comment:action",t)}));this.$view.dialog.confirm(this.$text("Please Sign In")).then((function(){n.$meta.vueLayout.openLogin()}))},onCommentChanged:function(t){var e=this,n=t.action,a=t.atomId,o=t.commentId;if(a===this.atomId)if("create"!==n){var i=this.items.findIndex((function(t){return t.id===o}));"delete"!==n?-1!==i&&this.$api.post("/a/base/comment/item",{key:{atomId:this.atomId},data:{commentId:o}}).then((function(t){r().set(e.items,i,t)})):-1!==i&&this.items.splice(i,1)}else this.reload()},onPerformSort:function(){this.order="desc"===this.order?"asc":"desc",this.reload()},getItemMedia:function(t){var e=t.avatar||this.$meta.config.modules["a-base"].user.avatar.default;return this.$meta.util.combineImageUrl(e,32)},onPerformShowAllComments:function(){this.single=!1,this.reload()}}},u=(0,n(792).Z)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",{attrs:{ptr:"",infinite:"",infinitePreloader:!1},on:{"ptr:refresh":t.onRefresh,infinite:t.onInfinite}},[n("eb-navbar",{attrs:{title:t.$text("Comment List"),"eb-back-link":"Back"}},[n("f7-nav-right",[t.user.anonymous?t._e():n("eb-link",{attrs:{iconF7:"::add","eb-href":"/a/basefront/comment/item?atomId="+t.atomId+"&commentId=0&replyId=0"}}),t._v(" "),n("eb-link",{attrs:{iconF7:"desc"===t.order?"::arrow-down":"::arrow-up",onPerform:t.onPerformSort}})],1),t._v(" "),n("f7-subnavbar",[n("div"),t._v(" "),t.atom?n("eb-link",{attrs:{onPerform:t.onPerformViewAtom}},[n("span",{staticClass:"eb-text-overflow-ellipsis"},[t._v(t._s(t.atom.atomName))])]):t._e()],1)],1),t._v(" "),t.moduleMarkdownRender&&t.atom?t._l(t.items,(function(e){return n("f7-card",{key:e.id,staticClass:"comment"},[n("f7-card-header",[n("div",{staticClass:"title"},[n("img",{staticClass:"avatar avatar32",attrs:{src:t.getItemMedia(e)}}),t._v(" "),n("div",{staticClass:"name"},[t._v(t._s(e.userName))]),t._v(" "),n("div",{staticClass:"date"},[t._v("#"+t._s(e.sorting)+"  "+t._s(t.$meta.util.formatDateTimeRelative(e.createdAt)))])]),t._v(" "),n("div",{staticClass:"actions"},[e.userId===t.user.id?n("eb-link",{staticClass:"action",attrs:{iconF7:"::edit",iconSize:"18","eb-href":"/a/basefront/comment/item?atomId="+t.atomId+"&commentId="+e.id+"&replyId=0"}}):t._e(),t._v(" "),e.userId===t.user.id?n("eb-link",{staticClass:"action",attrs:{iconF7:"::delete-forever",iconSize:"18",context:e,onPerform:t.onPerformDelete}}):t._e(),t._v(" "),n("eb-link",{staticClass:"action",attrs:{iconF7:e.heart?"::heart":":outline:heart-outline",iconSize:"18",iconBadge:e.heartCount,badgeColor:"orange",context:e,onPerform:t.onPerformHeart}}),t._v(" "),t.user.anonymous?t._e():n("eb-link",{staticClass:"action",attrs:{iconF7:"::reply",iconSize:"18","eb-href":"/a/basefront/comment/item?atomId="+t.atomId+"&commentId=0&replyId="+e.id}})],1)]),t._v(" "),n("f7-card-content",{attrs:{padding:""}},[n("eb-markdown-render",{attrs:{host:t.markdownHost,html:e.html}})],1)],1)})):t._e(),t._v(" "),n("eb-load-more",{ref:"loadMore",class:t.showSingle?"display-none":"",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!0}}),t._v(" "),t.showSingle?n("eb-button",{attrs:{onPerform:t.onPerformShowAllComments}},[t._v(t._s(t.$text("ShowAllComments")))]):t._e()],2)}),[],!1,null,null,null).exports},129:(t,e,n)=>{"use strict";function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function s(t){i(o,a,r,s,u,"next",t)}function u(t){i(o,a,r,s,u,"throw",t)}s(void 0)}))}}n.r(e),n.d(e,{default:()=>c});const u={data:function(){var t=this.$f7route.query;return{atomId:parseInt(t.atomId),items:null}},created:function(){this.reload()},methods:{combineAtomClassAndLanguage:function(){var t={module:this.atomClass.module,atomClassName:this.atomClass.atomClassName};return this.language&&(t.language=this.language),t},onRefresh:function(t){t(),this.reload()},reload:function(){var t=this;this.$api.post("/a/base/resource/resourceRoles",{key:{atomId:this.atomId}}).then((function(e){t.items=e.list}))},onPerformAdd:function(){var t=this;return s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$view.navigate("/a/baseadmin/role/select",{target:"_self",context:{params:{roleIdStart:null,multiple:!0,resourceAtomId:t.atomId},callback:function(e,n){200===e&&t._resourceRoleAdd(n)}}});case 1:case"end":return e.stop()}}),e)})))()},_resourceRoleAdd:function(t){var e=this;return s(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&0!==t.length){n.next=2;break}return n.abrupt("return");case 2:return a=t.map((function(t){return t.id})),n.next=5,e.$api.post("/a/base/resource/resourceRoleAdd",{key:{atomId:e.atomId},data:{roles:a}});case 5:e.reload();case 6:case"end":return n.stop()}}),n)})))()},onItemClick:function(t,e){var n=this;return s(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.onPerformEdit(t,e);case 2:case"end":return a.stop()}}),a)})))()},onPerformEdit:function(t,e){var n=this;return s(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.$view.dialog.prompt(n.$text("Please specify the new tag name"));case 2:if(a=t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,n.$api.post("/a/base/tag/save",{tagId:e.id,data:{tagName:a}});case 7:-1!==(o=n.items.findIndex((function(t){return t.id===e.id})))&&n.items.splice(o,1,r(r({},e),{},{tagName:a}));case 9:case"end":return t.stop()}}),t)})))()},onPerformRemove:function(t,e){var n=this;return s(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.$view.dialog.confirm();case 2:return a.next=4,n.$api.post("/a/base/resource/resourceRoleRemove",{key:{atomId:n.atomId},data:{resourceRoleId:e.id}});case 4:n.$meta.util.swipeoutClose(t.currentTarget),-1!==(r=n.items.findIndex((function(t){return t.id===e.id})))&&n.items.splice(r,1);case 7:case"end":return a.stop()}}),a)})))()}}},c=(0,n(792).Z)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",{attrs:{ptr:""},on:{"ptr:refresh":t.onRefresh}},[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Authorize"),"eb-back-link":"Back"}},[n("f7-nav-right",[n("eb-link",{attrs:{iconF7:"::add",onPerform:t.onPerformAdd}})],1)],1),t._v(" "),n("f7-list",t._l(t.items,(function(e){return n("eb-list-item",{key:e.id,staticClass:"item",attrs:{title:e.roleName,swipeout:""}},[n("eb-context-menu",[n("div",{attrs:{slot:"right"},slot:"right"},[n("div",{attrs:{color:"red",context:e,onPerform:t.onPerformRemove}},[t._v(t._s(t.$text("Remove")))])])])],1)})),1),t._v(" "),t.items&&0===t.items.length?n("div",{staticClass:"text-align-center"},[t._v(t._s(t.$text("No Data")))]):t._e()],1)}),[],!1,null,"54c8f326",null).exports},216:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var a=n(3);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function c(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(a,r)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){c(o,a,r,i,s,"next",t)}function s(t){c(o,a,r,i,s,"throw",t)}i(void 0)}))}}const m={mixins:[n.n(a)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],data:function(){var t=this.$f7route.query;return{maxLevelAutoOpened:parseInt(t.maxLevelAutoOpened||1),resourceType:t.resourceType,treeData:null,resourcesArrayAll:null}},computed:{ready:function(){return this.treeData&&this.resourcesArrayAll},pageTitle:function(){var t=this.$store.getState("a/base/resourceTypes");return t?"".concat(this.$text("Select")," ").concat(t[this.resourceType].titleLocale):null},multiple:function(){return this.contextParams.multiple},fixed:function(){return this.contextParams.fixed},checkedAtomStaticKeys:function(){return this.contextParams.checkedAtomStaticKeys},root:function(){return{attrs:{itemToggle:!1,selectable:!1,multiple:this.multiple}}}},created:function(){this.__init()},methods:{__init:function(){var t=this;return l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("a/base/getResourceTypes");case 2:return e.next=4,t.$store.dispatch("a/base/getResourcesArray",{resourceType:t.resourceType});case 4:return t.resourcesArrayAll=e.sent,e.next=7,t.$store.dispatch("a/base/getResourceTree",{resourceType:t.resourceType});case 7:t.treeData=e.sent;case 8:case"end":return e.stop()}}),e)})))()},combineAtomClassAndLanguage:function(){var t={module:this.atomClass.module,atomClassName:this.atomClass.atomClassName};return this.language&&(t.language=this.language),t},_loadNodeCategories:function(t){var e=this;return l(regeneratorRuntime.mark((function n(){var a,r,i,u,c,l,m,d,f,h;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=t.data&&t.data.__level||0,r=a+1,i=t.root?e.treeData:t.data.children,u=[],c=s(i),n.prev=5,c.s();case 7:if((l=c.n()).done){n.next=21;break}if(m=l.value,d=!1,f={id:m.id,attrs:{label:m.categoryNameLocale,toggle:!0,itemToggle:!0,loadChildren:!0,checkbox:d,checkOnLabel:d,selectable:d},data:o(o({},m),{},{__level:r})},!(r<=e.maxLevelAutoOpened||-1===e.maxLevelAutoOpened)){n.next=18;break}return n.next=14,e.onLoadChildren(f);case 14:h=n.sent,e.$refs.tree.childrenLoaded(f,h),f.attrs.loadChildren=!1,f.attrs.opened=!0;case 18:u.push(f);case 19:n.next=7;break;case 21:n.next=26;break;case 23:n.prev=23,n.t0=n.catch(5),c.e(n.t0);case 26:return n.prev=26,c.f(),n.finish(26);case 29:return n.abrupt("return",u);case 30:case"end":return n.stop()}}),n,null,[[5,23,26,29]])})))()},_checkCheckedInit:function(t){return!!this.checkedAtomStaticKeys&&this.checkedAtomStaticKeys.findIndex((function(e){return e===t.atomStaticKey}))>-1},_loadNodeResources:function(t){var e=this;return l(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.resourcesArrayAll.filter((function(e){return e.atomCategoryId===t.id})),n.abrupt("return",a.map((function(t){var n=!0,a=e._checkCheckedInit(t),r="disabled"===e.fixed&&!0===JSON.parse(t.resourceConfig).fixed;return{id:t.atomId,attrs:{label:t.atomNameLocale,toggle:!1,loadChildren:!1,checkbox:n,checked:a,checkOnLabel:n,selectable:n,itemToggle:!1,disabled:r},data:t}})));case 2:case"end":return n.stop()}}),n)})))()},onLoadChildren:function(t){var e=this;return l(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.root&&1!==t.data.categoryCatalog){n.next=4;break}return n.next=3,e._loadNodeCategories(t);case 3:case 6:return n.abrupt("return",n.sent);case 4:return n.next=6,e._loadNodeResources(t);case 7:case"end":return n.stop()}}),n)})))()},onPerformDone:function(){var t,e=this.$refs.tree.checked();t=e&&0!==e.length?e:null,this.contextCallback(200,t),this.$f7router.back()}}},d=(0,n(792).Z)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.pageTitle,"eb-back-link":"Back"}},[n("f7-nav-right",[n("eb-link",{attrs:{iconF7:"::done",onPerform:t.onPerformDone}})],1)],1),t._v(" "),t.ready?n("eb-treeview",{ref:"tree",attrs:{root:t.root,onLoadChildren:t.onLoadChildren}}):t._e(),t._v(" "),n("f7-block")],1)}),[],!1,null,"4586970d",null).exports},442:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var a=n(3),r=n.n(a),o=n(276);const i={mixins:[r().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{tagSelect:o.Z},data:function(){var t=this.$f7route.query;return{atomClass:{module:t.module,atomClassName:t.atomClassName},language:t.language,searchQuery:null}},computed:{selectedTags:function(){return this.contextParams.selectedTags},multiple:function(){return!1!==this.contextParams.multiple},showBlockCurrent:function(){return!1!==this.contextParams.showBlockCurrent}},created:function(){var t=this;this.onSearch=this.$meta.util.debounce((function(e,n){t.searchQuery=n}),200)},methods:{onPerformDone:function(){var t=this.$refs.tagSelect.checked();this.contextCallback(200,t),this.$f7router.back()},onPerformSearch:function(){this.$refs.searchbar.f7Searchbar.enable()},onDisable:function(){this.searchQuery=null}}},s=(0,n(792).Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{large:"",largeTransparent:"",title:t.$text("Select Tags"),"eb-back-link":"Back"}},[n("f7-nav-right",[n("eb-link",{attrs:{iconF7:"::search",onPerform:t.onPerformSearch}}),t._v(" "),n("eb-link",{ref:"buttonSubmit",attrs:{iconF7:"::done",onPerform:t.onPerformDone}})],1),t._v(" "),n("f7-searchbar",{ref:"searchbar",attrs:{expandable:"",backdrop:!1,"disable-button":!0,"clear-button":!0,"custom-search":!0},on:{"searchbar:search":t.onSearch,"searchbar:disable":t.onDisable}})],1),t._v(" "),n("tagSelect",{ref:"tagSelect",attrs:{atomClass:t.atomClass,language:t.language,multiple:t.multiple,searchQuery:t.searchQuery,selectedTags:t.selectedTags,showBlockCurrent:t.showBlockCurrent}})],1)}),[],!1,null,null,null).exports},792:(t,e,n)=>{"use strict";function a(t,e,n,a,r,o,i,s){var u,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),a&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),i?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=u):r&&(u=s?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var m=c.beforeCreate;c.beforeCreate=m?[].concat(m,u):[u]}return{exports:t,options:c}}n.d(e,{Z:()=>a})},65:(t,e,n)=>{var a=n(450);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals),(0,n(159).Z)("537bb97c",a,!0,{})},210:(t,e,n)=>{var a=n(779);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals),(0,n(159).Z)("82655904",a,!0,{})},159:(t,e,n)=>{"use strict";function a(t,e){for(var n=[],a={},r=0;r<e.length;r++){var o=e[r],i=o[0],s={id:t+":"+r,css:o[1],media:o[2],sourceMap:o[3]};a[i]?a[i].parts.push(s):n.push(a[i]={id:i,parts:[s]})}return n}n.d(e,{Z:()=>h});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},i=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,u=0,c=!1,l=function(){},m=null,d="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t,e,n,r){c=n,m=r||{};var i=a(t,e);return p(i),function(e){for(var n=[],r=0;r<i.length;r++){var s=i[r];(u=o[s.id]).refs--,n.push(u)}for(e?p(i=a(t,e)):i=[],r=0;r<n.length;r++){var u;if(0===(u=n[r]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete o[u.id]}}}}function p(t){for(var e=0;e<t.length;e++){var n=t[e],a=o[n.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](n.parts[r]);for(;r<n.parts.length;r++)a.parts.push(g(n.parts[r]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var i=[];for(r=0;r<n.parts.length;r++)i.push(g(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:i}}}}function b(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function g(t){var e,n,a=document.querySelector("style["+d+'~="'+t.id+'"]');if(a){if(c)return l;a.parentNode.removeChild(a)}if(f){var r=u++;a=s||(s=b()),e=_.bind(null,a,r,!1),n=_.bind(null,a,r,!0)}else a=b(),e=x.bind(null,a),n=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else n()}}var v,y=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function _(t,e,n,a){var r=n?"":a.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var o=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function x(t,e){var n=e.css,a=e.media,r=e.sourceMap;if(a&&t.setAttribute("media",a),m.ssrId&&t.setAttribute(d,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},990:(t,e,n)=>{var a={"./atom/item.jsx":696,"./atom/list.jsx":235,"./atom/searchQuick.jsx":368,"./atom/select.jsx":783,"./atom/selecting.jsx":239,"./resource/tree.jsx":5};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id=990},142:(t,e,n)=>{var a={"./atom/autoStar.vue":722,"./atom/draftTabs.vue":472,"./atom/labels.vue":693,"./atom/selectAtomClass.vue":277,"./atom/starTabs.vue":824,"./attachment/all.vue":484,"./attachment/list.vue":381,"./base/about.vue":723,"./base/alert.vue":238,"./base/openLink.vue":849,"./category/categorySelect.vue":255,"./comment/all.vue":54,"./comment/autoHeart.vue":767,"./comment/item.vue":531,"./comment/list.vue":577,"./resource/authorize.vue":129,"./resource/resourceSelect.vue":216,"./tag/tagSelect.vue":442};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id=142},3:t=>{"use strict";t.exports=window.Vue}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={id:a,exports:{}};return t[a](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var a={};(()=>{"use strict";var t;n.r(a),n.d(a,{default:()=>e}),n(65);const e={install:function(e,a){return t?console.error("already installed."):(t=e,a({routes:n(644).Z,store:n(81).Z(t),config:n(855).Z,locales:n(137).Z,components:n(675).Z,mixins:n(751).Z}))}}})(),window["a-basefront"]=a})();
//# sourceMappingURL=front.js.map