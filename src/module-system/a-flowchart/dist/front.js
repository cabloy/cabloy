/*! For license information please see front.js.LICENSE.txt */
(()=>{var t={370:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),c=new A(n||[]);return i(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function v(){}function y(){}var m={};l(m,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,c)&&(m=b);var w=y.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(i,a,c,s){var u=h(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,s)}),(function(t){o("throw",t,c,s)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function i(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function c(t){i(a,n,o,c,s,"next",t)}function s(t){i(a,n,o,c,s,"throw",t)}c(void 0)}))}}r.d(e,{Z:()=>V});const c={meta:{global:!1},methods:{onAction:function(t){var e=this;return a(o().mark((function r(){var n,i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.ctx,i=t.action,a=t.item,"getAtomClassAndStage"!==i.name){r.next=7;break}return r.next=4,e.onAction_getAtomClassAndStage({ctx:n,item:a});case 4:case 10:case 16:return r.abrupt("return",r.sent);case 7:if("getSchemaReference"!==i.name){r.next=13;break}return r.next=10,e.onAction_getSchemaReference({ctx:n,item:a});case 13:if("schemaReference"!==i.name){r.next=17;break}return r.next=16,e.onAction_schemaReference({ctx:n,action:i,item:a});case 17:case"end":return r.stop()}}),r)})))()},onAction_getAtomClassAndStage:function(t){var e=this;return a(o().mark((function r(){var n,i,a,c,s,u,l,f,h;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.ctx,i=t.item,a=i.validate,c=a.host.container,s=c.diagram,u=c.id,l=e.__findNode_startEventAtom({diagram:s,nodeId:u})){r.next=9;break}return n.$view.toast.show({text:e.$text("NotFoundStartEventAtom")}),r.abrupt("return");case 9:if((f=l.options&&l.options.atom)&&f.module&&f.atomClassName){r.next=13;break}return n.$view.toast.show({text:e.$text("NotSetStartEventAtom")}),r.abrupt("return");case 13:return h=l.options&&l.options.atomStage||0,r.abrupt("return",{atomClass:f,atomStage:h});case 15:case"end":return r.stop()}}),r)})))()},onAction_getSchemaReference:function(t){var e=this;return a(o().mark((function r(){var n,i,a,c,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.ctx,i=t.item,r.next=3,e.onAction_getAtomClassAndStage({ctx:n,item:i});case 3:if(a=r.sent){r.next=6;break}return r.abrupt("return");case 6:return r.next=8,n.$api.post("/a/base/atom/validator",{atomClass:a.atomClass});case 8:return c=r.sent,r.next=11,n.$api.post("/a/validation/validation/schema",{module:c.module,validator:c.validator,schema:null});case 11:return s=r.sent,r.abrupt("return",s);case 13:case"end":return r.stop()}}),r)})))()},onAction_schemaReference:function(t){var e=this;return a(o().mark((function r(){var n,i,a,c,s,u;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.ctx,i=t.action,a=t.item,r.next=3,e.onAction_getSchemaReference({ctx:n,action:i,item:a});case 3:if(c=r.sent){r.next=6;break}return r.abrupt("return");case 6:s=c.schema,void 0===(u=n.$meta.util.getProperty(i,"navigateOptions.target"))&&(u="_self"),n.$view.navigate("/a/jsoneditor/json/editor?t=".concat(Date.now()),{target:u,context:{params:{value:s,title:n.$text("ReferenceForHelp"),readOnly:!0}}});case 10:case"end":return r.stop()}}),r)})))()},__findNode_startEventAtom:function(t){var e=t.diagram,r=t.nodeId,n=e.contentProcess.nodes.find((function(t){return t.id===r}));if(!n)return null;for(var o={};;){if(n.type.indexOf("startEventAtom")>-1)return n;if(o[r]=!0,!(n=this.__findNode_previous({diagram:e,nodeId:r,nodeIdCaches:o})))return null;r=n.id}},__findNode_previous:function(t){var e=t.diagram,r=t.nodeId,n=t.nodeIdCaches,o=e.contentProcess.edges.find((function(t){return t.target===r&&!n[t.source]}));return o?e.contentProcess.nodes.find((function(t){return t.id===o.source})):null}}};var s=r(3),u=r.n(s);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(){f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var d={};function p(){}function v(){}function y(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,i)&&(m=b);var w=y.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,a,c){var s=h(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==l(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),s(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),s(w,c,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function h(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){h(i,n,o,a,c,"next",t)}function c(t){h(i,n,o,a,c,"throw",t)}a(void 0)}))}}const p={mixins:[u().prototype.$meta.module.get("a-base").options.mixins.ebAtomClasses],props:{context:{type:Object}},data:function(){return{atomClass:null,atomStage:null}},computed:{},created:function(){this.init()},methods:{init:function(){var t=this;return d(f().mark((function e(){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAtomClassAndStage();case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:t.atomClass=r.atomClass,t.atomStage=parseInt(r.atomStage||0);case 7:case"end":return e.stop()}}),e)})))()},getAtomClassAndStage:function(){var t=this;return d(f().mark((function e(){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:"getAtomClassAndStage",actionModule:"a-flowchart",actionComponent:"actionUserTask"},e.next=3,t.$meta.util.performAction({ctx:t,action:r,item:t.context});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()},getDictKey:function(){if(!this.atomClass)return null;var t=this.getAtomClass(this.atomClass);if(!t)return null;var e=0===this.atomStage?"draft":1===this.atomStage?"formal":null;return e?this.$meta.util.getProperty(t,"dict.states.".concat(e,".dictKey")):null}},render:function(){var t=arguments[0],e=this.context,r=e.parcel,n=e.key,o=e.property,i=this.getDictKey();if(!i)return null;var a=this.$meta.util.extend({},o,{ebType:"dict",ebOptionsBlankAuto:!0,ebParams:{dictKey:i,mode:"select",forceLoad:!0},ebRender:null});return t("eb-list-item-validate",{attrs:{parcel:r,dataKey:n,property:a}})}},v={props:{context:{type:Object}},data:function(){return{}},computed:{},created:function(){},methods:{onChooseAssignees:function(){var t=this,e=this.context.validate,r=e.host.container,n={flowDefId:r.flowDefId,nodeId:r.id},o=this.$meta.util.combineQueries("/a/flowchart/flowDef/assigneesEdit",n);this.$view.navigate(o,{target:"_self",context:{params:{context:this.context,readOnly:e.readOnly,value:this.context.getValue()},callback:function(e,r){200===e&&t.context.setValue(r)}}})}},render:function(){var t=arguments[0],e=this.context.dataPath;return t("eb-list-item-choose",{attrs:{link:"#",dataPath:e},props:{onChoose:this.onChooseAssignees}},[this.context.renderTitle({slot:"title"})])}};function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(){m=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var v={};s(v,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,i)&&(v=b);var w=p.prototype=h.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==y(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=p,n(w,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),s(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),s(w,c,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function g(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}const b={mixins:[u().prototype.$meta.module.get("a-base").options.mixins.ebModules],props:{context:{type:Object}},data:function(){return{flowServiceBases:null}},computed:{ebOptions:function(){if(!this.modulesAll||!this.flowServiceBases)return[];var t=[];for(var e in this.flowServiceBases){var r=this.modulesAll[e],n=this.flowServiceBases[e],o={title:r.titleLocale,options:[]};for(var i in t.push(o),n){var a=n[i].titleLocale,c="".concat(e,":").concat(i);o.options.push({title:a,value:c})}}return t}},created:function(){this.__init()},methods:{__init:function(){var t,e=this;return(t=m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$local.dispatch("getFlowServiceBases");case 2:e.flowServiceBases=t.sent;case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){g(i,n,o,a,c,"next",t)}function c(t){g(i,n,o,a,c,"throw",t)}a(void 0)}))})()}},render:function(){var t=arguments[0],e=this.context,r=e.parcel,n=e.key,o=e.property,i={ebPatch:{getValue:function(t){return t?"".concat(t.module,":").concat(t.name):""},setValue:function(t){if(!t)return null;var e=t.split(":");return e[0]&&e[1]?{module:e[0],name:e[1]}:null}}},a=this.$utils.extend({},o,{ebType:"select",ebOptions:this.ebOptions});return t("eb-list-item-validate",{attrs:{parcel:r,dataKey:n,property:a,meta:i}})}};function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function x(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=L(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function _(){_=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var v={};s(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(P([])));m&&m!==e&&r.call(m,i)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==w(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(x.prototype),s(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,e)||L(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,e){if(t){if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,e):void 0}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function A(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){S(i,n,o,a,c,"next",t)}function c(t){S(i,n,o,a,c,"throw",t)}a(void 0)}))}}var P=["#FF3B30","#FF9500","#9C27B0","#009688","#2196F3","#4CD964"];const k={props:{context:{type:Object}},data:function(){return{}},computed:{readOnly:function(){return this.context.validate.readOnly},container:function(){return this.context.validate.host.container},flowDefId:function(){return this.container.flowDefId},nodeId:function(){return this.container.id},diagram:function(){return this.container.diagram}},created:function(){},methods:{onItemClick:function(t,e){var r=this;return A(_().mark((function t(){var n,o;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={flowDefId:r.flowDefId,nodeId:r.nodeId,behaviorId:e.id},o=r.$meta.util.combineQueries("/a/flowchart/flowDef/behaviorEdit",n),r.$view.navigate(o,{target:"_self",context:{params:{context:r.context,readOnly:r.readOnly,value:e},callback:function(t,n){if(200===t){var o=r.context.getValue().concat();o[E(r._findBehavior(e.id),1)[0]]=n,r.context.setValue(o)}}}});case 3:case"end":return t.stop()}}),t)})))()},_findBehavior:function(t){var e=this.context.getValue(),r=e.findIndex((function(e){return e.id===t}));return[r,-1===r?null:e[r]]},_onActionDelete:function(t,e){var r=this;return A(_().mark((function n(){var o,i,a,c;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.$view.dialog.confirm();case 2:r._deleteEdges(e.id),o=r.context.getValue(),i=r._findBehavior(e.id),a=E(i,1),c=a[0],o.splice(c,1),r.context.setValue(o),r.$meta.util.swipeoutClose(t.currentTarget);case 8:case"end":return n.stop()}}),n)})))()},_deleteEdges:function(t){var e=this,r=this.diagram.contentProcess.edges.filter((function(r){return r.source===e.nodeId&&r.behavior===t})).map((function(t){return t.id}));this.diagram.deleteEdges(r)},_onActionMoveUp:function(t,e){var r=this.context.getValue(),n=E(this._findBehavior(e.id),1)[0];if(n>0){var o=r.splice(n,1);r.splice(n-1,0,o[0]),this.context.setValue(r)}this.$meta.util.swipeoutClose(t.currentTarget)},_onActionMoveDown:function(t,e){var r=this.context.getValue(),n=E(this._findBehavior(e.id),1)[0];if(n<r.length-1){var o=r.splice(n+1,1);r.splice(n,0,o[0]),this.context.setValue(r)}this.$meta.util.swipeoutClose(t.currentTarget)},onSwipeoutOpened:function(){},onPerformAdd:function(){var t=this;this.$view.navigate("/a/flowchart/flowDef/behaviors",{target:"_self",context:{params:{diagram:this.diagram},callback:function(e,r){200===e&&r&&t._addBehavior(r)}}})},_addBehavior:function(t){var e=this.context.getValue()||[],r=this.__getAvailableBehaviorId(e,t),n=t.titleLocale||t.title,o=this.__getAvailableBehaviorColor(e);e.push({id:r,name:n,type:t.type,color:o}),this.context.setValue(e)},__getAvailableBehaviorId:function(t,e){var r,n=0,o=x(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.id){var a=parseInt(i.id.split("_")[1]||0);a>n&&(n=a)}}}catch(t){o.e(t)}finally{o.f()}return"".concat(e.type,"_").concat(n+1)},__getAvailableBehaviorColor:function(t){var e,r,n=x(P);try{var o=function(){var n=r.value;if(!t.some((function(t){return t.color===n})))return e=n,"break"};for(n.s();!(r=n.n()).done&&"break"!==o(););}catch(t){n.e(t)}finally{n.f()}return e||(e=this.__randomColor()),e},__randomColor:function(){var t=Math.floor(150*Math.random()+50),e=Math.floor(150*Math.random()+50),r=Math.floor(150*Math.random()+50);return("#"+t.toString(16)+e.toString(16)+r.toString(16)).toUpperCase()},_renderBehaviorMedia:function(t){var e=this.$createElement,r=this.diagram.behaviorBases[t.type],n=r.icon.material,o=r.icon.f7,i=r.icon.url;return n||o?e("f7-icon",{style:{color:t.color},attrs:{material:n,f7:o}}):e("img",{style:{color:t.color},class:"media-node-base-icon",attrs:{src:this.$meta.util.combineFetchStaticPath(i)}})},_renderTitle:function(){var t,e=this.$createElement;return this.readOnly||(t=e("eb-link",{attrs:{iconF7:"::add"},props:{onPerform:this.onPerformAdd}})),e("f7-list-item",{attrs:{"group-title":!0}},[e("div",{class:"display-flex justify-content-space-between"},[e("div",[this.$text("Behaviors")]),t])])},_renderBehavior:function(t){var e=this,r=this.$createElement,n=r("div",{slot:"media"},[this._renderBehaviorMedia(t)]),o=r("div",{slot:"title",class:"title"},[r("div",[t.name])]);return r("eb-list-item",{class:"item",key:t.id,attrs:{link:"#",swipeout:!0},props:{onPerform:function(r){return e.onItemClick(r,t)}},on:{swipeoutOpened:function(r){e.onSwipeoutOpened(r,t)},contextmenuOpened:function(r){e.onSwipeoutOpened(r,t)}}},[n,o,this._renderListItemContextMenu(t)])},_renderListItemContextMenu:function(t,e){var r=this,n=this.$createElement;if(this.readOnly)return null;var o,i=[];("menu"===e||!e&&this.$device.desktop)&&(o=n("div",{slot:"title"},[this.$text("Delete")])),i.push(n("div",{key:"delete",attrs:{color:"red"},props:{onPerform:function(e){return r._onActionDelete(e,t)}}},[n("f7-icon",{slot:"media",attrs:{f7:"::delete"}}),o]));var a,c,s=this.context.getValue(),u=E(this._findBehavior(t.id),1)[0];u>0&&(("menu"===e||!e&&this.$device.desktop)&&(a=n("div",{slot:"title"},[this.$text("Move Up")])),i.push(n("div",{key:"moveUp",attrs:{color:"teal"},props:{onPerform:function(e){return r._onActionMoveUp(e,t)}}},[n("f7-icon",{slot:"media",attrs:{f7:"::arrow-up"}}),a]))),u<s.length-1&&(("menu"===e||!e&&this.$device.desktop)&&(c=n("div",{slot:"title"},[this.$text("Move Down")])),i.push(n("div",{key:"moveDown",attrs:{color:"teal"},props:{onPerform:function(e){return r._onActionMoveDown(e,t)}}},[n("f7-icon",{slot:"media",attrs:{f7:"::arrow-down"}}),c])));var l=n("div",{slot:"right"},[i]);return n("eb-context-menu",{attrs:{mode:e}},[l])},_renderBehaviors:function(){var t=[],e=this.context.getValue();if(!e)return null;var r,n=x(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;t.push(this._renderBehavior(o))}}catch(t){n.e(t)}finally{n.f()}return t}},render:function(){var t=arguments[0];return t("div",[this._renderTitle(),this._renderBehaviors()])}},j={props:{context:{type:Object}},data:function(){return{}},computed:{},created:function(){},methods:{onSave:function(){return this.context.validate.perform(null,{action:"save"})},onChooseEditContent:function(){var t=this,e=this.context,r=e.parcel,n=e.validate;this.$view.navigate("/a/flowchart/flowDef/contentEdit",{target:n.readOnly?"_self":void 0,context:{params:{item:r.data,readOnly:n.readOnly,onSave:function(){return t.onSave()}},callback:function(e,r){200===e&&t.context.setValue(r.content)}}})}},render:function(){var t=arguments[0],e=this.context.dataPath;return t("eb-list-item-choose",{attrs:{link:"#",dataPath:e},props:{onChoose:this.onChooseEditContent}},[this.context.renderTitle({slot:"title"})])}},N={props:{context:{type:Object}},data:function(){return{}},computed:{ebOptions:function(){var t=this.context.validate.host.container,e=t.diagram,r=t.id,n=e.contentProcess.nodes.filter((function(t){return t.id!==r&&(t.type.indexOf("startEventAtom")>-1||t.type.indexOf("activityUserTask")>-1)})).map((function(t){return{title:t.nameLocale||t.name,value:t.id}}));return n.unshift({title:"Default",value:""}),n}},created:function(){},methods:{},render:function(){var t=arguments[0],e=this.context,r=e.parcel,n=e.key,o=e.property,i=this.$utils.extend({},o,{ebType:"select",ebOptions:this.ebOptions});return t("eb-list-item-validate",{attrs:{parcel:r,dataKey:n,property:i}})}};function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function $(){$=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new O(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var v={};s(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==e&&r.call(m,i)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==I(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function D(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function T(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){D(i,n,o,a,c,"next",t)}function c(t){D(i,n,o,a,c,"throw",t)}a(void 0)}))}}const C={props:{context:{type:Object}},data:function(){return{}},computed:{},created:function(){},methods:{getSchemaReference:function(){var t=this;return T($().mark((function e(){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:"getSchemaReference",actionModule:"a-flowchart",actionComponent:"actionUserTask"},e.next=3,t.$meta.util.performAction({ctx:t,action:r,item:t.context});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()},onChooseSchemaFields:function(){var t=this;return T($().mark((function e(){var r,n,o,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSchemaReference();case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.$meta.module.use(r.module);case 7:n=t.context.validate,o=n.host.container,i={flowDefId:o.flowDefId,nodeId:o.id},a=t.$meta.util.combineQueries("/a/flowchart/flowDef/schemaFields",i),t.$view.navigate(a,{target:"_self",context:{params:{context:t.context,readOnly:n.readOnly,value:t.context.getValue(),schemaReference:r},callback:function(e,r){200===e&&t.context.setValue(r)}}});case 12:case"end":return e.stop()}}),e)})))()}},render:function(){var t=arguments[0],e=this.context.dataPath;return t("eb-list-item-choose",{attrs:{link:"#",dataPath:e},props:{onChoose:this.onChooseSchemaFields}},[this.context.renderTitle({slot:"title"})])}},B={props:{context:{type:Object}},data:function(){return{}},computed:{ebOptions:function(){return this.context.validate.host.container.diagram.contentProcess.nodes.map((function(t){return{title:t.nameLocale||t.name,value:t.id}}))}},created:function(){},methods:{},render:function(){var t=arguments[0],e=this.context,r=e.parcel,n=e.key,o=e.property,i=this.$utils.extend({},o,{ebType:"select",ebOptions:this.ebOptions});return t("eb-list-item-validate",{attrs:{parcel:r,dataKey:n,property:i}})}};var F=r(899),M=r(131),G=r(281),R=r(396);const V={actionUserTask:c,renderAtomState:p,renderAssignees:v,renderBeanFlowService:b,renderBehaviors:k,renderFlowDefContent:j,renderRejectedNode:N,renderSchemaFields:C,renderSelectNode:B,contentEditDiagram:F.Z,contentEditSource:M.Z,contentEditListener:G.Z,schemaFieldsTab:R.Z}},835:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={flowDef:{default:{listener:"class Listener {\n  constructor(context) {\n    this.context = context;\n  }\n\n  async onFlowStart(options) {\n  }\n\n  async onFlowEnd(options) {\n  }\n\n  async onNodeEnter(contextNode) {\n  }\n\n  async onNodeBegin(contextNode) {\n  }\n\n  async onNodeDoing(contextNode) {\n  }\n\n  async onNodeEnd(contextNode) {\n  }\n\n  async onNodeLeave(contextNode) {\n  }\n\n  async onEdgeEnter(contextEdge, contextNode) {\n  }\n\n  async onEdgeTake(contextEdge, contextNode) {\n  }\n\n  async onEdgeLeave(contextEdge, contextNode) {\n  }\n}\n",process:{nodes:[],edges:[]}},groups:[{name:"startEvent",title:"Start Event"},{name:"endEvent",title:"End Event"},{name:"gateway",title:"Gateway"},{name:"activity",title:"Activity"}]},schema:{default:{base:{behavior:{id:"",name:"",type:"",color:""},node:{id:"",name:"",type:""},edge:{id:"",name:"",source:"",target:""}}}}}},829:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={flowDefDiagramTitle:"Diagram",flowDefSourceTitle:"Source",flowDefListenerTitle:"Listener",EditInPCTip:"Please edit in PC",FlowInitiator:"Flow Initiator",FlowVarAutoPick:"Auto Pick",NotFoundStartEventAtom:"Not Found: StartEvent of Data Draft",NotSetStartEventAtom:"Not Set: StartEvent of Data Draft"}},75:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={flowDefDiagramTitle:"流程图",flowDefSourceTitle:"源文件",flowDefListenerTitle:"监听器",EditInPCTip:"请在PC中编辑",Activity:"活动",Variable:"变量",Variables:"变量",Behavior:"行为",Behaviors:"行为",FlowInitiator:"流程发起人",FlowVarAutoPick:"自动提取",NotFoundStartEventAtom:"未发现：数据起草开始事件",NotSetStartEventAtom:"未设置：数据起草开始事件",Gateway:"网关","Flow Chart":"流程图","Start Event":"开始事件","End Event":"结束事件","Field Permissions":"字段权限","Allow All Fields":"允许所有字段","Disable All Fields":"禁止所有字段","Allow Specific Fields":"允许指定字段","Select Fields":"选择字段","Move Up":"上移","Move Down":"下移","Add Node":"添加节点","Add Behavior":"添加行为"}},380:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={"en-us":r(829).Z,"zh-cn":r(75).Z}},267:(t,e,r)=>{"use strict";function n(t){return r(142)("./".concat(t,".vue")).default}function o(t){return r(990)("./".concat(t,".jsx")).default}r.d(e,{Z:()=>i});const i=[{path:"flowDef/assigneesEdit",component:o("flowDef/assigneesEdit")},{path:"flowDef/behaviorEdit",component:o("flowDef/behaviorEdit")},{path:"flowDef/behaviors",component:o("flowDef/behaviors")},{path:"flowDef/contentEdit",component:n("flowDef/contentEdit")},{path:"flowDef/contentProcessView",component:n("flowDef/contentProcessView")},{path:"flowDef/nodes",component:o("flowDef/nodes")},{path:"flowDef/nodeProperties",component:o("flowDef/nodeProperties")},{path:"flowDef/schemaFields",component:n("flowDef/schemaFields")}]},625:(t,e,r)=>{"use strict";function n(t){return{state:{behaviorBases:null,nodeBases:null,edgeBases:null,flowServiceBases:null},getters:{},mutations:{setBehaviorBases:function(t,e){t.behaviorBases=e},setNodeBases:function(t,e){t.nodeBases=e},setEdgeBases:function(t,e){t.edgeBases=e},setFlowServiceBases:function(t,e){t.flowServiceBases=e}},actions:{getBehaviorBases:function(e){var r=e.state,n=e.commit;return new Promise((function(e,o){if(r.behaviorBases)return e(r.behaviorBases);t.prototype.$meta.api.post("/a/flow/flowDef/behaviorBases").then((function(t){n("setBehaviorBases",t=t||{}),e(t)})).catch((function(t){o(t)}))}))},getNodeBases:function(e){var r=e.state,n=e.commit;return new Promise((function(e,o){if(r.nodeBases)return e(r.nodeBases);t.prototype.$meta.api.post("/a/flow/flowDef/nodeBases").then((function(t){n("setNodeBases",t=t||{}),e(t)})).catch((function(t){o(t)}))}))},getEdgeBases:function(e){var r=e.state,n=e.commit;return new Promise((function(e,o){if(r.edgeBases)return e(r.edgeBases);t.prototype.$meta.api.post("/a/flow/flowDef/edgeBases").then((function(t){n("setEdgeBases",t=t||{}),e(t)})).catch((function(t){o(t)}))}))},getFlowServiceBases:function(e){var r=e.state,n=e.commit;return new Promise((function(e,o){if(r.flowServiceBases)return e(r.flowServiceBases);t.prototype.$meta.api.post("/a/flow/flowDef/flowServiceBases").then((function(t){n("setFlowServiceBases",t=t||{}),e(t)})).catch((function(t){o(t)}))}))}}}}r.d(e,{Z:()=>n})},899:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){s=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function v(){}function y(){}var m={};l(m,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,c)&&(m=b);var w=y.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(o,a,c,s){var u=h(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,s)}),(function(t){i("throw",t,c,s)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){c(i,n,o,a,s,"next",t)}function s(t){c(i,n,o,a,s,"throw",t)}a(void 0)}))}}r.d(e,{Z:()=>l});var u="behavior_0";const l={meta:{global:!1},props:{viewOnly:{type:Boolean,default:!1},readOnly:{type:Boolean},contentProcessStr:{type:String},tabActive:{type:Boolean},flowDefId:{type:Number},flowNodeDefIds:{type:Array}},data:function(){return{contentProcess:null,nodeBases:null,edgeBases:null,behaviorBases:null,x6:null,xlayout:null,graph:null,dagreLayout:null,size:{height:0,width:0},dirty:!1}},computed:{ready:function(){return this.x6&&this.xlayout&&this.nodeBases&&this.edgeBases&&this.behaviorBases}},watch:{contentProcessStr:function(){this.contentProcess=window.JSON5.parse(this.contentProcessStr),this.tabActive?this.__updateChart({changeData:!0}):this.dirty=!0},tabActive:function(){this.tabActive&&this.dirty&&(this.dirty=!1,this.__updateChart({changeData:!0}))}},created:function(){},mounted:function(){this.__init()},beforeDestroy:function(){this.graph&&(this.graph.dispose(),this.graph=null),this.dagreLayout&&(this.dagreLayout.destroy(),this.dagreLayout=null),this.$emit("diagram:destroy")},methods:{__init:function(){var t=this;return s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.contentProcess=window.JSON5.parse(t.contentProcessStr),e.next=3,t.__initResources();case 3:return e.next=5,t.__prepareInstances();case 5:return t.__registerNodes(),t.__registerEdges(),e.next=9,t.__updateChart({});case 9:t.$emit("contentEditDiagramInit");case 10:case"end":return e.stop()}}),e)})))()},__initResources:function(){var t=this;return s(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=[]).push(t.$local.dispatch("getNodeBases").then((function(e){return t.nodeBases=e}))),r.push(t.$local.dispatch("getEdgeBases").then((function(e){return t.edgeBases=e}))),r.push(t.$local.dispatch("getBehaviorBases").then((function(e){return t.behaviorBases=e}))),e.next=6,Promise.all(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))()},__prepareInstances:function(){var t=this;return s(a().mark((function e(){var r,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={actionModule:"a-antvx6",actionComponent:"x6",name:"instance"},(r=[]).push(t.__prepareInstance({action:n})),n={actionModule:"a-antvlayout",actionComponent:"layout",name:"instance"},r.push(t.__prepareInstance({action:n})),e.next=7,Promise.all(r);case 7:o=e.sent,t.x6=o[0],t.xlayout=o[1];case 10:case"end":return e.stop()}}),e)})))()},__prepareInstance:function(t){var e=this;return s(a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.action,r.next=3,e.$meta.util.performAction({ctx:e,action:n});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()},__updateChart:function(t){var e=this;return s(a().mark((function r(){var n,o,i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.changeSize,o=t.changeData,e.ready){r.next=3;break}return r.abrupt("return");case 3:if(e.graph){r.next=6;break}return r.next=6,e.__createChart();case 6:if(n&&(e.graph.resize(e.size.width,e.size.height),e.graph.centerContent()),!o){r.next=13;break}return r.next=10,e.__createLayoutModel();case 10:i=r.sent,e.graph.fromJSON(i),e.graph.centerContent();case 13:case"end":return r.stop()}}),r)})))()},__createChart:function(){var t=this;return s(a().mark((function e(){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$refs.container,t.graph=new t.x6.Graph({container:r,grid:{size:10,visible:!0},width:t.size.width,height:t.size.height,background:{color:"#FFFFFF"},selecting:{enabled:!t.readOnly,multiple:!1,rubberband:!1,showNodeSelectionBox:!0,showEdgeSelectionBox:!0},scroller:{enabled:!0,pannable:!0,autoResize:!0},mousewheel:{enabled:!0,modifiers:["ctrl","meta"]},connecting:{snap:!0,allowBlank:!1,allowMulti:function(e){var r=e.sourceCell,n=e.sourcePort,o=e.targetCell;return!t.__checkEdgeExists(r.id,o.id,n)},allowLoop:!1,allowNode:!0,allowEdge:!1,allowPort:!1,highlight:!1,connector:"smooth",router:{name:"normal"},createEdge:function(e){var r=e.sourceCell,n=e.sourceMagnet.getAttribute("data-id"),o=t.__getBehaviorColor(r.id,n);return new t.x6.Shape.Edge({attrs:{line:{stroke:o,opacity:.4}}})}},interacting:function(){return!this.readOnly&&{nodeMovable:!0,magnetConnectable:!0,edgeMovable:!0,edgeLabelMovable:!1,arrowheadMovable:!0,vertexMovable:!1,vertexAddable:!1,vertexDeletable:!1}}}),t.__graphEvents(r),e.next=5,t.__createLayoutModel();case 5:n=e.sent,t.graph.fromJSON(n),t.graph.centerContent();case 8:case"end":return e.stop()}}),e)})))()},__graphEvents:function(){var t=this;this.viewOnly||(this.graph.on("edge:connected",(function(e){var r=e.isNew,n=e.edge;if(r){var o=n.getSourceCell(),i=n.getTargetCell(),a=n.getSource().port;t.addEdge(o.id,i.id,a)}})),this.graph.on("node:click",(function(e){var r=e.node;window.setTimeout((function(){t.showProperties({node:r})}),300)})),this.graph.on("edge:click",(function(e){var r=e.edge;window.setTimeout((function(){t.showProperties({edge:r})}),300)})))},__createLayoutModel:function(){var t=this;return s(a().mark((function e(){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dagreLayout||(r=t.size.width>t.size.height,t.dagreLayout=new t.xlayout.DagreLayout({type:"dagre",rankdir:r?"LR":"TB",align:void 0,nodesep:r?30:50,ranksep:r?70:50,controlPoints:!0})),e.next=3,t._combineContentProcessRender();case 3:return n=e.sent,e.abrupt("return",t.dagreLayout.layout(n));case 5:case"end":return e.stop()}}),e)})))()},_combineContentProcessRender:function(){var t=this;return s(a().mark((function e(){var r,n,i,c,s,u,l,f,h,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.contentProcess){e.next=2;break}return e.abrupt("return");case 2:r=[],n=o(t.contentProcess.nodes),e.prev=4,n.s();case 6:if((i=n.n()).done){e.next=14;break}return c=i.value,e.next=10,t.__createNode(c);case 10:s=e.sent,r.push(s);case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:u=[],l=o(t.contentProcess.edges);try{for(l.s();!(f=l.n()).done;)h=f.value,d=t.__createEdge(h),u.push(d)}catch(t){l.e(t)}finally{l.f()}return e.abrupt("return",{nodes:r,edges:u});case 26:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})))()},__getBehaviorIcon:function(t){var e=this;return s(a().mark((function r(){var n,o,i,c,s,u,l,f;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.behaviorBases[t.type],o=t.color?e.$meta.util.escapeURL(t.color):"",i=n.icon.material,c=n.icon.f7,s=n.icon.url,!i&&!c){r.next=10;break}return r.next=8,e.$meta.util.combineIcon({material:i,f7:c,color:o});case 8:return u=r.sent,r.abrupt("return",'<div class="eb-flowchart-node-icon">'.concat(u,"</div>"));case 10:return l=e.$meta.util.combineFetchStaticPath(s),f=e.$meta.util.escapeURL(l),r.abrupt("return",'<div class="eb-flowchart-node-icon">\n                <img src="'.concat(f,'" style="border: solid 1px ').concat(o,'" />\n              </div>'));case 13:case"end":return r.stop()}}),r)})))()},__createNodePorts:function(t){var e=this;return s(a().mark((function r(){var n,i,c,s,l,f,h,d,p,v,y,m,g,b;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.nodeBases[t.type],i=[],c=n.icon.material,s=n.icon.f7,l=n.icon.url,!c&&!s){r.next=12;break}return r.next=8,e.$meta.util.combineIcon({material:c,f7:s});case 8:h=r.sent,f='<div class="eb-flowchart-node-icon">'.concat(h,"</div>"),r.next=15;break;case 12:d=e.$meta.util.combineFetchStaticPath(l),p=e.$meta.util.escapeURL(d),f='<div class="eb-flowchart-node-icon">\n                      <img src="'.concat(p,'" />\n                    </div>');case 15:if(i.push({id:u,group:"out",attrs:{icon:{html:f}}}),!(v=t.behaviors)){r.next=37;break}y=o(v),r.prev=19,y.s();case 21:if((m=y.n()).done){r.next=29;break}return g=m.value,r.next=25,e.__getBehaviorIcon(g);case 25:b=r.sent,i.push({id:g.id,group:"out",attrs:{icon:{html:b,"data-id":g.id}}});case 27:r.next=21;break;case 29:r.next=34;break;case 31:r.prev=31,r.t0=r.catch(19),y.e(r.t0);case 34:return r.prev=34,y.f(),r.finish(34);case 37:return r.abrupt("return",{groups:{out:{markup:{tagName:"foreignObject",selector:"icon",attrs:{pointerEvents:"visiblePainted",magnet:!e.readOnly}},position:{name:"top",args:{dx:-12,dy:6}}}},items:i});case 38:case"end":return r.stop()}}),r,null,[[19,31,34,37]])})))()},__getBehaviorColor:function(t,e){var r;if(e){var n=this.__findBehavior(t,e);r=n?n.color:""}else r="#000";return r},__createNode:function(t){var e=this;return s(a().mark((function r(){var n,o,i,c;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.$meta.util.escapeHtml(t.nameLocale||t.name),o='<div class="eb-flowchart-node-label">\n                      <span>'.concat(n,"</span>\n                    </div>"),r.next=4,e.__createNodePorts(t);case 4:return i=r.sent,c={id:t.id,shape:"eb-flowchart-node",attrs:{label:{html:o}},ports:i},e.flowNodeDefIds&&e.flowNodeDefIds.indexOf(t.id)>-1&&(c.attrs.body={stroke:"orange",strokeWidth:4}),r.abrupt("return",c);case 8:case"end":return r.stop()}}),r)})))()},__createEdge:function(t){var e={cell:t.source,port:t.behavior},r=this.__getBehaviorColor(t.source,t.behavior);return{id:t.id,shape:"sequence",source:e,target:t.target,label:t.nameLocale||t.name,attrs:{line:{stroke:r,opacity:.6}}}},__registerEdges:function(){for(var t in this.edgeBases){var e=this.edgeBases[t],r=this.__registerEdge(e);this.x6.Graph.registerEdge(t,r,!0)}},__registerNodes:function(){var t=this.__registerNode();this.x6.Graph.registerNode("eb-flowchart-node",t,!0)},__registerEdge:function(){return{inherit:"edge",attrs:{line:{stroke:"#333333"}}}},__registerNode:function(){return{width:120,height:80,markup:[{tagName:"rect",selector:"body"},{tagName:"foreignObject",selector:"label"}],attrs:{body:{fill:"#ffffff",stroke:"#333333",strokeWidth:1,rx:6,ry:6,refWidth:"100%",refHeight:"100%",pointerEvents:"visiblePainted"},label:{y:24,refWidth:"100%"}}}},onSize:function(t){var e=this;return s(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.size.height=t.height,e.size.width=t.width,r.next=4,e.__updateChart({changeSize:!0});case 4:case"end":return r.stop()}}),r)})))()},onPerformAddNode:function(){this.ready&&this.$view.navigate("/a/flowchart/flowDef/nodes?flowDefId=".concat(this.flowDefId),{scene:"sidebar",sceneOptions:{side:"right",name:"flowChart",title:"Flow Chart"},context:{params:{diagram:this}}})},__findBehavior:function(t,e){return this.__findNode(t).behaviors.find((function(t){return t.id===e}))},__findNode:function(t){return this.contentProcess.nodes.find((function(e){return e.id===t}))},__findEdge:function(t){return this.contentProcess.edges.find((function(e){return e.id===t}))},showProperties:function(t){var e=t.node,r=t.edge,n={flowDefId:this.flowDefId,type:e?"node":"edge",id:e?e.id:r.id},o=this.$meta.util.combineQueries("/a/flowchart/flowDef/nodeProperties",n);this.$view.navigate(o,{scene:"sidebar",sceneOptions:{side:"right",name:"properties",title:"Properties"},context:{params:{diagram:this}}})},__checkEdgeExists:function(t,e,r){return r===u&&(r=null),this.contentProcess.edges.some((function(n){return t===n.source&&e===n.target&&(r||"")===(n.behavior||"")}))},addEdge:function(t,e,r){if(!this.__checkEdgeExists(t,e,r)){var n={id:this.__getAvailableId(null),source:t,target:e};r&&r!==u&&(n.behavior=r);var o=this.$meta.util.extend({},this.contentProcess);o.edges.push(n),this.$emit("contentChange",{type:"process",value:o})}},addNode:function(t){var e={id:this.__getAvailableId(t),name:t.titleLocale||t.title,type:t.type},r=this.$meta.util.extend({},this.contentProcess);r.nodes.push(e),this.$emit("contentChange",{type:"process",value:r})},deleteNode:function(t){var e,r=this.$meta.util.extend({},this.contentProcess),n=r.edges.filter((function(e){return e.target===t})),i=r.edges.filter((function(e){return e.source===t})),a=o(n.concat(i));try{var c=function(){var t=e.value,n=r.edges.findIndex((function(e){return e.id===t.id}));n>-1&&r.edges.splice(n,1)};for(a.s();!(e=a.n()).done;)c()}catch(t){a.e(t)}finally{a.f()}var s=r.nodes.findIndex((function(e){return e.id===t}));s>-1&&r.nodes.splice(s,1),this.$emit("contentChange",{type:"process",value:r})},deleteEdges:function(t){var e,r=this.$meta.util.extend({},this.contentProcess),n=o(t);try{var i=function(){var t=e.value,n=r.edges.findIndex((function(e){return e.id===t}));n>-1&&r.edges.splice(n,1)};for(n.s();!(e=n.n()).done;)i()}catch(t){n.e(t)}finally{n.f()}this.$emit("contentChange",{type:"process",value:r})},deleteEdge:function(t){var e=this.$meta.util.extend({},this.contentProcess),r=e.edges.findIndex((function(e){return e.id===t}));r>-1&&e.edges.splice(r,1),this.$emit("contentChange",{type:"process",value:e})},__dataChange:function(t,e,r){var n=this.$meta.util.extend({},this.contentProcess);if("node"===t){var o=n.nodes.findIndex((function(t){return t.id===e}));n.nodes.splice(o,1,r)}else{var i=n.edges.findIndex((function(t){return t.id===e}));n.edges.splice(i,1,r)}this.$emit("contentChange",{type:"process",value:n})},__getAvailableId:function(t){var e,r=0,n=o(t?this.contentProcess.nodes:this.contentProcess.edges);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i.id){var a=parseInt(i.id.split("_")[1]||0);a>r&&(r=a)}}}catch(t){n.e(t)}finally{n.f()}return t?"".concat(t.type,"_").concat(r+1):"edge_".concat(r+1)}},render:function(){var t=arguments[0];return t("div",[t("eb-box",{ref:"box",on:{size:this.onSize},attrs:{header:!0,subnavbar:!this.viewOnly},class:"eb-box-iframe"},[t("div",{ref:"container"})])])}}},281:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),c=new A(n||[]);return i(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function v(){}function y(){}var m={};l(m,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,c)&&(m=b);var w=y.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(i,a,c,s){var u=h(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,s)}),(function(t){o("throw",t,c,s)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function i(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}r.d(e,{Z:()=>a}),r(3);const a={meta:{global:!1},props:{readOnly:{type:Boolean},contentListener:{type:String},onSave:{type:Function}},data:function(){return{ready:!1}},created:function(){var t=this;this.onInputDelay=this.$meta.util.debounce((function(e){t._onInputDelay(e)}),500)},methods:{reload:function(){var t,e=this;return(t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$meta.module.use("a-jsoneditor");case 2:e.ready=!0;case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function c(t){i(a,n,o,c,s,"next",t)}function s(t){i(a,n,o,c,s,"throw",t)}c(void 0)}))})()},onSaveEditor:function(){this.onSave()},onInput:function(t){this.onInputDelay(t)},_onInputDelay:function(t){try{this.$emit("contentChange",{type:"listener",value:t})}catch(t){this.$view.toast.show({text:t.message})}}},render:function(){var t=arguments[0];return this.ready?t("eb-json-editor",{ref:"jsonEditor",attrs:{readOnly:this.readOnly,valueType:"string",valueMode:"js",value:this.contentListener},on:{input:this.onInput,save:this.onSaveEditor}}):t("div")}}},131:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),c=new A(n||[]);return i(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function v(){}function y(){}var m={};l(m,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,c)&&(m=b);var w=y.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(i,a,c,s){var u=h(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,s)}),(function(t){o("throw",t,c,s)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function i(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}r.d(e,{Z:()=>a});const a={meta:{global:!1},props:{readOnly:{type:Boolean},contentProcessStr:{type:String},onSave:{type:Function}},data:function(){return{ready:!1}},created:function(){},methods:{reload:function(){var t,e=this;return(t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$meta.module.use("a-jsoneditor");case 2:e.ready=!0;case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function c(t){i(a,n,o,c,s,"next",t)}function s(t){i(a,n,o,c,s,"throw",t)}c(void 0)}))})()},onSaveEditor:function(){this.onSave()},onInput:function(t){try{var e=window.JSON5.parse(t);this.$emit("contentChange",{type:"process",value:e,valueStr:t})}catch(t){this.$view.toast.show({text:t.message})}}},render:function(){var t=arguments[0];return this.ready?t("eb-json-editor",{ref:"jsonEditor",attrs:{readOnly:this.readOnly,valueType:"string",value:this.contentProcessStr},on:{input:this.onInput,save:this.onSaveEditor}}):t("div")}}},396:(t,e,r)=>{"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}r.d(e,{Z:()=>i}),r(3);const i={meta:{global:!1},props:{context:{type:Object},readOnly:{type:Boolean},mode:{type:String},valueSchema:{type:Object},schemaReference:{type:Object}},data:function(){return{valueMode:0,valueModes:[{title:"Allow All Fields",value:1},{title:"Disable All Fields",value:2},{title:"Allow Specific Fields",value:3},{title:"Custom",value:4}],valueMode4:null}},computed:{mode3SelectValue:function(){return 3!==this.valueMode?null:this.valueSchema[this.mode].map((function(t){return t&&"object"===o(t)?t.name:t}))},mode3Items:function(){var t=this;if(3!==this.valueMode)return null;var e=this.valueSchema[this.mode],r=this.schemaReference.schema.properties;return e.map((function(e){var n=e&&"object"===o(e),i=n?e.name:e,a=r[i];return{key:i,title:n&&e.property.ebTitle?t.__getPropertyTitle({key:i,property:e.property}):a?t.__getPropertyTitle({key:i,property:a}):i,icon:{f7:n&&e.property.ebType?"group-flatten"===e.property.ebType||"group"===e.property.ebType?"::menu":"::radio-button-unchecked":!a||"group-flatten"!==a.ebType&&"group"!==a.ebType?"::radio-button-unchecked":"::menu"}}}))},mode3SelectOptions:function(){var t=[],e=this.schemaReference.schema.properties;for(var r in e){var n=e[r],o=this.__getPropertyTitle({key:r,property:n});t.push({title:o,value:r})}return t}},created:function(){var t=this;this._onInputValueMode4Delay=this.$meta.util.debounce((function(e){t.__onInputValueMode4Delay(e)}),1e3),this.__init()},methods:{__init:function(){this.__init_valueMode()},__init_valueMode:function(){var t=this.valueSchema[this.mode];t?!0===t?this.valueMode=1:Array.isArray(t)?this.valueMode=3:(this.valueMode=4,this.valueMode4=window.JSON5.stringify(t,null,2)):this.valueMode=2},onInputMode:function(t){t=parseInt(t),this.valueMode=t;var e,r=this.valueSchema[this.mode];1===t?e=!0:2===t?e=!1:3===t?Array.isArray(r)||(e=[]):4===t&&(this.valueMode4=window.JSON5.stringify(r,null,2)),void 0!==e&&(this.valueSchema[this.mode]=e)},__getPropertyTitle:function(t){var e=t.key,r=t.property,n=r.ebTitle?this.$text(r.ebTitle):e;return"group-flatten"===r.ebType||"group"===r.ebType?"-- ".concat(n," --"):n},__findProperty:function(t){var e=t.key,r=this.valueSchema[this.mode],n=r.findIndex((function(t){return t===e||t&&t.name===e}));return[n,-1===n?null:r[n]]},onInputMode3:function(t){var e,r,o=this.valueSchema[this.mode],i=this.schemaReference.schema.properties;for(var a in i){var c=t.indexOf(a),s=(e=this.__findProperty({key:a}),r=1,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,r)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];c>-1&&-1===s?o.push(a):-1===c&&s>-1&&o.splice(s,1)}},onPerformRemoveMode3:function(t,e,r){this.valueSchema[this.mode].splice(r,1),this.$meta.util.swipeoutClose(t.currentTarget)},onPerformMoveUpMode3:function(t,e,r){var n=this.valueSchema[this.mode];if(r>0){var o=n.splice(r,1);n.splice(r-1,0,o[0])}this.$meta.util.swipeoutClose(t.currentTarget)},onPerformMoveDownMode3:function(t,e,r){var n=this.valueSchema[this.mode];if(r<n.length-1){var o=n.splice(r+1,1);n.splice(r,0,o[0])}this.$meta.util.swipeoutClose(t.currentTarget)},onInputValueMode4:function(t){this.valueMode4=t,this._onInputValueMode4Delay(t)},__onInputValueMode4Delay:function(t){try{this.valueSchema[this.mode]=window.JSON5.parse(t)}catch(t){this.$view.toast.show({text:t.message})}},renderMode_3_item:function(t,e){var r=this.$createElement,n=r("f7-icon",{attrs:{material:t.icon&&t.icon.material,f7:t.icon&&t.icon.f7},slot:"media"}),o=r("div",{slot:"title",class:"title"},[r("div",[t.title])]);return r("eb-list-item",{class:"item",key:e,attrs:{swipeout:!this.readOnly}},[n,o,this.renderMode_3_itemContextMenu(t,e)])},renderMode_3_itemContextMenu_left:function(t,e){var r=this,n=this.$createElement,o=[];return o.push(n("div",{key:"moveUp",attrs:{color:"teal"},props:{onPerform:function(n){return r.onPerformMoveUpMode3(n,t,e)}}},[n("f7-icon",{slot:"media",attrs:{f7:"::arrow-up"}}),this.$device.desktop&&n("div",{slot:"title"},[this.$text("Move Up")])])),o.push(n("div",{key:"moveDown",attrs:{color:"blue"},props:{onPerform:function(n){return r.onPerformMoveDownMode3(n,t,e)}}},[n("f7-icon",{slot:"media",attrs:{f7:"::arrow-down"}}),this.$device.desktop&&n("div",{slot:"title"},[this.$text("Move Down")])])),n("div",{slot:"left"},[o])},renderMode_3_itemContextMenu_right:function(t,e){var r=this,n=this.$createElement,o=[];return o.push(n("div",{key:"remove",attrs:{color:"red"},props:{onPerform:function(n){return r.onPerformRemoveMode3(n,t,e)}}},[n("f7-icon",{slot:"media",attrs:{f7:"::delete"}}),this.$device.desktop&&n("div",{slot:"title"},[this.$text("Remove")])])),n("div",{slot:"right"},[o])},renderMode_3_itemContextMenu:function(t,e){var r=this.$createElement;return this.readOnly?null:r("eb-context-menu",[this.renderMode_3_itemContextMenu_left(t,e),this.renderMode_3_itemContextMenu_right(t,e)])},renderMode_3:function(){var t,e=this.$createElement;if(3!==this.valueMode)return null;this.readOnly||(t=e("f7-list-item",{attrs:{"group-title":!0}},[e("f7-list-item",{attrs:{smartSelect:!0,title:this.$text("Select Fields"),smartSelectParams:{openIn:"page",closeOnSelect:!1,formatValueText:function(){return null}}}},[e("eb-select",{attrs:{name:"mode3Select",value:this.mode3SelectValue,multiple:!0,options:this.mode3SelectOptions},on:{input:this.onInputMode3},props:{onGetDisplays:function(){return null}}})])]));for(var r=[],n=0;n<this.mode3Items.length;n++)r.push(this.renderMode_3_item(this.mode3Items[n],n));return e("f7-list-group",[t,r])},renderMode_4:function(){var t=this.$createElement;return 4!==this.valueMode?null:t("f7-list-group",[t("f7-list-item",[t("eb-input",{slot:"inner",attrs:{type:"textarea",readonly:this.readOnly,resizable:!0,value:this.valueMode4},style:{width:"100%"},class:"json-textarea",on:{input:this.onInputValueMode4}})])])}},render:function(){var t=arguments[0];return t("eb-list",{attrs:{form:!0,"inline-labels":!0,"no-hairlines-md":!0}},[t("f7-list-group",[t("f7-list-item",{attrs:{smartSelect:!this.readOnly,title:this.$text("Mode"),smartSelectParams:{openIn:"sheet",closeOnSelect:!0}}},[t("eb-select",{attrs:{readOnly:this.readOnly,name:"mode",value:this.valueMode,multiple:!1,options:this.valueModes},on:{input:this.onInputMode}})])]),this.renderMode_3(),this.renderMode_4()])}}},216:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>m});var n=r(3),o=r.n(n);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function v(){}function y(){}var m={};l(m,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,c)&&(m=b);var w=y.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,a,c,s){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,s)}),(function(t){o("throw",t,c,s)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,s)}))}s(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}var s={flowUser:"FlowInitiator",auto:"FlowVarAutoPick"};const u={props:{readOnly:{type:Boolean},assignees:{type:Object}},data:function(){return{}},methods:{onPerformAdd:function(t){var e,r=this;return(e=a().mark((function e(){var n,o,i,c,u,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,r.$meta.util.combineIcon({f7:":login:person-outline"});case 3:for(i in o=e.sent,s)c=s[i],n.push({icon:o,text:r.$text(c),data:{name:i,title:c,titleLocale:r.$text(c)}});return u={forceToPopover:!0,targetEl:t.currentTarget,buttons:n},e.next=8,r.$view.actions.choose(u);case 8:l=e.sent,f=l.data,r.assignees.vars.find((function(t){return t.name===f.name}))||r.assignees.vars.push(f);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(t){c(i,n,o,a,s,"next",t)}function s(t){c(i,n,o,a,s,"throw",t)}a(void 0)}))})()},onPerformRemove:function(t,e,r){this.assignees.vars.splice(r,1),this.$meta.util.swipeoutClose(t.currentTarget)},_renderAssignee:function(t,e){var r=this.$createElement,n=r("div",{slot:"title",class:"title"},[r("div",[t.titleLocale])]);return r("eb-list-item",{class:"item",key:e,attrs:{swipeout:!this.readOnly}},[n,this._renderAssigneeContextMenu(t,e)])},_renderAssigneeContextMenu:function(t,e){var r=this,n=this.$createElement;if(this.readOnly)return null;var o=[];o.push(n("div",{key:"remove",attrs:{color:"red"},props:{onPerform:function(n){return r.onPerformRemove(n,t,e)}}},[n("f7-icon",{slot:"media",attrs:{f7:"::delete"}}),this.$device.desktop&&n("div",{slot:"title"},[this.$text("Remove")])]));var i=n("div",{slot:"right"},[o]);return n("eb-context-menu",[i])},renderAssignees:function(){for(var t=[],e=this.assignees.vars,r=0;r<e.length;r++)t.push(this._renderAssignee(e[r],r));return t}},render:function(){var t,e=this,r=arguments[0];return this.readOnly||(t=r("eb-link",{attrs:{iconF7:"::add"},props:{onPerform:function(t){return e.onPerformAdd(t)}}})),r("f7-list-group",[r("f7-list-item",{attrs:{"group-title":!0}},[r("div",{class:"display-flex justify-content-space-between"},[r("div",[this.$text("Variables")]),t])]),this.renderAssignees()])}};function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const f={props:{readOnly:{type:Boolean},assignees:{type:Object},host:{type:Object}},data:function(){return{}},methods:{onPerformAdd:function(){var t=this;this.$view.navigate("/a/baseadmin/role/select",{target:"_self",context:{params:{roleIdStart:null,multiple:!0,roleTypes:[0,1,2,3,4]},callback:function(e,r){if(200===e&&r){var n,o=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(r);try{var i=function(){var e=n.value;t.assignees.roles.find((function(t){return t.id===e.itemId}))||t.assignees.roles.push(e)};for(o.s();!(n=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}}}}})},onPerformRemove:function(t,e,r){this.assignees.roles.splice(r,1),this.$meta.util.swipeoutClose(t.currentTarget)},_renderAssignee:function(t,e){var r=this.$createElement,n=r("div",{slot:"title",class:"title"},[r("div",[t.roleName])]);return r("eb-list-item",{class:"item",key:e,attrs:{swipeout:!this.readOnly}},[n,this._renderAssigneeContextMenu(t,e)])},_renderAssigneeContextMenu:function(t,e){var r=this,n=this.$createElement;if(this.readOnly)return null;var o=[];o.push(n("div",{key:"remove",attrs:{color:"red"},props:{onPerform:function(n){return r.onPerformRemove(n,t,e)}}},[n("f7-icon",{slot:"media",attrs:{f7:"::delete"}}),this.$device.desktop&&n("div",{slot:"title"},[this.$text("Remove")])]));var i=n("div",{slot:"right"},[o]);return n("eb-context-menu",[i])},renderAssignees:function(){for(var t=[],e=this.assignees.roles,r=0;r<e.length;r++)t.push(this._renderAssignee(e[r],r));return t}},render:function(){var t,e=arguments[0];return this.readOnly||(t=e("eb-link",{attrs:{iconF7:"::add"},props:{onPerform:this.onPerformAdd}})),e("f7-list-group",[e("f7-list-item",{attrs:{"group-title":!0}},[e("div",{class:"display-flex justify-content-space-between"},[e("div",[this.$text("Roles")]),t])]),this.renderAssignees()])}},h={props:{readOnly:{type:Boolean},assignees:{type:Object},host:{type:Object}},data:function(){return{}},methods:{onPerformAdd:function(){var t=this;this.$view.navigate("/a/baseadmin/user/select",{target:"_self",context:{params:{onFetchUsers:function(e){var r=e.query,n=e.page;return t.$api.post("/a/flowchart/flowDef/userSelect",{host:t.host,params:{query:r,page:n}})}},callback:function(e,r){200===e&&(t.assignees.users.find((function(t){return t.id===r.id}))||t.assignees.users.push(r))}}})},onPerformRemove:function(t,e,r){this.assignees.users.splice(r,1),this.$meta.util.swipeoutClose(t.currentTarget)},getItemMedia:function(t){return this.$meta.util.combineAvatarUrl(t.avatar,32)},_renderAssignee:function(t,e){var r,n,o=this.$createElement,i=o("div",{slot:"media"},[o("img",{class:"avatar avatar32",attrs:{src:this.getItemMedia(t)}})]),a=o("div",{slot:"title",class:"title"},[o("div",[t.userName])]);t.realName&&t.realName!==t.userName&&(r=o("f7-badge",[t.realName])),t.mobile&&(n=o("f7-badge",[t.mobile]));var c=o("div",{slot:"after"},[r,n]);return o("eb-list-item",{class:"item",key:e,attrs:{swipeout:!this.readOnly}},[i,a,c,this._renderAssigneeContextMenu(t,e)])},_renderAssigneeContextMenu:function(t,e){var r=this,n=this.$createElement;if(this.readOnly)return null;var o=[];o.push(n("div",{key:"remove",attrs:{color:"red"},props:{onPerform:function(n){return r.onPerformRemove(n,t,e)}}},[n("f7-icon",{slot:"media",attrs:{f7:"::delete"}}),this.$device.desktop&&n("div",{slot:"title"},[this.$text("Remove")])]));var i=n("div",{slot:"right"},[o]);return n("eb-context-menu",[i])},renderAssignees:function(){for(var t=[],e=this.assignees.users,r=0;r<e.length;r++)t.push(this._renderAssignee(e[r],r));return t}},render:function(){var t,e=arguments[0];return this.readOnly||(t=e("eb-link",{attrs:{iconF7:"::add"},props:{onPerform:this.onPerformAdd}})),e("f7-list-group",[e("f7-list-item",{attrs:{"group-title":!0}},[e("div",{class:"display-flex justify-content-space-between"},[e("div",[this.$text("Users")]),t])]),this.renderAssignees()])}};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function p(){p=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function v(){}function y(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,i)&&(m=b);var w=y.prototype=h.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==d(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),s(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),s(w,c,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function v(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function y(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){v(i,n,o,a,c,"next",t)}function c(t){v(i,n,o,a,c,"throw",t)}a(void 0)}))}}const m={mixins:[o().prototype.$meta.module.get("a-components").options.mixins.ebPageContext,o().prototype.$meta.module.get("a-components").options.mixins.ebPageDirty],components:{assigneesVars:u,assigneesRoles:f,assigneesUsers:h},data:function(){return{flowDefId:parseInt(this.$f7route.query.flowDefId),nodeId:this.$f7route.query.nodeId,assignees:null,ready:!1}},computed:{context:function(){return this.contextParams.context},readOnly:function(){return this.contextParams.readOnly},value:function(){return this.contextParams.value},host:function(){return{flowDefId:this.flowDefId,nodeDefId:this.nodeId}},page_title:function(){return this.page_getDirtyTitle(this.$text("Assignees"))}},watch:{assignees:{handler:function(){this.ready&&this.page_setDirty(!0)},deep:!0}},created:function(){this.__load()},methods:{__load:function(){var t=this;return y(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.__normalizeAssignees();case 2:t.ready=!0;case 3:case"end":return e.stop()}}),e)})))()},__normalizeAssignees:function(){var t=this;return y(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.post("/a/flowchart/flowDef/normalizeAssignees",{host:t.host,assignees:t.value});case 2:t.assignees=e.sent;case 3:case"end":return e.stop()}}),e)})))()},onPerformDone:function(){var t={};this.assignees.users.length>0&&(t.users=this.assignees.users.map((function(t){return{id:t.id,userName:t.userName}}))),this.assignees.roles.length>0&&(t.roles=this.assignees.roles.map((function(t){return{id:t.id,roleName:t.roleName}}))),this.assignees.vars.length>0&&(t.vars=this.assignees.vars.map((function(t){return t.name}))),this.contextCallback(200,t),this.page_setDirty(!1),this.$f7router.back()},renderAssignees:function(){var t=this.$createElement;if(this.ready)return t("eb-list",{attrs:{form:!0,"inline-labels":!0,"no-hairlines-md":!0}},[t("assignees-vars",{attrs:{readOnly:this.readOnly,assignees:this.assignees}}),t("assignees-roles",{attrs:{readOnly:this.readOnly,assignees:this.assignees,host:this.host}}),t("assignees-users",{attrs:{readOnly:this.readOnly,assignees:this.assignees,host:this.host}})])}},render:function(){var t,e=arguments[0];return this.readOnly||(t=e("eb-link",{attrs:{iconF7:"::done"},props:{onPerform:this.onPerformDone}})),e("eb-page",[e("eb-navbar",{attrs:{title:this.page_title,"eb-back-link":"Back"}},[e("f7-nav-right",[t])]),this.renderAssignees()])}}},880:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>h});var n=r(3),o=r.n(n);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function v(){}function y(){}var m={};l(m,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,c)&&(m=b);var w=y.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,a,c,s){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,s)}),(function(t){o("throw",t,c,s)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,s)}))}s(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){c(i,n,o,a,s,"next",t)}function s(t){c(i,n,o,a,s,"throw",t)}a(void 0)}))}}var u=o().prototype.$meta.module.get("a-components").options.mixins.ebPageContext,l=o().prototype.$meta.module.get("a-components").options.mixins.ebPageDirty,f={type:"object",properties:{__groupBasic:{ebType:"group-flatten",ebTitle:"Basic"},id:{type:"string",ebType:"text",ebTitle:"ID",ebReadOnly:!0},name:{type:"string",ebType:"text",ebTitle:"Name",notEmpty:!0},type:{type:"string",ebType:"text",ebTitle:"Type",ebReadOnly:!0},color:{type:"string",ebType:"colorPicker",ebTitle:"Color",notEmpty:!0}}};const h={mixins:[u,l],data:function(){return{flowDefId:parseInt(this.$f7route.query.flowDefId),nodeId:this.$f7route.query.nodeId,behaviorId:this.$f7route.query.behaviorId,data:null,ready:!1}},computed:{context:function(){return this.contextParams.context},readOnly:function(){return this.contextParams.readOnly},value:function(){return this.contextParams.value},diagram:function(){return this.context.validate.host.container.diagram},page_title:function(){var t=this.$text("Behavior");return this.page_getDirtyTitle(t)}},created:function(){this.__load()},beforeDestroy:function(){this._unwatch&&(this._unwatch(),this._unwatch=null)},methods:{__load:function(){var t=this;return s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.__initData(),e.next=3,t.__initSchema();case 3:t.ready=!0;case 4:case"end":return e.stop()}}),e)})))()},__initData:function(){var t=this,e=this.value.type,r=this.$meta.util.extend({},this.$config.schema.default.base.behavior),n=this.diagram.behaviorBases[e].options.default;n&&(r.options=n),this.data=this.$meta.util.extend({},r,this.value),this._unwatch=this.$watch("data",(function(){t.page_setDirty(!0)}),{deep:!0})},__initSchema:function(){var t=this;return s(a().mark((function e(){var r,n,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.diagram.behaviorBases[t.data.type],n=f,!r.validator){e.next=6;break}return e.next=5,t.$api.post("/a/validation/validation/schema",{module:r.validator.module,validator:r.validator.validator,schema:null});case 5:o=e.sent;case 6:o&&(i={type:"object",properties:{options:{type:"object",ebType:"group",ebTitle:"Options",properties:o.schema.properties}}},n=t.$meta.util.extend({},n,i)),t.schema={module:r.validator?r.validator.module:"a-flowchart",validator:r.validator?r.validator.validator:null,schema:n};case 8:case"end":return e.stop()}}),e)})))()},onPerformDone:function(){this.contextCallback(200,this.data),this.page_setDirty(!1),this.$f7router.back()},_renderProperties:function(){var t=this,e=this.$createElement;if(this.ready){var r={container:this},n={schema:this.schema,properties:{type:{ebPatch:{getValue:function(e){return t.diagram.behaviorBases[e].titleLocale}}}}};return e("eb-validate",{ref:"validate",attrs:{readOnly:this.readOnly,auto:!0,data:this.data,meta:n,host:r}})}}},render:function(){var t,e=arguments[0];return this.readOnly||(t=e("eb-link",{attrs:{iconF7:"::done"},props:{onPerform:this.onPerformDone}})),e("eb-page",[e("eb-navbar",{attrs:{title:this.page_title,"eb-back-link":"Back"}},[e("f7-nav-right",[t])]),this._renderProperties()])}}},372:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>u});var n=r(3);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const u={mixins:[r.n(n)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],data:function(){return{}},computed:{ready:function(){return this.nodeBases},diagram:function(){return this.contextParams.diagram},behaviorBases:function(){var t=[];for(var e in this.diagram.behaviorBases)if(-1!==e.indexOf(":")&&"a-flow:base"!==e){var r=this.diagram.behaviorBases[e];t.push(c({type:e},r))}return t}},created:function(){},methods:{getNodeMedia:function(t){return this.$meta.util.combineFetchStaticPath(t.icon)},onItemClick:function(t,e){this.contextCallback(200,e),this.$f7router.back()},_renderBehaviorMedia:function(t){var e=this.$createElement,r=t.icon.material,n=t.icon.f7,o=t.icon.url;return r||n?e("f7-icon",{attrs:{color:t.color,material:r,f7:n}}):e("img",{style:{color:t.color},class:"media-node-base-icon",attrs:{src:this.$meta.util.combineFetchStaticPath(o)}})},_renderItem:function(t){var e=this,r=this.$createElement,n=r("div",{slot:"media"},[this._renderBehaviorMedia(t)]),o=r("div",{slot:"title",class:"title"},[r("div",[t.titleLocale])]);return r("eb-list-item",{class:"item",key:t.type,attrs:{link:"#"},props:{onPerform:function(r){return e.onItemClick(r,t)}}},[n,o])},_renderItems:function(){var t,e=[],r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){s=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}(this.behaviorBases);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(this._renderItem(n))}}catch(t){r.e(t)}finally{r.f()}return e}},render:function(){var t=arguments[0];return t("eb-page",[t("eb-navbar",{attrs:{title:this.$text("Add Behavior"),"eb-back-link":"Back"}}),t("f7-list",[this._renderItems()])])}}},999:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>f});var n=r(3);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function v(){}function y(){}var m={};l(m,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,c)&&(m=b);var w=y.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,s){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,s)}),(function(t){i("throw",t,c,s)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,s)}))}s(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function a(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){a(i,n,o,c,s,"next",t)}function s(t){a(i,n,o,c,s,"throw",t)}c(void 0)}))}}var s=r.n(n)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext,u={type:"object",properties:{__groupBasic:{ebType:"group-flatten",ebTitle:"Basic"},id:{type:"string",ebType:"text",ebTitle:"ID",ebReadOnly:!0},name:{type:"string",ebType:"text",ebTitle:"Name",notEmpty:!0},type:{type:"string",ebType:"text",ebTitle:"Type",ebReadOnly:!0},__groupBehaviors:{ebType:"group-flatten",ebTitle:"Behaviors",ebParams:{titleHidden:!0}},behaviors:{type:"array",ebType:"component",ebTitle:"Behaviors",ebRender:{module:"a-flowchart",name:"renderBehaviors"}}}},l={type:"object",properties:{__groupBasic:{ebType:"group-flatten",ebTitle:"Basic"},id:{type:"string",ebType:"text",ebTitle:"ID",ebReadOnly:!0},name:{type:"string",ebType:"text",ebTitle:"Name",notEmpty:!0},source:{type:"string",ebType:"text",ebTitle:"Source",ebReadOnly:!0,notEmpty:!0},target:{type:"string",ebType:"text",ebTitle:"Target",ebReadOnly:!0,notEmpty:!0},behavior:{type:"string",ebType:"text",ebTitle:"Behavior",ebReadOnly:!0,notEmpty:!0,ebDisplay:{expression:'typeof behavior!=="undefined"'}}}};const f={mixins:[s],data:function(){return{flowDefId:parseInt(this.$f7route.query.flowDefId),type:this.$f7route.query.type,id:this.$f7route.query.id,nodeBases:null,edgeBases:null,data:null,schema:null}},computed:{ready:function(){return this.nodeBases&&this.edgeBases&&this.data&&this.schema},diagram:function(){return this.contextParams.diagram},readOnly:function(){return this.diagram.readOnly}},created:function(){this.__load()},mounted:function(){this.diagram.$on("diagram:destroy",this.onDiagramDestroy)},beforeDestroy:function(){this.diagram.$off("diagram:destroy",this.onDiagramDestroy),this._unwatch&&(this._unwatch(),this._unwatch=null)},methods:{__load:function(){var t=this;return c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$local.dispatch("getNodeBases");case 2:return t.nodeBases=e.sent,e.next=5,t.$local.dispatch("getEdgeBases");case 5:return t.edgeBases=e.sent,t.__initData(),e.next=9,t.__initSchema();case 9:case"end":return e.stop()}}),e)})))()},__initData:function(){var t=this,e="node"===this.type?this.diagram.__findNode(this.id):this.diagram.__findEdge(this.id),r=this.$meta.util.extend({},"node"===this.type?this.$config.schema.default.base.node:this.$config.schema.default.base.edge),n=("node"===this.type?this.nodeBases[e.type]:this.edgeBases.sequence).options.default;n&&(r.options=n),this.data=this.$meta.util.extend({},r,e),this._unwatch=this.$watch("data",(function(){t.__dataChange()}),{deep:!0})},__initSchema:function(){var t=this;return c(i().mark((function e(){var r,n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="node"===t.type?t.nodeBases[t.data.type]:t.edgeBases.sequence,n="node"===t.type?u:l,!r.validator){e.next=6;break}return e.next=5,t.$api.post("/a/validation/validation/schema",{module:r.validator.module,validator:r.validator.validator,schema:null});case 5:o=e.sent;case 6:o&&(a={type:"object",properties:{options:{type:"object",ebType:"group",ebTitle:"Options",properties:o.schema.properties}}},n=t.$meta.util.extend({},n,a)),t.schema={module:r.validator?r.validator.module:"a-flowchart",validator:r.validator?r.validator.validator:null,schema:n};case 8:case"end":return e.stop()}}),e)})))()},onDiagramDestroy:function(){this.$view.close()},onPerformDelete:function(){var t=this;return c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$view.dialog.confirm();case 2:"node"===t.type?t.diagram.deleteNode(t.id):t.diagram.deleteEdge(t.id),t.$view.close();case 4:case"end":return e.stop()}}),e)})))()},__getPageTitle:function(){return this.data?"".concat(this.$text("Properties"),": ").concat(this.data.nameLocale||this.data.name||this.data.id):this.$text("Properties")},__dataChange:function(){this.diagram.__dataChange(this.type,this.id,this.data)},__getHost:function(){return{flowDefId:this.flowDefId,diagram:this.diagram}},renderList:function(){var t=this,e=this.$createElement;if(this.ready){var r={container:this},n={schema:this.schema,properties:{type:{ebPatch:{getValue:function(e){return("node"===t.type?t.nodeBases[e]:t.edgeBases.sequence).titleLocale}}}}};return"edge"===this.type&&(n.properties.source=n.properties.target={ebPatch:{getValue:function(e){var r=t.diagram.__findNode(e);return r.nameLocale||r.name}}},n.properties.behavior={ebPatch:{getValue:function(e){var r=t.diagram.__findBehavior(t.data.source,e);return r?r.nameLocale||r.name:null}}}),e("eb-validate",{ref:"validate",attrs:{readOnly:this.readOnly,auto:!0,data:this.data,meta:n,host:r}})}}},render:function(){var t,e=arguments[0];return this.readOnly||(t=e("eb-link",{attrs:{iconF7:"::delete"},props:{onPerform:this.onPerformDelete}})),e("eb-page",[e("eb-navbar",{attrs:{title:this.__getPageTitle(),"eb-back-link":"Back"}},[e("f7-nav-right",[t])]),this.renderList()])}}},902:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>h});var n=r(3);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function v(){}function y(){}var m={};l(m,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,c)&&(m=b);var w=y.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(n,a,c,s){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,s)}),(function(t){i("throw",t,c,s)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,s)}))}s(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function a(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const h={mixins:[r.n(n)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],data:function(){return{nodeBases:null}},computed:{ready:function(){return this.nodeBases},diagram:function(){return this.contextParams.diagram},nodeBasesGroups:function(){var t,e=this.$config.flowDef.groups,r=this.$meta.util.extend([],e),n=l(r);try{for(n.s();!(t=n.n()).done;){var o=t.value;for(var i in o.titleLocale=this.$text(o.title),o.items=[],this.nodeBases)if(-1!==i.indexOf(":")){var a=this.nodeBases[i];a.group===o.name&&o.items.push(s({type:i},a))}}}catch(t){n.e(t)}finally{n.f()}return r}},created:function(){this.__load()},mounted:function(){this.diagram.$on("diagram:destroy",this.onDiagramDestroy)},beforeDestroy:function(){this.diagram.$off("diagram:destroy",this.onDiagramDestroy)},methods:{__load:function(){var t,e=this;return(t=i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$local.dispatch("getNodeBases");case 2:e.nodeBases=t.sent;case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){a(i,n,o,c,s,"next",t)}function s(t){a(i,n,o,c,s,"throw",t)}c(void 0)}))})()},onDiagramDestroy:function(){this.$view.close()},onPerformNode:function(t,e){this.diagram.addNode(e),this.$view.inPanel()||this.$f7router.back()},_renderNodeMedia:function(t){var e=t.item,r=this.$createElement,n=e.icon.material,o=e.icon.f7,i=e.icon.url;return n||o?r("f7-icon",{attrs:{material:n,f7:o}}):r("img",{class:"media-node-base-icon",attrs:{src:this.$meta.util.combineFetchStaticPath(i)}})},_renderGroupItems:function(t){var e,r=this,n=t.group,o=this.$createElement,i=[],a=l(n.items);try{var c=function(){var t=e.value,n=o("div",{slot:"media"},[r._renderNodeMedia({item:t})]);i.push(o("eb-list-item",{key:t.type,attrs:{title:t.titleLocale,link:"#"},props:{onPerform:function(e){r.onPerformNode(e,t)}}},[n]))};for(a.s();!(e=a.n()).done;)c()}catch(t){a.e(t)}finally{a.f()}return i},_renderGroups:function(){var t,e=this.$createElement,r=[],n=l(this.nodeBasesGroups);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=this._renderGroupItems({group:o});r.push(e("f7-list-group",{key:o.name},[e("f7-list-item",{attrs:{"group-title":!0,title:o.titleLocale}}),i]))}}catch(t){n.e(t)}finally{n.f()}return r},_renderList:function(){var t=this.$createElement;if(this.ready)return t("f7-list",[this._renderGroups()])}},render:function(){var t=arguments[0];return t("eb-page",[t("eb-navbar",{attrs:{title:this.$text("Add Node"),"eb-back-link":"Back"}}),this._renderList()])}}},100:(t,e,r)=>{var n=r(233),o=r(361)(n);o.push([t.id,".diagram-actions {\n  position: fixed;\n  bottom: 6px;\n  right: 6px;\n  z-index: 200;\n}\n.diagram-actions .link {\n  color: var(--f7-grid-resize-handler-bg-color);\n  margin-left: 4px;\n}\n.x6-graph {\n  color: #333;\n}\n.media-node-base-icon {\n  height: 24px;\n  width: 24px;\n}\n.eb-flowchart-node-icon {\n  position: fixed;\n  height: 24px;\n  width: 24px;\n}\n.eb-flowchart-node-icon img {\n  height: 24px;\n  width: 24px;\n  border-radius: 6px;\n  border: 1px solid transparent;\n}\n.eb-flowchart-node-icon .icon {\n  position: static;\n  height: 24px;\n  width: 24px;\n}\n.eb-flowchart-node-label {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  word-break: break-word;\n  padding: 6px;\n}\n.eb-flowchart-node-label span {\n  text-align: center;\n}\n","",{version:3,sources:["webpack://./front/src/assets/css/module.less"],names:[],mappings:"AAAA;EACE,eAAA;EACA,WAAA;EACA,UAAA;EACA,YAAA;AACF;AALA;EAOI,6CAAA;EACA,gBAAA;AACJ;AAGA;EACE,WAAA;AADF;AAIA;EACE,YAAA;EACA,WAAA;AAFF;AAKA;EACE,eAAA;EACA,YAAA;EACA,WAAA;AAHF;AAAA;EAKI,YAAA;EACA,WAAA;EACA,kBAAA;EACA,6BAAA;AAFJ;AANA;EAWI,gBAAA;EACA,YAAA;EACA,WAAA;AAFJ;AAMA;EACE,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,sBAAA;EACA,YAAA;AAJF;AADA;EAQI,kBAAA;AAJJ",sourcesContent:[".diagram-actions {\n  position: fixed;\n  bottom: 6px;\n  right: 6px;\n  z-index: 200;\n\n  .link {\n    color: var(--f7-grid-resize-handler-bg-color);\n    margin-left: 4px;\n  }\n}\n\n.x6-graph {\n  color: #333;\n}\n\n.media-node-base-icon {\n  height: 24px;\n  width: 24px;\n}\n\n.eb-flowchart-node-icon {\n  position: fixed;\n  height: 24px;\n  width: 24px;\n  img {\n    height: 24px;\n    width: 24px;\n    border-radius: 6px;\n    border: 1px solid transparent;\n  }\n  .icon {\n    position: static;\n    height: 24px;\n    width: 24px;\n  }\n}\n\n.eb-flowchart-node-label {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  word-break: break-word;\n  padding: 6px;\n\n  span {\n    text-align: center;\n  }\n}\n"],sourceRoot:""}]),t.exports=o},361:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=t(e);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<t.length;c++){var s=[].concat(t[c]);n&&o[s[0]]||(r&&(s[2]?s[2]="".concat(r," and ").concat(s[2]):s[2]=r),e.push(s))}},e}},233:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}t.exports=function(t){var r,n,o=(n=4,function(t){if(Array.isArray(t))return t}(r=t)||function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(r,n)||function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],a=o[3];if(!a)return i;if("function"==typeof btoa){var c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),u="/*# ".concat(s," */"),l=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[i].concat(l).concat([u]).join("\n")}return[i].join("\n")}},501:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>h});var n=r(3),o=r.n(n),i=r(899),a=r(131),c=r(281);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){u=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function v(){}function y(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==e&&r.call(b,i)&&(m=b);var w=y.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,a,c){var u=h(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function l(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}const f={meta:{size:"large"},mixins:[o().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{contentEditDiagram:i.Z,contentEditSource:a.Z,contentEditListener:c.Z},data:function(){return{dirty:!1,contentProcess:null,contentProcessStr:null,contentListener:null,tabId:{diagram:o().prototype.$meta.util.nextId("tab"),source:o().prototype.$meta.util.nextId("tab"),listener:o().prototype.$meta.util.nextId("tab")},tabName:"diagram",contentEditDiagramInit:!1}},computed:{title:function(){return"".concat(this.dirty?"* ":"").concat(this.flowDef.atomName)},readOnly:function(){return this.contextParams.readOnly},flowDef:function(){return this.contextParams.item},flowDefId:function(){return this.flowDef.atomId},contentObj:function(){return this.flowDef.content?JSON.parse(this.flowDef.content):{}}},created:function(){var t=this.contentObj;this.contentProcess=t.process||this.$config.flowDef.default.process,this.contentProcessStr=window.JSON5.stringify(this.contentProcess,null,2),this.contentListener=t.listener||this.$config.flowDef.default.listener},methods:{onContentEditDiagramInit:function(){this.contentEditDiagramInit=!0},onContentChange:function(t){if(!this.readOnly){var e={};"process"===t.type?(this.contentProcess=t.value,e.process=t.value,t.valueStr?this.contentProcessStr=t.valueStr:this.contentProcessStr=window.JSON5.stringify(this.contentProcess,null,2)):"listener"===t.type&&(this.contentListener=t.value,e.listener=t.value);var r=JSON.stringify(this.$meta.util.extend({},this.contentObj,e));this.dirty=!0,this.contextCallback(200,{content:r})}},onSave:function(){this.$refs.buttonSave.onClick()},onPerformSave:function(){var t,e=this;return(t=u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.contextParams.onSave();case 2:return e.dirty=!1,t.abrupt("return",e.$text("Saved"));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){l(i,n,o,a,c,"next",t)}function c(t){l(i,n,o,a,c,"throw",t)}a(void 0)}))})()},onPerformAddNode:function(){this.$refs.diagram.onPerformAddNode()}}},h=(0,r(792).Z)(f,(function(){var t=this,e=t._self._c;return e("eb-page",{attrs:{"page-content":!1,tabs:"","with-subnavbar":""}},[e("eb-navbar",{attrs:{title:t.title,"eb-back-link":"Back"}},[e("f7-nav-right",[!t.readOnly&&"diagram"===t.tabName&&t.contentEditDiagramInit?e("eb-link",{attrs:{iconF7:"::add",onPerform:t.onPerformAddNode}},[t._v("\n        "+t._s(t.$text("Add Node"))+"\n      ")]):t._e(),t._v(" "),t.readOnly?t._e():e("eb-link",{ref:"buttonSave",attrs:{iconF7:"::save",onPerform:t.onPerformSave}},[t._v(t._s(t.$text("Save")))])],1),t._v(" "),e("f7-subnavbar",[e("f7-toolbar",{attrs:{top:"",tabbar:""}},[e("eb-link",{attrs:{"tab-link":"#".concat(t.tabId.diagram),tabLinkActive:"diagram"===t.tabName,text:t.$text("flowDefDiagramTitle")}}),t._v(" "),e("eb-link",{attrs:{"tab-link":"#".concat(t.tabId.source),tabLinkActive:"source"===t.tabName,text:t.$text("flowDefSourceTitle")}}),t._v(" "),e("eb-link",{attrs:{"tab-link":"#".concat(t.tabId.listener),tabLinkActive:"listener"===t.tabName,text:t.$text("flowDefListenerTitle")}})],1)],1)],1),t._v(" "),e("f7-tabs",{ref:"tabs"},[e("eb-tab-page-content",{attrs:{id:t.tabId.diagram,ptr:!1,infinite:!1,tabActive:"diagram"===t.tabName,"data-ref":"diagram"},on:{"tab:show":function(e){t.tabName="diagram"}}},[e("content-edit-diagram",{ref:"diagram",attrs:{readOnly:t.readOnly,tabActive:"diagram"===t.tabName,flowDefId:t.flowDefId,contentProcessStr:t.contentProcessStr},on:{contentChange:t.onContentChange,contentEditDiagramInit:t.onContentEditDiagramInit}})],1),t._v(" "),e("eb-tab-page-content",{attrs:{id:t.tabId.source,ptr:!1,infinite:!1,tabActive:"source"===t.tabName,"data-ref":"source"},on:{"tab:show":function(e){t.tabName="source"}}},[e("content-edit-source",{attrs:{slot:"list",readOnly:t.readOnly,contentProcessStr:t.contentProcessStr,onSave:t.onSave},on:{contentChange:t.onContentChange},slot:"list"})],1),t._v(" "),e("eb-tab-page-content",{attrs:{id:t.tabId.listener,ptr:!1,infinite:!1,tabActive:"listener"===t.tabName,"data-ref":"listener"},on:{"tab:show":function(e){t.tabName="listener"}}},[e("content-edit-listener",{attrs:{slot:"list",readOnly:t.readOnly,contentListener:t.contentListener,onSave:t.onSave},on:{contentChange:t.onContentChange},slot:"list"})],1)],1)],1)}),[],!1,null,null,null).exports},601:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>c});var n=r(3),o=r.n(n),i=r(899);const a={mixins:[o().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{contentEditDiagram:i.Z},data:function(){return{}},computed:{title:function(){return this.$text("Flow Chart")},contentProcess:function(){return this.contextParams.contentProcess},contentProcessStr:function(){return window.JSON5.stringify(this.contentProcess,null,2)},flowNodeDefIds:function(){return this.contextParams.flowNodeDefIds}},created:function(){},methods:{}},c=(0,r(792).Z)(a,(function(){var t=this,e=t._self._c;return e("eb-page",[e("eb-navbar",{attrs:{title:t.title,"eb-back-link":"Back"}}),t._v(" "),e("content-edit-diagram",{attrs:{viewOnly:!0,readOnly:!0,tabActive:!0,contentProcessStr:t.contentProcessStr,flowNodeDefIds:t.flowNodeDefIds}})],1)}),[],!1,null,null,null).exports},200:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>c});var n=r(3),o=r.n(n),i=r(396);const a={mixins:[o().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{schemaFieldsTab:i.Z},data:function(){return{flowDefId:parseInt(this.$f7route.query.flowDefId),nodeId:this.$f7route.query.nodeId,valueSchema:null,tabId:{read:o().prototype.$meta.util.nextId("tab"),write:o().prototype.$meta.util.nextId("tab")},tabName:"read"}},computed:{title:function(){return this.$text("Field Permissions")},context:function(){return this.contextParams.context},readOnly:function(){return this.contextParams.readOnly},value:function(){return this.contextParams.value},schemaReference:function(){return this.contextParams.schemaReference}},created:function(){this.valueSchema=this.value},methods:{onPerformDone:function(){this.contextCallback(200,this.valueSchema),this.$f7router.back()},onPerformInfo:function(){this.$view.navigate("/a/jsoneditor/json/editor?t=".concat(Date.now()),{target:"_self",context:{params:{value:this.schemaReference.schema,title:this.$text("ReferenceForHelp"),readOnly:!0}}})}}},c=(0,r(792).Z)(a,(function(){var t=this,e=t._self._c;return e("eb-page",{attrs:{"page-content":!1,tabs:"","with-subnavbar":""}},[e("eb-navbar",{attrs:{title:t.title,"eb-back-link":"Back"}},[e("f7-nav-right",[t.readOnly?t._e():e("eb-link",{attrs:{iconF7:"::done",onPerform:t.onPerformDone}}),t._v(" "),t.schemaReference?e("eb-link",{attrs:{iconF7:"::info-circle",onPerform:t.onPerformInfo}}):t._e()],1),t._v(" "),e("f7-subnavbar",[e("f7-toolbar",{attrs:{top:"",tabbar:""}},[e("eb-link",{attrs:{"tab-link":"#".concat(t.tabId.read),tabLinkActive:"read"===t.tabName,text:t.$text("Read")}}),t._v(" "),e("eb-link",{attrs:{"tab-link":"#".concat(t.tabId.write),tabLinkActive:"write"===t.tabName,text:t.$text("Write")}})],1)],1)],1),t._v(" "),e("f7-tabs",{ref:"tabs"},[e("eb-tab-page-content",{attrs:{id:t.tabId.read,ptr:!1,infinite:!1,tabActive:"read"===t.tabName,"data-ref":"read"},on:{"tab:show":function(e){t.tabName="read"}}},[e("schema-fields-tab",{attrs:{context:t.context,readOnly:t.readOnly,mode:"read",valueSchema:t.valueSchema,schemaReference:t.schemaReference}})],1),t._v(" "),e("eb-tab-page-content",{attrs:{id:t.tabId.write,ptr:!1,infinite:!1,tabActive:"write"===t.tabName,"data-ref":"write"},on:{"tab:show":function(e){t.tabName="write"}}},[e("schema-fields-tab",{attrs:{context:t.context,readOnly:t.readOnly,mode:"write",valueSchema:t.valueSchema,schemaReference:t.schemaReference}})],1)],1)],1)}),[],!1,null,null,null).exports},792:(t,e,r)=>{"use strict";function n(t,e,r,n,o,i,a,c){var s,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=r,u._compiled=!0),n&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(s=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=s):o&&(s=c?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(u.functional){u._injectStyles=s;var l=u.render;u.render=function(t,e){return s.call(e),l(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,s):[s]}return{exports:t,options:u}}r.d(e,{Z:()=>n})},262:(t,e,r)=>{var n=r(100);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,r(159).Z)("0611fa44",n,!0,{})},159:(t,e,r)=>{"use strict";function n(t,e){for(var r=[],n={},o=0;o<e.length;o++){var i=e[o],a=i[0],c={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(c):r.push(n[a]={id:a,parts:[c]})}return r}r.d(e,{Z:()=>p});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),c=null,s=0,u=!1,l=function(){},f=null,h="data-vue-ssr-id",d="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,r,o){u=r,f=o||{};var a=n(t,e);return v(a),function(e){for(var r=[],o=0;o<a.length;o++){var c=a[o];(s=i[c.id]).refs--,r.push(s)}for(e?v(a=n(t,e)):a=[],o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete i[s.id]}}}}function v(t){for(var e=0;e<t.length;e++){var r=t[e],n=i[r.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](r.parts[o]);for(;o<r.parts.length;o++)n.parts.push(m(r.parts[o]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(m(r.parts[o]));i[r.id]={id:r.id,refs:1,parts:a}}}}function y(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function m(t){var e,r,n=document.querySelector("style["+h+'~="'+t.id+'"]');if(n){if(u)return l;n.parentNode.removeChild(n)}if(d){var o=s++;n=c||(c=y()),e=w.bind(null,n,o,!1),r=w.bind(null,n,o,!0)}else n=y(),e=x.bind(null,n),r=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}var g,b=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function w(t,e,r,n){var o=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function x(t,e){var r=e.css,n=e.media,o=e.sourceMap;if(n&&t.setAttribute("media",n),f.ssrId&&t.setAttribute(h,e.id),o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}},990:(t,e,r)=>{var n={"./flowDef/assigneesEdit.jsx":216,"./flowDef/behaviorEdit.jsx":880,"./flowDef/behaviors.jsx":372,"./flowDef/nodeProperties.jsx":999,"./flowDef/nodes.jsx":902};function o(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id=990},142:(t,e,r)=>{var n={"./flowDef/contentEdit.vue":501,"./flowDef/contentProcessView.vue":601,"./flowDef/schemaFields.vue":200};function o(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id=142},3:t=>{"use strict";t.exports=window.Vue}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";var t;r.r(n),r.d(n,{default:()=>e}),r(262);const e={install:function(e,n){return t?console.error("already installed."):(t=e,n({routes:r(267).Z,store:r(625).Z(t),config:r(835).Z,locales:r(380).Z,components:r(370).Z}))}}})(),window["a-flowchart"]=n})();
//# sourceMappingURL=front.js.map