(()=>{var t={947:(t,e,n)=>{"use strict";n.d(e,{Z:()=>ct});var r=n(3),a=n.n(r);function o(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const i={methods:{_onActionCreate:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,o,i,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$props,r=n.ctx,a=n.action,t.next=3,r.$api.post("/a/detail/detail/create",{flowTaskId:e.meta.flowTaskId,atomKey:e.atomKey,detailClass:e.detailClass,item:e.detailItem});case 3:if(o=t.sent,r.$meta.eventHub.$emit("detail:action",{atomKey:e.atomKey,detailClass:e.detailClass,key:o,action:a}),!a.actionComponent&&!a.actionPath){t.next=14;break}return i=r.$utils.extend({},e.detailItem,o),t.next=9,r.$store.dispatch("a/base/getDetailActions");case 9:return s=t.sent,u=s[i.module][i.detailClassName].write,u=r.$utils.extend({},u),t.next=14,r.$meta.util.performAction({ctx:r,action:u,item:{item:i,meta:e.meta}});case 14:return t.abrupt("return",o);case 15:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){o(i,r,a,s,u,"next",t)}function u(t){o(i,r,a,s,u,"throw",t)}s(void 0)}))})()}}};function s(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const u={methods:{_onActionWrite:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.$props,r=n.ctx,a=n.action,o={mode:"edit",detailId:e.detailItem.detailId,detailItemId:e.detailItem.detailItemId,flowTaskId:e.flowTaskId},i=r.$meta.util.combineQueries("/a/detail/detail/item",o),r.$view.navigate(i,a.navigateOptions);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){s(o,r,a,i,u,"next",t)}function u(t){s(o,r,a,i,u,"throw",t)}i(void 0)}))})()}}};function c(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const l={methods:{_onActionDelete:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$props,r=n.ctx,a=n.action,t.next=3,r.$view.dialog.confirm();case 3:return t.next=5,r.$api.post("/a/detail/detail/delete",{flowTaskId:e.flowTaskId,key:e.detailKey});case 5:r.$meta.eventHub.$emit("detail:action",{atomKey:e.atomKey,detailClass:e.detailClass,key:e.detailKey,action:a}),"/a/detail/detail/item"===r.$pageRoute.path&&r.$f7router.back();case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){c(o,r,a,i,s,"next",t)}function s(t){c(o,r,a,i,s,"throw",t)}i(void 0)}))})()}}};function d(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const f={methods:{_onActionSave:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$props,r=n.ctx,a=n.action,t.next=3,r.$api.post("/a/detail/detail/write",{flowTaskId:e.flowTaskId,key:e.detailKey,item:e.detailItem});case 3:return r.$meta.eventHub.$emit("detail:action",{atomKey:e.atomKey,detailClass:e.detailClass,key:e.detailKey,action:a}),t.abrupt("return",r.$text("Saved"));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){d(o,r,a,i,s,"next",t)}function s(t){d(o,r,a,i,s,"throw",t)}i(void 0)}))})()}}};function m(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const p={methods:{_onActionRead:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.$props,r=n.ctx,a=n.action,o={mode:"view",detailId:e.detailItem.detailId,detailItemId:e.detailItem.detailItemId,flowTaskId:e.flowTaskId},i=r.$meta.util.combineQueries("/a/detail/detail/item",o),r.$view.navigate(i,a.navigateOptions);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){m(o,r,a,i,s,"next",t)}function s(t){m(o,r,a,i,s,"throw",t)}i(void 0)}))})()}}};function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const b={methods:{_onActionClone:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,o,i,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$props,r=n.ctx,a=n.action,t.prev=1,t.next=4,r.$api.post("/a/detail/detail/clone",{flowTaskId:e.flowTaskId,key:e.detailKey});case 4:return o=t.sent,i=v(v({},e.detailItem),{},{detailId:o.detailId,detailItemId:o.detailItemId}),r.$meta.eventHub.$emit("detail:action",{atomKey:e.atomKey,detailClass:e.detailClass,key:o,action:{name:"create"}}),t.next=9,r.$store.dispatch("a/base/getDetailActions");case 9:return s=t.sent,u=s[e.detailItem.module][e.detailItem.detailClassName].write,u=r.$utils.extend({},u),"/a/detail/detail/item"===r.$pageRoute.path?u.navigateOptions={target:"_self"}:u.navigateOptions=a.navigateOptions,t.next=15,r.$meta.util.performAction({ctx:r,action:u,item:{item:i,meta:e.meta}});case 15:t.next=22;break;case 17:if(t.prev=17,t.t0=t.catch(1),422!==t.t0.code){t.next=21;break}throw new Error(t.t0.message[0].message);case 21:throw t.t0;case 22:case"end":return t.stop()}}),t,null,[[1,17]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){g(o,r,a,i,s,"next",t)}function s(t){g(o,r,a,i,s,"throw",t)}i(void 0)}))})()}}};function w(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const x={methods:{_onActionMoveUp:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$props,r=n.ctx,a=n.action,t.next=3,r.$api.post("/a/detail/detail/moveUp",{flowTaskId:e.flowTaskId,key:e.detailKey});case 3:o=t.sent,r.$meta.eventHub.$emit("detail:action",{atomKey:e.atomKey,detailClass:e.detailClass,key:e.detailKey,action:a,result:o});case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){w(o,r,a,i,s,"next",t)}function s(t){w(o,r,a,i,s,"throw",t)}i(void 0)}))})()}}};function _(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const k={methods:{_onActionMoveDown:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$props,r=n.ctx,a=n.action,t.next=3,r.$api.post("/a/detail/detail/moveDown",{flowTaskId:e.flowTaskId,key:e.detailKey});case 3:o=t.sent,r.$meta.eventHub.$emit("detail:action",{atomKey:e.atomKey,detailClass:e.detailClass,key:e.detailKey,action:a,result:o});case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){_(o,r,a,i,s,"next",t)}function s(t){_(o,r,a,i,s,"throw",t)}i(void 0)}))})()}}};function I(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const C={meta:{global:!1},mixins:[a().prototype.$meta.module.get("a-base").options.mixins.ebActionBase,i,u,l,f,p,b,x,k],data:function(){return{detailItem:null,meta:null,flowTaskId:0,atomKey:null,detailKey:null,detailClass:null}},created:function(){this.init()},methods:{init:function(){this.detailItem=this.item.item,this.meta=this.item.meta,this.flowTaskId=this.meta&&this.meta.flowTaskId||0,this.atomKey={atomId:this.detailItem.atomId},this.detailKey={detailId:this.detailItem.detailId,detailItemId:this.detailItem.detailItemId},this.detailClass={module:this.detailItem.module,detailClassName:this.detailItem.detailClassName}},onAction:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("create"!==(n=e.action).name&&"create"!==n.action){t.next=7;break}return t.next=4,e._onActionCreate();case 4:case 10:case 16:case 22:case 28:case 34:case 40:case 46:return t.abrupt("return",t.sent);case 7:if("delete"!==n.name){t.next=13;break}return t.next=10,e._onActionDelete();case 13:if("save"!==n.name){t.next=19;break}return t.next=16,e._onActionSave();case 19:if("read"!==n.name){t.next=25;break}return t.next=22,e._onActionRead();case 25:if("write"!==n.name){t.next=31;break}return t.next=28,e._onActionWrite();case 31:if("clone"!==n.name){t.next=37;break}return t.next=34,e._onActionClone();case 37:if("moveUp"!==n.name){t.next=43;break}return t.next=40,e._onActionMoveUp();case 43:if("moveDown"!==n.name){t.next=47;break}return t.next=46,e._onActionMoveDown();case 47:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){I(o,r,a,i,s,"next",t)}function s(t){I(o,r,a,i,s,"throw",t)}i(void 0)}))})()}}};function $(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const P={data:function(){return{base:{ready:!1,configDetailBase:null,configDetail:null,config:null,layoutConfig:null}}},computed:{base_user:function(){return this.$store.state.auth.user.op}},created:function(){},methods:{base_init:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("a/base/getLayoutConfig","a-basefront");case 2:e.base.layoutConfig=t.sent;case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){$(o,r,a,i,s,"next",t)}function s(t){$(o,r,a,i,s,"throw",t)}i(void 0)}))})()},base_getLayoutConfigKeyCurrent:function(){var t=this.container.detailClass?"".concat(this.container.detailClass.module,"_").concat(this.container.detailClass.detailClassName):null;return"detail.".concat(t,".render.list.layout.current.").concat(this.$view.size)},base_prepareReadOptions:function(){var t={};return t.layout=this.layout.current,t},base_prepareSelectOptions:function(){var t={where:{}};return t.layout=this.layout.current,t.orders=null,this.container.options&&(t=this.$utils.extend({},t,this.container.options)),t},base_prepareSelectParams:function(){var t=this.base_prepareSelectOptions();return{flowTaskId:this.container.flowTaskId,atomKey:{atomId:this.container.atomId},detailClass:this.container.detailClass,options:t}},base_getItems:function(){return this.layout.instance?this.layout.instance.getItems():[]}}};function M(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function A(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){M(o,r,a,i,s,"next",t)}function s(t){M(o,r,a,i,s,"throw",t)}i(void 0)}))}}const R={data:function(){return{layout:{current:null,config:null,instance:null}}},created:function(){},methods:{layout_setInstance:function(t){var e=this;return A(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.layout.instance=t;case 1:case"end":return n.stop()}}),n)})))()},layout_clearInstance:function(t){this.layout.instance===t&&(this.layout.instance=null)},layout_prepareConfig:function(){var t=this;return A(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.base.configDetailBase=t.$meta.config.modules["a-detail"].detail,!t.container.detailClass){e.next=5;break}return e.next=4,t.$meta.module.use(t.container.detailClass.module);case 4:t.base.configDetail=t.$meta.util.getProperty(t.$meta.config.modules[t.container.detailClass.module],"details.".concat(t.container.detailClass.detailClassName));case 5:t.base.config=t.base.configDetail?t.$meta.util.extend({},t.base.configDetailBase,t.base.configDetail):t.base.configDetailBase,t.layout_prepareConfigLayout();case 7:case"end":return e.stop()}}),e)})))()},layout_getDefault:function(){var t=this.base_getLayoutConfigKeyCurrent(),e=this.base.layoutConfig[t];if(e)return e;var n=this.$meta.util.getProperty(this.base.config,"render.list.info.layout.viewSize")[this.$view.size];return Array.isArray(n)||(n=[n]),n[0].name},layout_prepareConfigLayout:function(t){this.layout.current=t||this.container.layout||this.layout_getDefault();var e=this.$meta.util.getProperty(this.base.config,"render.list.layouts.".concat(this.layout.current));if(!e)return!1;var n=this.$meta.util.getProperty(this.base.config,"render.list.layouts.base");return this.layout.config=n?this.$meta.util.extend({},n,e):e,!0},layout_switchLayout:function(t){var e=this;return A(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==e.layout.current){n.next=2;break}return n.abrupt("return",!0);case 2:if(e.layout.current=null,e.layout.config=null,e.data.adapter&&(e.data.adapter.providerName=null),e.layout_prepareConfigLayout(t)){n.next=7;break}return n.abrupt("return",!1);case 7:return r=e.base_getLayoutConfigKeyCurrent(),e.$store.commit("a/base/setLayoutConfigKey",{module:"a-basefront",key:r,value:t}),n.abrupt("return",!0);case 10:case"end":return n.stop()}}),n)})))()},layout_getComponentOptions:function(){return{props:{layoutManager:this,layoutConfig:this.layout.config}}},layout_renderComponent:function(){var t=this.$createElement;return this.base.ready?t("eb-component",{attrs:{module:this.layout.config.component.module,name:this.layout.config.component.name,options:this.layout_getComponentOptions()}}):null},layout_getBlockComponentOptions:function(t){var e=t.blockConfig;return{props:{layoutManager:this,layout:this.layout.instance,blockConfig:e}}},layout_renderBlock:function(t){var e=t.blockName,n=this.$createElement;if(!this.base.ready)return null;if(!this.layout.instance)return null;var r=this.layout.config.blocks[e];return r?n("eb-component",{attrs:{module:r.component.module,name:r.component.name,options:this.layout_getBlockComponentOptions({blockConfig:r})}}):null},layout_renderLayout:function(){return(0,this.$createElement)("div",[this.layout_renderComponent()])},layout_renderTitle:function(){var t=this.$createElement;return t("f7-list-item",{attrs:{groupTitle:!0}},[t("div",{class:"detail-list-title-container"},[this.layout_renderTitleLeft(),this.layout_renderTitleRight()])])},layout_renderTitleLeft:function(){return(0,this.$createElement)("div",{class:"actions-block actions-block-left"},[this.container.title])},layout_renderTitleRight:function(){return(0,this.$createElement)("div",{class:"actions-block actions-block-right"},[this.bulk_renderActionsRight()])}}};function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const D={data:function(){return{bulk:{actions:null}}},created:function(){this.bulk_loadActions()},methods:{bulk_onAction:function(t,e){this.$f7.tooltip.hide(t.currentTarget);var n=this.getDetailAction(e);if(n){n=this.$utils.extend({},n,{targetEl:t.currentTarget});var r={atomId:this.container.atomId,module:e.module,detailClassName:e.detailClassName};return this.$meta.util.performAction({ctx:this,action:n,item:{item:r,meta:{flowTaskId:this.container.flowTaskId}}})}},bulk_loadActions:function(){var t=this;this.bulk.actions||this.$api.post("/a/detail/detail/actionsBulk",{flowTaskId:this.container.flowTaskId,atomKey:{atomId:this.container.atomId},detailClass:this.container.detailClass,mode:this.container.mode}).then((function(e){t.bulk.actions=e}))},bulk_renderActionsRight:function(){var t=this,e=this.$createElement,n=[];if(this.bulk.actions&&this.detailActionsAll){var r,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(this.bulk.actions);try{var o=function(){var a=r.value,o=t.getDetailAction(a);n.push(e("eb-link",{key:"actionsRight:".concat(o.name),attrs:{iconMaterial:o.icon&&o.icon.material,iconF7:o.icon&&o.icon.f7,tooltip:o.icon&&o.titleLocale},props:{onPerform:function(e){return t.bulk_onAction(e,a)}}},[!o.icon&&o.titleLocale]))};for(a.s();!(r=a.n()).done;)o()}catch(t){a.e(t)}finally{a.f()}}return n}}};function T(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function S(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){T(o,r,a,i,s,"next",t)}function s(t){T(o,r,a,i,s,"throw",t)}i(void 0)}))}}const L={data:function(){return{data:{adapter:null}}},beforeDestroy:function(){this.data.adapter&&(this.data.adapter.$destroy(),this.data.adapter=null)},methods:{data_adapterInit:function(){var t=this;return S(regeneratorRuntime.mark((function e(){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$meta.util.getProperty(t.base.config,"render.list.info.data.adapter.component"),e.next=3,t.$meta.module.use(n.module);case 3:r=e.sent,a={propsData:{layoutManager:t}},o=r.options.components[n.name],t.data.adapter=t.$meta.util.createComponentInstance(o,a);case 7:case"end":return e.stop()}}),e)})))()},data_providerSwitch:function(t){var e=this;return S(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.data.adapter.providerSwitch(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},data_callMethod:function(t){var e;if(!this.data.adapter)return null;for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(e=this.data.adapter)[t].apply(e,r)},data_onPageRefresh:function(t){return this.data_callMethod("onPageRefresh",t)},data_onPageInfinite:function(){return this.data_callMethod("onPageInfinite")},data_onPageClear:function(){return this.data_callMethod("onPageClear")},data_getItems:function(){return this.data_callMethod("getItems")},data_getItemsAll:function(){return this.data_callMethod("getItemsAll")},data_getLoading:function(){return this.data_callMethod("getLoading")},data_renderLoadMore:function(){return this.data_callMethod("renderLoadMore")}}};function j(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}var N=a().prototype.$meta.module.get("a-base").options.mixins.ebDetailActions;const E={props:{context:{type:Object}},data:function(){return{}},mounted:function(){var t=this.context.validate;"edit"===(t.host&&t.host.mode)&&this.$meta.eventHub.$on("details:change",this.onActionChanged)},beforeDestroy:function(){var t=this.context.validate;"edit"===(t.host&&t.host.mode)&&this.$meta.eventHub.$off("details:change",this.onActionChanged)},methods:{onActionChanged:function(t){var e=this,n=t.atomKey,r=t.detailClass,a=t.details,o=this.context,i=o.parcel,s=o.property,u=o.validate;if(n.atomId===i.data.atomId&&r.module===s.ebParams.detailClass.module&&r.detailClassName===s.ebParams.detailClass.detailClassName){var c={details:a};this.$meta.util.sandbox.evaluate(s.ebParams.expression,c).then((function(t){e.context.setValue(t),s.ebAutoSubmit&&e.$nextTick((function(){u.onSubmit()}))})).catch((function(t){throw t}))}}},render:function(){var t=arguments[0],e=this.context,n=e.parcel,r=e.key,a=e.property,o=this.$utils.extend({},a,{ebType:"text"});return t("eb-list-item-validate",{attrs:{parcel:n,dataKey:r,property:o}})}};function K(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function B(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const U={meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},blockConfig:{type:Object}},data:function(){return{}},methods:{onItemClick:function(t,e){var n,r=this;return(n=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.layoutManager.data.adapter.item_onItemClick(t,e));case 1:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,a){var o=n.apply(t,e);function i(t){B(o,r,a,i,s,"next",t)}function s(t){B(o,r,a,i,s,"throw",t)}i(void 0)}))})()},onSwipeoutOpened:function(){},_renderListItem:function(t,e){var n=this,r=this.$createElement,a=r("div",{slot:"media"},[this.layoutManager.data.adapter.item_renderMedia(t,e)]),o=r("div",{slot:"title",class:"title"},[r("div",[this.layoutManager.data.adapter.item_getDetailName(t)])]),i=r("div",{slot:"root-end",class:"summary"},[this.layoutManager.data.adapter.item_getMetaSummary(t)]),s=r("div",{slot:"after",class:"after"},[this.layoutManager.data.adapter.item_renderMetaFlags(t)]);return r("eb-list-item",{class:"item",key:t.detailId,attrs:{link:"#",swipeout:!0},props:{onPerform:function(e){return n.onItemClick(e,t)}},on:{swipeoutOpened:function(e){n.onSwipeoutOpened(e,t)},contextmenuOpened:function(e){n.onSwipeoutOpened(e,t)}}},[a,o,i,s,this._renderListItemContextMenu(t)])},_renderListItemContextMenu:function(t){return this.layoutManager.data.adapter.item_renderContextMenu(t)},_renderList:function(){for(var t=this.$createElement,e=this.layoutManager.data_getItems(),n=[],r=0;r<e.length;r++)n.push(this._renderListItem(e[r],r));return t("f7-list",[n])}},render:function(){var t=arguments[0];return t("div",{class:"detail-list-main-container"},[this._renderList()])}};function F(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const H={meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},blockConfig:{type:Object}},data:function(){return{contextmenuRecord:null}},computed:{columns:function(){var t,e=[],n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(this.blockConfig.columns);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!1!==r.visible){var a=this.$meta.util.extend({},r);a.key=a.key||a.dataIndex,a.title=this.$text(a.title),a.ellipsis=!0,a.customRender=this._customRender,e.push(a)}}}catch(t){n.e(t)}finally{n.f()}return e}},methods:{onSwipeoutOpened:function(){},_customRender:function(t,e,n,r){var a=this.$createElement,o={props:{layoutManager:this.layoutManager,layout:this.layout,layoutItems:this,info:{text:t,record:e,index:n,column:r}}};return r.component?(r.component.options&&(o=this.$meta.util.extend({},r.component.options,o)),a("eb-component",{attrs:{module:r.component.module,name:r.component.name,options:o}})):r.params&&r.params.computed?(o.props.expression=r.params.computed.expression,a("eb-component",{attrs:{module:"a-basefront",name:"renderTableCellComputed",options:o}})):r.params&&r.params.dateFormat&&"object"===Z(r.params.dateFormat)?(o.props.dateFormat=r.params.dateFormat,a("eb-component",{attrs:{module:"a-basefront",name:"renderTableCellDatetime",options:o}})):a("eb-component",{attrs:{module:"a-basefront",name:"renderTableCellDefault",options:o}})},_customRow:function(t){var e=this;return{props:{},on:{contextmenu:function(n){var r=e.$$(e.$el).find(".popover");if(0!==r.length){n.stopPropagation(),n.preventDefault();var a=n.target;e.$nextTick((function(){e.$f7.popover.open(r,a),e.contextmenuRecord=t,e.onSwipeoutOpened(null,t)}))}}}}},_renderListItemContextMenu:function(){var t=this.contextmenuRecord;return this.layoutManager.data.adapter.item_renderContextMenu(t,"menu")},_renderTable:function(){var t=this.$createElement,e=this.layoutManager.data_getItems();return t("a-table",{attrs:{bordered:!0,columns:this.columns,rowKey:function(t){return t.detailId},dataSource:e,pagination:!1,customRow:this._customRow}})}},render:function(){var t=arguments[0];return t("div",{class:"detai-list-layout-table-container"},[this._renderTable(),this._renderListItemContextMenu()])}},V={meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},layoutItems:{type:Object},info:{type:Object}},data:function(){return{}},created:function(){},methods:{onItemClick:function(t){return this.layoutManager.data.adapter.item_onItemClick(t,this.info.record)}},render:function(){var t=this,e=arguments[0],n=this.info.record,r=this.layoutManager.data.adapter.item_renderMetaFlags(n),a=e("div",{class:"atomName-summary"},[this.layoutManager.data.adapter.item_getMetaSummary(n)]);return e("div",{class:"atom-list-layout-table-cell-atomName"},[e("div",{class:"atomName-inner"},[e("div",{class:"atomName-left"},[e("eb-link",{props:{onPerform:function(e){return t.onItemClick(e)}}},[this.layoutManager.data.adapter.item_getDetailName(n)])]),e("div",{class:"atomName-right"},[r])]),a])}};function W(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){J(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function X(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){Q(o,r,a,i,s,"next",t)}function s(t){Q(o,r,a,i,s,"throw",t)}i(void 0)}))}}const Y={created:function(){this.$meta.eventHub.$on("detail:action",this.event_onActionChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("detail:action",this.event_onActionChanged)},methods:{event_onActionChanged:function(t){var e=this;return X(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.atomKey,a=t.detailClass,r.atomId===e.layoutManager.container.atomId&&a.module===e.layoutManager.container.detailClass.module&&a.detailClassName===e.layoutManager.container.detailClass.detailClassName){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,e.event_onActionChanged2(t);case 5:n.sent&&e.$meta.eventHub.$emit("details:change",G(G({},t),{},{details:e.layoutManager.data_getItemsAll()}));case 7:case"end":return n.stop()}}),n)})))()},event_onActionChanged2:function(t){var e=this;return X(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=!1,n.next=3,e._loopProviders(function(){var n=X(regeneratorRuntime.mark((function n(a){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.event_onActionChanged2_provider(t,a);case 2:(o=n.sent)&&(r=o);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());case 3:return n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))()},event_onActionChanged2_provider:function(t,e){var n=this;return X(regeneratorRuntime.mark((function r(){var a,o,i,s,u,c,l,d,f,m,p,h,v,y,g,b;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.key,o=t.action,i=t.result,"create"!==o.name){r.next=4;break}return n._callMethodProvider(e,"onPageRefresh"),r.abrupt("return",!0);case 4:if("moveUp"!==o.name&&"moveDown"!==o.name){r.next=20;break}if(i){r.next=7;break}return r.abrupt("return",!1);case 7:if(s="moveUp"===o.name?i.to:i.from,u="moveUp"===o.name?i.from:i.to,c=n.findItemProvier(e,s),l=c.items,d=c.index,f=n.findItemProvier(e,u),m=f.index,-1!==d&&-1!==m){r.next=17;break}return n._callMethodProvider(e,"onPageRefresh"),r.abrupt("return",!1);case 17:return p=n._callMethodProvider(e,"spliceItem",l,m),n._callMethodProvider(e,"spliceItem",l,d,0,p[0]),r.abrupt("return",!1);case 20:if(h=n.findItemProvier(e,a.detailId),v=h.items,-1!==(y=h.index)){r.next=23;break}return r.abrupt("return",!1);case 23:if("delete"!==o.name){r.next=26;break}return n._callMethodProvider(e,"spliceItem",v,y),r.abrupt("return",!0);case 26:return g=n.layoutManager.base_prepareReadOptions(),r.next=29,n.$api.post("/a/detail/detail/read",{flowTaskId:n.layoutManager.container.flowTaskId,key:a,options:g});case 29:return b=r.sent,n.$set(v,y,b),r.abrupt("return",!0);case 32:case"end":return r.stop()}}),r)})))()}}};function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function et(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function nt(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){et(o,r,a,i,s,"next",t)}function s(t){et(o,r,a,i,s,"throw",t)}i(void 0)}))}}const rt={methods:{item_onAction:function(t,e,n){var r=this;return nt(regeneratorRuntime.mark((function a(){var o,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=r.layoutManager.getDetailAction(n)){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,r.$meta.util.performAction({ctx:r.layoutManager,action:o,item:{item:e,meta:{flowTaskId:r.layoutManager.container.flowTaskId}}});case 5:return i=a.sent,r.$meta.util.swipeoutClose(t.currentTarget),a.abrupt("return",i);case 8:case"end":return a.stop()}}),a)})))()},item_onItemClick:function(t,e){var n=this;return nt(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.item_onAction(t,e,{module:e.module,detailClassName:e.detailClassName,name:"view"===n.layoutManager.container.mode?"read":"write"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},item_getDetailName:function(t){return t.detailName},item_getMetaSummary:function(t){return t._meta&&t._meta.summary||""},item_getMetaFlags:function(t){var e=t._meta&&t._meta.flags||[];return Array.isArray(e)||(e=e.split(",")),e},item_getActionColor:function(t,e){return 0===e?"orange":1===e?"red":"blue"},item_getActionTitle:function(t){return this.layoutManager.getDetailActionTitle(t)},item_getActions:function(t){var e=this.layoutManager.actions.list;return e?"menu"===t||!t&&this.$device.desktop?e:e.filter((function(t){return["read","write","delete"].indexOf(t.name)>-1})):e},item_renderContextMenu:function(t,e){var n=this,r=this.$createElement,a=this.item_getActions(e),o=[];if(a){var i=function(i){i=parseInt(i);var u=a[i],c=n.layoutManager.getDetailAction(u),l=void 0;("menu"===e||!e&&n.$device.desktop)&&(l=r("div",{slot:"title"},[n.item_getActionTitle(u)])),o.push(r("div",{key:u.code,attrs:{color:n.item_getActionColor(u,i)},props:{onPerform:function(e){return n.item_onAction(e,t,u)}}},[r("f7-icon",{slot:"media",attrs:{material:c.icon&&c.icon.material,f7:c.icon&&c.icon.f7}}),l])),s=i};for(var s in a)i(s)}var u=r("div",{slot:"right",attrs:{ready:!!a}},[o]);return r("eb-context-menu",{attrs:{mode:e}},[u])},item_renderMedia:function(t,e){return(0,this.$createElement)("f7-badge",[e+1])},item_renderMetaFlags:function(t){var e,n=this.$createElement,r=[],a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(this.item_getMetaFlags(t));try{for(a.s();!(e=a.n()).done;){var o=e.value;r.push(n("f7-badge",{key:o},[o]))}}catch(t){a.e(t)}finally{a.f()}return r}}};function at(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function ot(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){at(o,r,a,i,s,"next",t)}function s(t){at(o,r,a,i,s,"throw",t)}i(void 0)}))}}function it(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function st(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){it(o,r,a,i,s,"next",t)}function s(t){it(o,r,a,i,s,"throw",t)}i(void 0)}))}}const ut={props:{layoutManager:{type:Object}},data:function(){return{inited:!1,info:{pageCurrent:0,pageSize:20,total:0},items:[],loading:!1}},beforeDestroy:function(){},methods:{switch:function(t){var e=this;return st(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.inited){n.next=2;break}return n.abrupt("return");case 2:e.inited=!0,t.autoInit&&e.onPageRefresh();case 4:case"end":return n.stop()}}),n)})))()},onPageRefresh:function(){this.onPageClear(),this.loadDetails()},onPageInfinite:function(){},onPageClear:function(){this.items=[],this.info={pageCurrent:0,pageSize:20,total:0},this.loading=!1},loadDetails:function(){var t=this;return st(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,n=t.layoutManager.base_prepareSelectParams(),e.next=5,t.$api.post("/a/detail/detail/select",n);case 5:return r=e.sent,t.items=r.list,t.info={pageCurrent:1,pageSize:t.items.length,total:t.items.length},t.loading=!1,e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(1),t.layoutManager.$view.toast.show({text:e.t0.message}),t.loading=!1;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()},getItems:function(){return this.items},getItemsAll:function(){return this.getItems()},getLoading:function(){return this.loading},getPageInfo:function(){return this.info},gotoPage:function(){},findItem:function(t){var e=this.items.findIndex((function(e){return e.detailId===t}));return{pageNum:1,items:this.items,index:e}},spliceItem:function(t,e,n){void 0===n&&(n=1);for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];return t.splice.apply(t,[e,n].concat(a))}}},ct={action:C,renderDetails:{mixins:[{mixins:[N,P,{data:function(){return{}},methods:{}},R,D,{data:function(){return{actions:{list:null}}},created:function(){this.actions_fetchActions()},methods:{actions_fetchActions:function(){var t=this;this.actions.list||this.$api.post("/a/detail/detail/actions",{flowTaskId:this.container.flowTaskId,atomKey:{atomId:this.container.atomId},detailClass:this.container.detailClass,mode:this.container.mode}).then((function(e){t.actions.list=e}))}}},L],data:function(){return{}},created:function(){this.index_init()},beforeDestroy:function(){this.$emit("layoutManager:destroy")},methods:{index_init:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.base_init();case 2:return t.next=4,e.layout_prepareConfig();case 4:return t.next=6,e.data_adapterInit();case 6:e.base.ready=!0;case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){j(o,r,a,i,s,"next",t)}function s(t){j(o,r,a,i,s,"throw",t)}i(void 0)}))})()}}}],props:{context:{type:Object}},data:function(){var t=this.context,e=t.parcel,n=t.property,r=t.validate;return{container:{title:this.context.getTitle(!0),mode:r.host&&r.host.mode,flowTaskId:r.host&&r.host.flowTaskId||0,atomId:e.data.atomId,atom:e.data,detailClass:n.ebParams.detailClass,options:{},layout:null}}},created:function(){},methods:{},render:function(){return this.layout_renderLayout()}},renderDetailsStat:E,listLayoutList:{meta:{global:!1},props:{layoutManager:{type:Object},layoutConfig:{type:Object}},data:function(){return{}},created:function(){this.init()},beforeDestroy:function(){this.layoutManager.layout_clearInstance(this)},methods:{init:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.layoutManager.data_providerSwitch({providerName:"all",autoInit:!0});case 2:return t.next=4,e.layoutManager.layout_setInstance(e);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){K(o,r,a,i,s,"next",t)}function s(t){K(o,r,a,i,s,"throw",t)}i(void 0)}))})()}},render:function(){var t=arguments[0];return t("div",[this.layoutManager.layout_renderBlock({blockName:"title"}),this.layoutManager.layout_renderBlock({blockName:"items"})])}},listLayoutBlockListTitle:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},methods:{},render:function(){return this.layoutManager.layout_renderTitle()}},listLayoutBlockListItems:U,listLayoutTable:{meta:{global:!1},mixins:[{data:function(){return{antdv:{locales:null}}},created:function(){var t=this;this.$meta.util.performAction({ctx:this,action:{actionModule:"a-antdv",actionComponent:"antdv",name:"locales"}}).then((function(e){t.antdv.locales=e}))},methods:{antdv_getLocale:function(){if(!this.antdv.locales)return null;var t=this.$meta.util.getLocale();return t&&"en-us"!==t?this.antdv.locales[t]:null}}}],props:{layoutManager:{type:Object},layoutConfig:{type:Object}},data:function(){return{}},created:function(){this.init()},beforeDestroy:function(){this.layoutManager.layout_clearInstance(this)},methods:{init:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.layoutManager.data_providerSwitch({providerName:"all",autoInit:!0});case 2:return t.next=4,e.layoutManager.layout_setInstance(e);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){F(o,r,a,i,s,"next",t)}function s(t){F(o,r,a,i,s,"throw",t)}i(void 0)}))})()},_renderEmpty:function(){var t=this.$createElement;return this.layoutManager.data_getLoading()?t("f7-preloader"):t("div",[this.$text("No Data")])},_renderConfigProvider:function(){var t=this.$createElement;return this.antdv.locales?t("a-config-provider",{attrs:{locale:this.antdv_getLocale(),renderEmpty:this._renderEmpty}},[this.layoutManager.layout_renderBlock({blockName:"items"})]):null}},render:function(){var t=arguments[0];return t("div",{class:"eb-antdv"},[this.layoutManager.layout_renderBlock({blockName:"title"}),this._renderConfigProvider()])}},listLayoutBlockTableItems:H,listLayoutTableCellDetailLineNo:{meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},layoutItems:{type:Object},info:{type:Object}},data:function(){return{}},created:function(){},methods:{},render:function(){var t=arguments[0],e=this.info.index;return t("span",[e+1])}},listLayoutTableCellDetailName:V,itemLayoutDefault:{meta:{global:!1},props:{layoutManager:{type:Object},layoutConfig:{type:Object}},data:function(){return{}},created:function(){this.init()},beforeDestroy:function(){this.layoutManager.layout_clearInstance(this)},methods:{init:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.layoutManager.layout_setInstance(e);case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){W(o,r,a,i,s,"next",t)}function s(t){W(o,r,a,i,s,"throw",t)}i(void 0)}))})()}},render:function(){var t=arguments[0];return t("div",[this.layoutManager.layout_renderBlock({blockName:"main"})])}},itemLayoutBlockDefaultTitle:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},created:function(){},methods:{},render:function(){var t=arguments[0];return t("f7-nav-right",[this.layoutManager.actions_render()])}},itemLayoutBlockDefaultMain:{meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},blockConfig:{type:Object}},data:function(){return{}},render:function(){return this.layoutManager.validate_render()}},listLayoutDataAdapter:{mixins:[Y,rt],props:{layoutManager:{type:Object}},data:function(){return{providerName:null,providers:{}}},computed:{providerCurrent:function(){return this.providers[this.providerName]}},beforeDestroy:function(){for(var t in this.providers)this.providers[t].$destroy();this.providers={}},methods:{providerSwitch:function(t){var e=this;return ot(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.providerName,a=e.providers[r]){n.next=9;break}return n.next=5,e.providerCreate(r);case 5:if(a=n.sent){n.next=8;break}throw new Error("not found list layout data provider: ".concat(r));case 8:e.$set(e.providers,r,a);case 9:return n.next=11,a.switch(t);case 11:e.providerName=r;case 12:case"end":return n.stop()}}),n)})))()},providerCreate:function(t){var e=this;return ot(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.getProviderConfig(t).component,n.next=3,e.$meta.module.use(r.module);case 3:return a=n.sent,o={propsData:{layoutManager:e.layoutManager}},i=a.options.components[r.name],n.abrupt("return",e.$meta.util.createComponentInstance(i,o));case 7:case"end":return n.stop()}}),n)})))()},getProviderConfig:function(t){return this.$meta.util.getProperty(this.layoutManager.base.config,"render.list.info.data.adapter.providers.".concat(t))},_callMethod:function(t){var e=this.providerCurrent;if(!e)return null;for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return this._callMethodProvider.apply(this,[e,t].concat(r))},_callMethodProvider:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return t[e].apply(t,r)},_loopProviders:function(t){var e=this;return ot(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=regeneratorRuntime.keys(e.providers);case 1:if((n.t1=n.t0()).done){n.next=8;break}return r=n.t1.value,a=e.providers[r],n.next=6,t(a);case 6:n.next=1;break;case 8:case"end":return n.stop()}}),n)})))()},onPageRefresh:function(t){return this._callMethod("onPageRefresh",t)},onPageInfinite:function(){return this._callMethod("onPageInfinite")},onPageClear:function(){return this._callMethod("onPageClear")},getItems:function(){return this._callMethod("getItems")||[]},getItemsAll:function(){return this._callMethod("getItemsAll")||[]},getLoading:function(){return this._callMethod("getLoading")},getPageInfo:function(){return this._callMethod("getPageInfo")},gotoPage:function(t){return this._callMethod("gotoPage",t)},findItem:function(t){return this._callMethod("findItem",t)||{pageNum:null,items:null,index:-1}},findItemProvier:function(t,e){return this._callMethodProvider(t,"findItem",e)||{pageNum:null,items:null,index:-1}},spliceItem:function(t,e,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];return this._callMethod.apply(this,["spliceItem",t,e,n].concat(a))},renderLoadMore:function(){return this._callMethod("renderLoadMore")}}},listLayoutDataProviderAll:ut}},4:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=[{name:"default"}],a=[{name:"default"}];const o={detail:{render:{list:{info:{layout:{viewSize:{small:{name:"list"},medium:{name:"table"},large:{name:"table"}}},data:{adapter:{component:{module:"a-detail",name:"listLayoutDataAdapter"},providers:{all:{component:{module:"a-detail",name:"listLayoutDataProviderAll"}}}}}},layouts:{base:{blocks:{title:{component:{module:"a-detail",name:"listLayoutBlockListTitle"}}}},list:{title:"LayoutList",component:{module:"a-detail",name:"listLayoutList"},blocks:{items:{component:{module:"a-detail",name:"listLayoutBlockListItems"}}}},table:{title:"LayoutTable",component:{module:"a-detail",name:"listLayoutTable"},blocks:{items:{component:{module:"a-detail",name:"listLayoutBlockTableItems"},columns:[{dataIndex:"detailLineNo",title:"#",align:"center",width:"50px",component:{module:"a-detail",name:"listLayoutTableCellDetailLineNo"}},{dataIndex:"detailName",title:"Name",align:"left",component:{module:"a-detail",name:"listLayoutTableCellDetailName"}}]}}}}},item:{info:{layout:{viewSize:{view:{small:r,medium:r,large:r},edit:{small:a,medium:a,large:a}}}},layouts:{base:{blocks:{title:{component:{module:"a-detail",name:"itemLayoutBlockDefaultTitle"}},main:{component:{module:"a-detail",name:"itemLayoutBlockDefaultMain"}}}},default:{title:"LayoutDefault",component:{module:"a-detail",name:"itemLayoutDefault"},blocks:{}}}}}}}},933:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={}},978:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={}},137:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={"en-us":n(933).Z,"zh-cn":n(978).Z}},644:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=[{path:"detail/item",component:("detail/item",n(990)("./".concat("detail/item",".jsx")).default)}]},81:(t,e,n)=>{"use strict";function r(t){return{state:{},getters:{},mutations:{},actions:{}}}n.d(e,{Z:()=>r})},697:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>b});var r=n(3),a=n.n(r);function o(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){o(i,r,a,s,u,"next",t)}function u(t){o(i,r,a,s,u,"throw",t)}s(void 0)}))}}const s={data:function(){return{base:{ready:!1,configDetailBase:null,configDetail:null,config:null,layoutConfig:null,item:null,detailClass:null,module:null,validateParams:null,notfound:!1}}},computed:{base_ready:function(){return this.base.ready&&this.detailActionsAll},base_user:function(){return this.$store.state.auth.user.op}},created:function(){},mounted:function(){this.$meta.eventHub.$on("detail:action",this.base_onActionChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("detail:action",this.base_onActionChanged)},methods:{base_init:function(){var t=this;return i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("a/base/getLayoutConfig","a-basefront");case 2:t.base.layoutConfig=e.sent;case 3:case"end":return e.stop()}}),e)})))()},base_getLayoutConfigKeyCurrent:function(){var t="".concat(this.base.detailClass.module,"_").concat(this.base.detailClass.detailClassName);return"detail.".concat(t,".render.item.layout.current.").concat(this.container.mode,".").concat(this.$view.size)},base_loadItem:function(){var t=this;return i(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.base_prepareReadOptions(),e.next=4,t.$api.post("/a/detail/detail/read",{flowTaskId:t.container.flowTaskId,key:{detailId:t.container.detailId},options:n});case 4:return t.base.item=e.sent,t.base.detailClass={id:t.base.item.detailClassId,module:t.base.item.module,detailClassName:t.base.item.detailClassName},e.next=8,t.$meta.module.use(t.base.item.module);case 8:return t.base.module=e.sent,e.next=11,t.$api.post("/a/detail/detail/validator",{detailClass:{id:t.base.item.detailClassId}});case 11:return r=e.sent,t.base.validateParams={module:r.module,validator:r.validator},e.next=15,t.actions_fetchActions();case 15:return e.abrupt("return",!0);case 18:return e.prev=18,e.t0=e.catch(0),t.base.notfound=!0,e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))()},base_prepareReadOptions:function(){var t={};return t.layout=this.layout.current,t},base_getCurrentStage:function(){if(!this.base.item)return null;var t=this.base.item.atomStage;return void 0!==t?0===t?"draft":1===t?"formal":"history":void 0},base_onActionChanged:function(t){var e=this;return i(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.key,a=t.action,e.base_ready){n.next=4;break}return n.abrupt("return");case 4:if(e.base.item.detailId===r.detailId){n.next=6;break}return n.abrupt("return");case 6:if("edit"!==e.container.mode){n.next=9;break}return e.base.item.detailUpdatedAt=new Date,n.abrupt("return");case 9:if("create"!==a.name){n.next=11;break}return n.abrupt("return");case 11:if("delete"!==a.name){n.next=16;break}return e.base.item=null,e.base.notfound=!0,e.base.ready=!1,n.abrupt("return");case 16:return n.next=18,e.base_loadItem();case 18:case"end":return n.stop()}}),n)})))()}}},u={mixins:[a().prototype.$meta.module.get("a-components").options.mixins.ebPageDirty],data:function(){return{}},computed:{page_title:function(){return this.page_getTitle()}},methods:{page_getTitle:function(){var t;return t=this.base.item?this.base.item.detailName:this.$text("Details"),this.page_getDirtyTitle(t)},page_getSubtitle:function(){return""}}};function c(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){c(o,r,a,i,s,"next",t)}function s(t){c(o,r,a,i,s,"throw",t)}i(void 0)}))}}const d={data:function(){return{layout:{current:null,config:null,instance:null}}},created:function(){},methods:{layout_setInstance:function(t){var e=this;return l(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.layout.instance=t;case 1:case"end":return n.stop()}}),n)})))()},layout_clearInstance:function(t){this.layout.instance===t&&(this.layout.instance=null)},layout_prepareConfig:function(){var t=this;return l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.base.configDetailBase=t.$meta.config.modules["a-detail"].detail,t.base.configDetail=t.$meta.util.getProperty(t.$meta.config.modules[t.base.detailClass.module],"details.".concat(t.base.detailClass.detailClassName)),t.base.config=t.base.configDetail?t.$meta.util.extend({},t.base.configDetailBase,t.base.configDetail):t.base.configDetailBase,t.layout_prepareConfigLayout();case 4:case"end":return e.stop()}}),e)})))()},layout_getDefault:function(){var t=this.base_getLayoutConfigKeyCurrent(),e=this.base.layoutConfig[t];if(e)return e;var n=this.$meta.util.getProperty(this.base.config,"render.item.info.layout.viewSize")[this.container.mode][this.$view.size];return Array.isArray(n)||(n=[n]),n[0].name},layout_prepareConfigLayout:function(t){this.layout.current=t||this.container.layout||this.layout_getDefault();var e=this.$meta.util.getProperty(this.base.config,"render.item.layouts.".concat(this.layout.current));if(e||(e=this.$meta.util.getProperty(this.base.config,"render.item.layouts.default")),!e)return!1;var n=this.$meta.util.getProperty(this.base.config,"render.item.layouts.base");return this.layout.config=n?this.$meta.util.extend({},n,e):e,!0},layout_switchLayout:function(t){var e=this;return l(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==e.layout.current){n.next=2;break}return n.abrupt("return",!0);case 2:if(e.layout.current=null,e.layout.config=null,e.subnavbar.enable=!1,e.subnavbar.render=!1,e.layout_prepareConfigLayout(t)){n.next=8;break}return n.abrupt("return",!1);case 8:return r=e.base_getLayoutConfigKeyCurrent(),e.$store.commit("a/base/setLayoutConfigKey",{module:"a-basefront",key:r,value:t}),n.abrupt("return",!0);case 11:case"end":return n.stop()}}),n)})))()},layout_getComponentOptions:function(){return{props:{layoutManager:this,layoutConfig:this.layout.config}}},layout_renderComponent:function(){var t=this.$createElement;return this.base.ready?t("eb-component",{attrs:{module:this.layout.config.component.module,name:this.layout.config.component.name,options:this.layout_getComponentOptions()}}):null},layout_getBlockComponentOptions:function(t){var e=t.blockConfig;return{props:{layoutManager:this,layout:this.layout.instance,blockConfig:e}}},layout_renderBlock:function(t){var e=t.blockName,n=this.$createElement;if(!this.base.ready)return null;if(!this.layout.instance)return null;var r=this.layout.config.blocks[e];return r?n("eb-component",{attrs:{module:r.component.module,name:r.component.name,options:this.layout_getBlockComponentOptions({blockConfig:r})}}):null},layout_renderLayout:function(){var t=this.$createElement;return this.base.notfound?t("f7-card",[t("f7-card-header",[this.$text("Friendly Tips")]),t("f7-card-content",[this.$text("Not Found")])]):t("div",[this.layout_renderComponent(),this.actions_renderPopover()])}}};function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){m(o,r,a,i,s,"next",t)}function s(t){m(o,r,a,i,s,"throw",t)}i(void 0)}))}}const h={data:function(){return{actions:{list:null,popoverId:a().prototype.$meta.util.nextId("popover")}}},computed:{actions_itemActions:function(){return this.actions.list?this.actions.list.filter((function(t){return-1===["read"].indexOf(t.name)})):null},actions_listPopover:function(){if(!this.base_ready)return null;var t=this.actions_itemActions;return t?(t=t.filter((function(t){return-1===["write"].indexOf(t.name)})),t.length>0?t:null):null}},methods:{actions_fetchActions:function(){var t=this;return p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.actions.list){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$api.post("/a/detail/detail/actions",{flowTaskId:t.container.flowTaskId,atomKey:{atomId:t.base.item.atomId},detailClass:t.base.detailClass,mode:t.container.mode});case 4:t.actions.list=e.sent;case 5:case"end":return e.stop()}}),e)})))()},actions_findAction:function(t){return this.actions_itemActions?this.actions_itemActions.find((function(e){return e.name===t})):null},actions_onSubmit:function(){this.$refs.buttonSave.onClick()},actions_submit:function(t,e){var n=this;return p(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=n.validate_getInstance()){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,a.perform(t,{action:e});case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},actions_onSaveDone:function(t){var e=this;return p(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.actions_onAction(t,"save");case 2:e.$f7router.back();case 3:case"end":return n.stop()}}),n)})))()},actions_onAction:function(t,e){var n=this;return p(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("save"!==e){r.next=4;break}return r.next=3,n.actions_submit(t,e);case 3:case 8:return r.abrupt("return",r.sent);case 4:return"string"==typeof e&&(e={module:n.base.atomClass.module,atomClassName:n.base.atomClass.atomClassName,name:e}),a=n.getDetailAction(e),r.next=8,n.$meta.util.performAction({ctx:n,action:a,item:{item:n.base.item,meta:{flowTaskId:n.container.flowTaskId}}});case 9:case"end":return r.stop()}}),r)})))()},actions_render:function(){var t=this,e=this.$createElement;if(!this.base_ready)return null;var n=[];if(this.actions_findAction("write")){var r="save";n.push(e("eb-link",{key:r,ref:"buttonSave",attrs:{iconF7:"::save"},props:{onPerform:function(e){return t.actions_onAction(e,r)}}})),n.push(e("eb-link",{key:"saveDone",ref:"buttonSaveDone",attrs:{iconF7:"::done"},props:{onPerform:function(e){return t.actions_onSaveDone(e)}}}))}return this.actions_listPopover&&n.push(e("f7-link",{key:"actionsPopover",attrs:{iconF7:"::more-horiz","popover-open":"#".concat(this.actions.popoverId)}})),n},actions_renderPopover:function(){var t,e=this,n=this.$createElement,r=this.actions_listPopover;if(r){var a,o=[],i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(r);try{var s=function(){var t=a.value,r=e.getDetailAction(t);o.push(n("eb-list-item",{key:t.code,attrs:{link:"#","popover-close":!0},props:{onPerform:function(n){return e.actions_onAction(n,t)}}},[n("f7-icon",{slot:"media",attrs:{material:r.icon&&r.icon.material,f7:r.icon&&r.icon.f7}}),n("div",{slot:"title"},[e.getDetailActionTitle(t)])]))};for(i.s();!(a=i.n()).done;)s()}catch(t){i.e(t)}finally{i.f()}t=n("f7-list",{attrs:{inset:!0}},[o])}return n("f7-popover",{attrs:{id:this.actions.popoverId}},[t])}}};function v(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const y={data:function(){return{}},methods:{validate_getInstance:function(){return this.$refs.validate},validate_onSubmit:function(){this.actions_onSubmit()},validate_onPerformValidate:function(t,e){var n,r=this;return(n=regeneratorRuntime.mark((function t(){var n,a,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e&&e.action,a=r.$utils.extend({},r.actions_findAction("write"),{name:n}),o=r.getDetailAction(a),t.next=5,r.$meta.util.performAction({ctx:r,action:o,item:{item:r.base.item,meta:{flowTaskId:r.container.flowTaskId}}});case 5:return i=t.sent,"save"===n&&r.page_setDirty(!1),t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})),function(){var t=this,e=arguments;return new Promise((function(r,a){var o=n.apply(t,e);function i(t){v(o,r,a,i,s,"next",t)}function s(t){v(o,r,a,i,s,"throw",t)}i(void 0)}))})()},validate_onValidateItemChange:function(){"edit"===this.container.mode&&this.page_setDirty(!0)},validate_render:function(){var t=this.$createElement;return this.base_ready?t("eb-validate",{ref:"validate",attrs:{host:{stage:this.base_getCurrentStage(),mode:this.container.mode,flowTaskId:this.container.flowTaskId,detailId:this.container.detailId},readOnly:"edit"!==this.container.mode,auto:!0,data:this.base.item,params:this.base.validateParams},props:{onPerform:this.validate_onPerformValidate},on:{submit:this.validate_onSubmit,validateItemChange:this.validate_onValidateItemChange}}):null}}};function g(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const b={meta:{size:"small"},mixins:[{mixins:[a().prototype.$meta.module.get("a-base").options.mixins.ebDetailActions,s,u,d,{data:function(){return{subnavbar:{enable:!1,render:!1}}},methods:{}},h,y],data:function(){return{}},created:function(){this.index_load()},beforeDestroy:function(){this.$emit("layoutManager:destroy")},methods:{index_load:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.base_init();case 2:return t.next=4,e.base_loadItem();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.layout_prepareConfig();case 9:e.base.ready=!0;case 10:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){g(o,r,a,i,s,"next",t)}function s(t){g(o,r,a,i,s,"throw",t)}i(void 0)}))})()}}}],data:function(){var t=this.$f7route.query;return{container:{mode:t.mode,flowTaskId:parseInt(t.flowTaskId||0),detailId:parseInt(t.detailId||0),detailItemId:parseInt(t.detailItemId||0),layout:t.layout}}},render:function(){var t=arguments[0];return t("eb-page",{attrs:{withSubnavbar:this.subnavbar.enable}},[t("eb-navbar",{attrs:{title:this.page_title,subtitle:this.page_getSubtitle(),"eb-back-link":"Back"}},[this.layout_renderBlock({blockName:"title"}),this.layout.instance&&this.subnavbar.enable&&this.layout_renderBlock({blockName:"subnavbar"})]),this.layout_renderLayout()])}}},450:(t,e,n)=>{var r=n(233),a=n(361)(r);a.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.exports=a},361:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(a[i]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&a[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},233:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r,a=(r=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){s=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(n,r)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[1],i=a[3];if(!i)return o;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),c="/*# ".concat(u," */"),l=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[o].concat(l).concat([c]).join("\n")}return[o].join("\n")}},65:(t,e,n)=>{var r=n(450);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals),(0,n(159).Z)("511ffb7e",r,!0,{})},159:(t,e,n)=>{"use strict";function r(t,e){for(var n=[],r={},a=0;a<e.length;a++){var o=e[a],i=o[0],s={id:t+":"+a,css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}n.d(e,{Z:()=>p});var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},i=a&&(document.head||document.getElementsByTagName("head")[0]),s=null,u=0,c=!1,l=function(){},d=null,f="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,n,a){c=n,d=a||{};var i=r(t,e);return h(i),function(e){for(var n=[],a=0;a<i.length;a++){var s=i[a];(u=o[s.id]).refs--,n.push(u)}for(e?h(i=r(t,e)):i=[],a=0;a<n.length;a++){var u;if(0===(u=n[a]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete o[u.id]}}}}function h(t){for(var e=0;e<t.length;e++){var n=t[e],r=o[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(y(n.parts[a]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var i=[];for(a=0;a<n.parts.length;a++)i.push(y(n.parts[a]));o[n.id]={id:n.id,refs:1,parts:i}}}}function v(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function y(t){var e,n,r=document.querySelector("style["+f+'~="'+t.id+'"]');if(r){if(c)return l;r.parentNode.removeChild(r)}if(m){var a=u++;r=s||(s=v()),e=w.bind(null,r,a,!1),n=w.bind(null,r,a,!0)}else r=v(),e=x.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var g,b=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function w(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,a);else{var o=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function x(t,e){var n=e.css,r=e.media,a=e.sourceMap;if(r&&t.setAttribute("media",r),d.ssrId&&t.setAttribute(f,e.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},990:(t,e,n)=>{var r={"./detail/item.jsx":697};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id=990},142:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=142,t.exports=e},3:t=>{"use strict";t.exports=window.Vue}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";var t;n.r(r),n.d(r,{default:()=>e}),n(65);const e={install:function(e,r){return t?console.error("already installed."):(t=e,r({routes:n(644).Z,store:n(81).Z(t),config:n(4).Z,locales:n(137).Z,components:n(947).Z}))}}})(),window["a-detail"]=r})();
//# sourceMappingURL=front.js.map