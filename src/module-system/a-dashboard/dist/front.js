window["a-dashboard"]=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=5)}([function(t,e,r){"use strict";function n(t,e,r,n,i,o,a,s){var d,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=r,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=d):i&&(d=s?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),d)if(u.functional){u._injectStyles=d;var l=u.render;u.render=function(t,e){return d.call(e),l(t,e)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,d):[d]}return{exports:t,options:u}}r.d(e,"a",(function(){return n}))},function(t,e){t.exports=window.Vue},function(t,e,r){"use strict";e.a=function(t,e){for(var r=[],n=0,i=[5,10,15,20,25,30,33,35,40,45,50,55,60,65,66,70,75,80,85,90,95,100];n<i.length;n++){var o=i[n];r.push({title:"".concat(o,"%"),value:o})}var a={type:"object",properties:{title:{type:"string",ebType:"text",ebTitle:"Title",ebClue:"title",ebCategory:"Basic"},widthSmall:{type:"integer",ebType:"select",ebTitle:"Width(Small)",ebOptions:r,ebClue:"width",ebCategory:"Basic"},widthMedium:{type:"integer",ebType:"select",ebTitle:"Width(Medium)",ebOptions:r,ebClue:"width",ebCategory:"Basic"},widthLarge:{type:"integer",ebType:"select",ebTitle:"Width(Large)",ebOptions:r,ebClue:"width",ebCategory:"Basic"}}},s=t.prototype.$utils.extend({},a,{type:"object",properties:{height:{type:"string",ebType:"text",ebTitle:"Height",ebClue:"height",ebCategory:"Basic"}}}),d={type:"object",properties:{attrTitle:{ebTitle:"Title",ebClue:"title",ebCategory:"Basic"},attrWidthSmall:{ebTitle:"Width(Small)",ebClue:"width",ebCategory:"Basic"},attrWidthMedium:{ebTitle:"Width(Medium)",ebClue:"width",ebCategory:"Basic"},attrWidthLarge:{ebTitle:"Width(Large)",ebClue:"width",ebCategory:"Basic"}}},u=t.prototype.$utils.extend({},d,{type:"object",properties:{attrHeight:{ebTitle:"Height",ebClue:"height",ebCategory:"Basic"}}});return{meta:{widget:{schema:{props:e?a:s,attrs:e?d:u}}},props:{widget:{type:Object},title:{type:String},widthSmall:{type:Number},widthMedium:{type:Number},widthLarge:{type:Number},height:e?void 0:{type:String}},data:function(){return{attrTitle:null,attrWidthSmall:null,attrWidthMedium:null,attrWidthLarge:null,attrHeight:e?void 0:null}},watch:{title:function(){this.attrTitle=this.title},widthSmall:function(){this.attrWidthSmall=this.widthSmall},widthMedium:function(){this.attrWidthMedium=this.widthMedium},widthLarge:function(){this.attrWidthLarge=this.widthLarge},height:e?void 0:function(){this.attrHeight=this.height}},created:function(){this.attrTitle=this.title,this.attrWidthSmall=this.widthSmall,this.attrWidthMedium=this.widthMedium,this.attrWidthLarge=this.widthLarge,e||(this.attrHeight=this.height)},mounted:function(){this.$emit("widgetReal:ready",this)},beforeDestroy:function(){this.$emit("widgetReal:destroy",this)},methods:{getAttrsSchema:function(){return null},getPropsSchema:function(){return null},getPropSchemaExtra:function(t){return null}}}}},function(t,e,r){"use strict";function n(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,d=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){d=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(d)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var o=["attrTitle","attrWidthSmall","attrWidthMedium","attrWidthLarge","attrHeight"],a={props:{dashboard:{type:Object},widget:{type:Object},widgetId:{type:String},propertyName:{type:String},propertyBind:{type:Object}},data:function(){return{bindCurrent:null,optionsSourceWidget:[],optionsPropertyName:{}}},created:function(){this.bindCurrent=this.$meta.util.extend({widgetId:"",propertyName:""},this.propertyBind),this.combineOptionsSourceWidget()},methods:{onInputSourceWidget:function(t){this.bindCurrent.widgetId=t,this.bindCurrent.propertyName="",this.$emit("bind:change",this.bindCurrent)},onInputPropertyName:function(t){this.bindCurrent.propertyName=t,this.$emit("bind:change",this.bindCurrent)},combineOptionsSourceWidget:function(){var t,e=[{title:"",value:""}],r={},i=(this.widget._getPropSchema(this.widget.options,this.propertyName).ebClue||"").split(","),o=n(this.dashboard.widgetsReal);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=a.widgetReal.widget.options.id;if(s!==this.widgetId){var d=this._getOptionsPropertyName(a,i);d.length>1&&(r[s]=d,e.push({title:a.widgetReal.widget.__getPropertyRealValue("title"),value:s}))}}}catch(t){o.e(t)}finally{o.f()}this.optionsSourceWidget=e,this.optionsPropertyName=r},_getOptionsPropertyName:function(t,e){var r=[{title:"",value:""}],n=this.widget._getAttrsSchema(t.widgetReal.widget.options),i=t.widgetReal.getAttrsSchema();return this._combineOptionsSourceWidgetSchema(r,n,i,e),r},_checkAttrValid:function(t,e){return!t||(o.indexOf(e)>-1||t.indexOf(e)>-1)},_combineOptionsSourceWidgetSchema:function(t,e,r,n){var i=this;if(e){var o=function(o){if(!i._checkAttrValid(r,o))return"continue";var a=e.properties[o],s=(a.ebClue||"").split(",");n.filter((function(t){return s.indexOf(t)>-1})).length>0&&t.push({title:i.$text(a.ebTitle),value:o})};for(var a in e.properties)o(a)}}}},s=r(0),d=Object(s.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-list",[r("f7-list-item",{attrs:{smartSelect:"",smartSelectParams:{openIn:"sheet",closeOnSelect:!0},title:t.$text("Source Widget")}},[r("eb-select",{attrs:{name:"sourceWidget",value:t.bindCurrent.widgetId,options:t.optionsSourceWidget},on:{input:t.onInputSourceWidget}})],1),t._v(" "),r("f7-list-item",{attrs:{smartSelect:"",smartSelectParams:{openIn:"sheet",closeOnSelect:!0},title:t.$text("Property Name")}},[r("eb-select",{attrs:{name:"propertyName",value:t.bindCurrent.propertyName,options:t.optionsPropertyName[this.bindCurrent.widgetId]||[]},on:{input:t.onInputPropertyName}})],1)],1)}),[],!1,null,"799426b2",null);e.a=d.exports},function(t,e,r){"use strict";var n=r(2);function i(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,d=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){d=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(d)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a={meta:{global:!0},name:"eb-dashboard-widget-group",mixins:[Object(n.a)(Vue,!0)],render:function(t){return this.__renderRow(t)},props:{root:{type:Boolean},dashboard:{type:Object},widgets:{type:Array}},data:function(){return{dragdropSceneResize:Vue.prototype.$meta.util.nextId("dragdrop"),dragdropScene:Vue.prototype.$meta.util.nextId("dragdrop")}},methods:{__renderRow:function(t){var e,r=[],n=i(this.widgets);try{for(n.s();!(e=n.n()).done;){var o=e.value,a=t("eb-dashboard-widget",{key:o.id,props:{dashboard:this.dashboard,group:this,options:o,dragdropSceneResize:this.dragdropSceneResize,dragdropScene:this.dragdropScene}});r.push(a)}}catch(t){n.e(t)}finally{n.f()}return r.push(t("f7-col",{staticClass:"widget widget-last",props:{resizable:!0,resizableHandler:!1,width:100}})),t("f7-row",{staticClass:"group"},r)},__getWidgetById:function(t){var e=this.widgets.findIndex((function(e){return e.id===t}));return-1===e?[null,-1]:[this.widgets[e],e]},onWidgetAdd:function(t){var e={module:t.module,name:t.name};this.dashboard.__initWidget(e,this.root?"widget":"group"),this.widgets.push(e),this.dashboard.__saveLayoutConfig()}}},s=r(0),d=Object(s.a)(a,void 0,void 0,!1,null,null,null);e.a=d.exports},function(t,e,r){"use strict";r.r(e);var n;r(6);e.default={install:function(t,e){return n?console.error("already installed."):(n=t,e({routes:r(9).default,store:r(11).default(n),config:r(12).default(n),locales:r(13).default,components:r(17).default,mixins:r(16).default(n)}))}}},function(t,e,r){var n=r(7);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,r(24).default)("1237ef40",n,!0,{})},function(t,e,r){(e=r(8)(!0)).push([t.i,".dashboard-settings {\n  position: fixed;\n  bottom: 6px;\n  right: 6px;\n  z-index: 200;\n}\n.dashboard-settings.link {\n  color: var(--f7-grid-resize-handler-bg-color);\n}\n.dashboard .row {\n  justify-content: space-evenly;\n}\n.dashboard .widget.widget-item .widget-inner {\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.dashboard .widget .widget-inner-error {\n  margin: 30px;\n  text-align: center;\n}\n.dashboard .widget.widget-group-empty .group {\n  background: var(--f7-text-editor-border-color);\n  height: 100px;\n}\n.dashboard .widget.widget-group-some:hover > .resize-handler {\n  right: 50%;\n}\n.dashboard .widget.widget-group-some:hover > .widget-toolbar {\n  right: 50%;\n}\n.dashboard .widget .resize-handler {\n  left: auto;\n  right: 0;\n  opacity: 0;\n  transition-duration: 400ms;\n}\n.dashboard .widget .widget-toolbar {\n  position: absolute;\n  top: 0;\n  right: 0;\n  opacity: 0;\n  transition-duration: 400ms;\n  z-index: 200;\n}\n.dashboard .widget .widget-toolbar a.link {\n  color: var(--f7-grid-resize-handler-bg-color);\n}\n.dashboard .widget .widget-toolbar a.link .icon {\n  font-size: 16px;\n}\n.dashboard .widget .widget-toolbar a.link + a.link {\n  margin-left: 8px;\n}\n.dashboard .widget:hover .resize-handler {\n  left: auto;\n  right: 0;\n  opacity: 1;\n}\n.dashboard .widget:hover .widget-toolbar {\n  opacity: 1;\n}\n.dashboard .widget[data-dragdrop-drop] {\n  background: var(--f7-text-editor-border-color);\n}\n.widget-property-edit .value-types {\n  text-align: right;\n}\n.widget-property-edit .value-types label.radio {\n  margin-left: 8px;\n}\n","",{version:3,sources:["/Users/yangjian/Documents/data/cabloy/cabloy-lerna/src/module-system/a-dashboard/front/src/assets/css/module.less","module.less"],names:[],mappings:"AAAA;EACE,eAAA;EACA,WAAA;EACA,UAAA;EACA,YAAA;ACCF;ADCE;EACE,6CAAA;ACCJ;ADGA;EAGI,6BAAA;ACHJ;ADQI;EAEI,gBAAA;EACA,kBAAA;ACPR;ADJA;EAgBM,YAAA;EACA,kBAAA;ACTN;ADYI;EAEI,8CAAA;EACA,aAAA;ACXR;ADeI;EAEI,UAAA;ACdR;ADYI;EAMI,UAAA;ACfR;ADlBA;EAsCM,UAAA;EACA,QAAA;EACA,UAAA;EACA,0BAAA;ACjBN;ADxBA;EA6CM,kBAAA;EACA,MAAA;EACA,QAAA;EACA,UAAA;EACA,0BAAA;EACA,YAAA;AClBN;ADhCA;EAqDQ,6CAAA;AClBR;ADnCA;EAwDU,eAAA;AClBV;ADqBQ;EACE,gBAAA;ACnBV;ADyBI;EAGI,UAAA;EACA,QAAA;EACA,UAAA;ACzBR;ADoBI;EASI,UAAA;AC1BR;AD8BI;EACE,8CAAA;AC5BN;ADiCA;EAEI,iBAAA;AChCJ;AD8BA;EAKM,gBAAA;AChCN",file:"module.less",sourcesContent:[".dashboard-settings {\n  position: fixed;\n  bottom: 6px;\n  right: 6px;\n  z-index: 200;\n\n  &.link {\n    color: var(--f7-grid-resize-handler-bg-color);\n  }\n}\n\n.dashboard {\n\n  .row {\n    justify-content: space-evenly;\n  }\n\n  .widget {\n\n    &.widget-item {\n      .widget-inner {\n        overflow-y: auto;\n        overflow-x: hidden;\n      }\n    }\n\n    .widget-inner-error {\n      margin: 30px;\n      text-align: center;\n    }\n\n    &.widget-group-empty {\n      .group {\n        background: var(--f7-text-editor-border-color);\n        height: 100px;\n      }\n    }\n\n    &.widget-group-some:hover {\n      >.resize-handler {\n        right: 50%;\n      }\n\n      >.widget-toolbar {\n        right: 50%;\n      }\n    }\n\n    .resize-handler {\n      left: auto;\n      right: 0;\n      opacity: 0;\n      transition-duration: 400ms;\n    }\n\n    .widget-toolbar {\n      position: absolute;\n      top: 0;\n      right: 0;\n      opacity: 0;\n      transition-duration: 400ms;\n      z-index: 200;\n\n      a.link {\n        color: var(--f7-grid-resize-handler-bg-color);\n\n        .icon {\n          font-size: 16px;\n        }\n\n        &+a.link {\n          margin-left: 8px;\n        }\n      }\n\n    }\n\n    &:hover {\n\n      .resize-handler {\n        left: auto;\n        right: 0;\n        opacity: 1;\n      }\n\n      .widget-toolbar {\n        opacity: 1;\n      }\n    }\n\n    &[data-dragdrop-drop] {\n      background: var(--f7-text-editor-border-color);\n    }\n  }\n}\n\n.widget-property-edit {\n  .value-types {\n    text-align: right;\n\n    label.radio {\n      margin-left: 8px;\n    }\n  }\n}\n",".dashboard-settings {\n  position: fixed;\n  bottom: 6px;\n  right: 6px;\n  z-index: 200;\n}\n.dashboard-settings.link {\n  color: var(--f7-grid-resize-handler-bg-color);\n}\n.dashboard .row {\n  justify-content: space-evenly;\n}\n.dashboard .widget.widget-item .widget-inner {\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.dashboard .widget .widget-inner-error {\n  margin: 30px;\n  text-align: center;\n}\n.dashboard .widget.widget-group-empty .group {\n  background: var(--f7-text-editor-border-color);\n  height: 100px;\n}\n.dashboard .widget.widget-group-some:hover > .resize-handler {\n  right: 50%;\n}\n.dashboard .widget.widget-group-some:hover > .widget-toolbar {\n  right: 50%;\n}\n.dashboard .widget .resize-handler {\n  left: auto;\n  right: 0;\n  opacity: 0;\n  transition-duration: 400ms;\n}\n.dashboard .widget .widget-toolbar {\n  position: absolute;\n  top: 0;\n  right: 0;\n  opacity: 0;\n  transition-duration: 400ms;\n  z-index: 200;\n}\n.dashboard .widget .widget-toolbar a.link {\n  color: var(--f7-grid-resize-handler-bg-color);\n}\n.dashboard .widget .widget-toolbar a.link .icon {\n  font-size: 16px;\n}\n.dashboard .widget .widget-toolbar a.link + a.link {\n  margin-left: 8px;\n}\n.dashboard .widget:hover .resize-handler {\n  left: auto;\n  right: 0;\n  opacity: 1;\n}\n.dashboard .widget:hover .widget-toolbar {\n  opacity: 1;\n}\n.dashboard .widget[data-dragdrop-drop] {\n  background: var(--f7-text-editor-border-color);\n}\n.widget-property-edit .value-types {\n  text-align: right;\n}\n.widget-property-edit .value-types label.radio {\n  margin-left: 8px;\n}\n"]}]),t.exports=e},function(t,e,r){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(a=n,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(d," */")),o=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[r].concat(o).concat([i]).join("\n")}var a,s,d;return[r].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var d=[].concat(t[s]);n&&i[d[0]]||(r&&(d[2]?d[2]="".concat(r," and ").concat(d[2]):d[2]=r),e.push(d))}},e}},function(t,e,r){"use strict";function n(t){return r(10)("./".concat(t,".vue")).default}r.r(e),e.default=[{path:"dashboard",component:n("dashboard")},{path:"dashboard/settings",component:n("dashboardSettings")},{path:"widget/add",component:n("widgetAdd")},{path:"widget/properties",component:n("widgetProperties")},{path:"widget/property/edit",component:n("widgetPropertyEdit")},{path:"widget/property/bind/add",component:n("widgetPropertyBindAdd")}]},function(t,e,r){var n={"./dashboard.vue":20,"./dashboardSettings.vue":18,"./widgetAdd.vue":19,"./widgetProperties.vue":21,"./widgetPropertyBindAdd.vue":22,"./widgetPropertyEdit.vue":23};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=10},function(t,e,r){"use strict";r.r(e),e.default=function(t){return{state:{},getters:{},mutations:{},actions:{}}}},function(t,e,r){"use strict";r.r(e),e.default=function(t){return{profile:{default:{root:{widgets:[{module:"a-dashboard",name:"widgetAbout"}]}},meta:{widget:{properties:{title:{type:1,value:""},widthSmall:{type:1,value:100},widthMedium:{type:1,value:50},widthLarge:{type:1,value:25},height:{type:1,value:"auto"}}},group:{properties:{title:{type:1,value:""},widthSmall:{type:1,value:100},widthMedium:{type:1,value:100},widthLarge:{type:1,value:100},height:{type:1,value:"auto"}}}}}}}},function(t,e,r){"use strict";r.r(e),e.default={"en-us":r(14).default,"zh-cn":r(15).default}},function(t,e,r){"use strict";r.r(e),e.default={Profile2:"Profile",CabloyAboutTip1:"CabloyJS - The Ultimate NodeJS Full Stack Business Development Platform",CabloyAboutTip2:"The frontend of CabloyJS uses VueJS + Framework7 + Webpack, while the backend uses KoaJS + EggJS, and the database uses MySQL",CabloyAboutTip3:"Vertically, CabloyJS make the frontend and the backend work together to form an organic wholeness, so as to avoid working independently between them",CabloyAboutTip4:"Horizontally, CabloyJS has refined a code organization mode called “business modularity”, which could offer a powerful basic framework for the continually growing business demands of large-scale web applications through different module combinations"}},function(t,e,r){"use strict";r.r(e),e.default={Basic:"基本",Clone:"克隆",Dashboard:"仪表盘",Delete:"删除",Default:"缺省",General:"通用",Group:"组",Height:"高度",Settings:"设置",Profile2:"配置",Property:"属性",Properties:"属性",Title:"标题",Static:"静态",Dynamic:"动态",Documentation:"文档",Community:"社区",CabloyAboutTip1:"CabloyJS - 是一款顶级NodeJS全栈业务开发框架",CabloyAboutTip2:"前端采用VueJS + Framework7 + Webpack，后端采用KoaJS + EggJS，数据库采用MySQL",CabloyAboutTip3:"在纵向上，将前端和后端打通，形成一个有机的整体，避免前端和后端各自为政的状况",CabloyAboutTip4:"在横向上，提炼出“业务模块化”的代码组织模式，通过不同的模块组合实现业务开发，也为大型Web应用不断增长的业务需求提供有力的基础架构","About CabloyJS":"关于CabloyJS","Add Group":"添加组","Add Widget":"添加部件","Add Data Source":"添加数据源","Data Source":"数据源","Save As":"保存为","New Profile":"新建配置","Please specify the profile name":"请指定配置名称","Widget Not Found":"部件未发现","Source Widget Not Found":"源部件未发现","Width(Small)":"宽度(小页面)","Width(Medium)":"宽度(中页面)","Width(Large)":"宽度(大页面)","Source Widget":"源部件","Property Name":"属性名"}},function(t,e,r){"use strict";r.r(e);var n=r(2);e.default=function(t){return{ebDashboardWidgetBase:Object(n.a)(t,!1)}}},function(t,e,r){"use strict";r.r(e);r(1);var n={render:function(t){var e=this,r=[];return r.push(t("eb-link",{attrs:{iconMaterial:"remove"},props:{onPerform:function(){e.onWidgetDelete(e.widget)}}})),r.push(t("f7-link",{attrs:{iconMaterial:"settings"},on:{click:function(){e.onWidgetProperties(e.widget)}}})),r.push(t("f7-link",{attrs:{iconMaterial:"open_with"},directives:[{name:"eb-dragdrop",value:{scene:this.dragdropScene,widgetId:this.widget.id,onDragStart:this.onDragStart,onDragElement:this.onDragElement,onDropElement:this.onDropElement,onDropLeave:this.onDropLeave,onDropEnter:this.onDropEnter,onDragEnd:this.onDragEnd,onDragDone:this.onDragDone}}]})),t("div",{staticClass:""},r)},props:{widget:{type:Object},dragdropScene:{type:String},onDragStart:{type:Function},onDragElement:{type:Function},onDropElement:{type:Function},onDropLeave:{type:Function},onDropEnter:{type:Function},onDragEnd:{type:Function},onDragDone:{type:Function},onWidgetDelete:{type:Function},onWidgetProperties:{type:Function}},data:function(){return{}},methods:{}},i=r(0),o=Object(i.a)(n,void 0,void 0,!1,null,null,null).exports;function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=u(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function u(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var c=[5,10,15,20,25,30,33,35,40,45,50,55,60,65,66,70,75,80,85,90,95,100],p={meta:{global:!0},name:"eb-dashboard-widget",components:{widgetToolbar:o},render:function(t){var e=[],r=t("widget-toolbar",{staticClass:"widget-toolbar",props:{widget:this.options,dragdropScene:this.dragdropScene,onDragStart:this.onDragStart,onDragElement:this.onDragElement,onDropElement:this.onDropElement,onDropLeave:this.onDropLeave,onDropEnter:this.onDropEnter,onDragEnd:this.onDragEnd,onDragDone:this.onDragDone,onWidgetDelete:this.onWidgetDelete,onWidgetProperties:this.onWidgetProperties}});e.push(r);var n=t("span",{staticClass:"resize-handler",directives:[{name:"eb-dragdrop",value:{scene:this.dragdropSceneResize,resizable:!0,widgetId:this.options.id,onDragStart:this.onDragStartResizable,onDragMove:this.onDragMoveResizable}}]});if(e.push(n),this.options.group){var i={widget:this,root:!1,dashboard:this.dashboard,widgets:this.options.widgets};this.__combineWidgetProps(i),e.push(t("eb-dashboard-widget-group",{ref:"group",props:i,on:{"widgetReal:ready":this.__onWidgetRealReady,"widgetReal:destroy":this.__onWidgetRealDestroy}}))}else if(!this.errorMessage&&this.ready){var o={widget:this};this.__combineWidgetProps(o),e.push(t(this.__getFullName(),{staticClass:"widget-inner",props:o,style:{height:this.__getPropertyRealValue("height")},on:{"widgetReal:ready":this.__onWidgetRealReady,"widgetReal:destroy":this.__onWidgetRealDestroy}}))}else this.errorMessage&&e.push(t("div",{staticClass:"widget-inner widget-inner-error",domProps:{innerText:this.errorMessage},style:{height:this.__getPropertyRealValue("height")}}));return t("f7-col",{staticClass:this.__getClassName(),attrs:{"data-widget-id":this.options.id},props:{resizable:!0,resizableHandler:!1,width:this.__getPropertyRealValue("widthSmall"),medium:this.__getPropertyRealValue("widthMedium"),large:this.__getPropertyRealValue("widthLarge")}},e)},props:{dashboard:{type:Object},group:{type:Object},options:{type:Object},dragdropSceneResize:{type:String},dragdropScene:{type:String}},data:function(){return{ready:!1,errorMessage:null}},created:function(){this.__init()},beforeDestroy:function(){this.$emit("widget:destroy")},methods:{__init:function(){var t=this;this.options.group||this.$meta.module.use(this.options.module,(function(e){var r=t.__getFullName(),n=e.options.components[t.options.name];n?(n=t.$meta.util.createComponentOptions(n),t.$options.components[r]=n,t.ready=!0,t.errorMessage=null):(t.errorMessage="".concat(t.$text("Widget Not Found"),": ").concat(r),t.ready=!1)}))},__onWidgetRealReady:function(t){this.dashboard.__onWidgetRealReady(this.options.id,t)},__onWidgetRealDestroy:function(t){this.dashboard.__onWidgetRealDestroy(this.options.id,t)},__getBindValue:function(t){if(t&&t.widgetId&&t.propertyName){var e=this.dashboard.__getWidgetRealById(t.widgetId);if(e)return e[t.propertyName]}},__getBindsValue:function(t){var e,r=[],n=d(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i.widgetId&&i.propertyName){var o=this.__getBindValue(i);r.push({id:i.id,data:o})}}}catch(t){n.e(t)}finally{n.f()}return r},__getPropertyReal2:function(t,e){return t.properties[e]},__getPropertyReal:function(t){return this.__getPropertyReal2(this.options,t)},__convertPropertyRealValue:function(t,e,r){if(null==r)return r;var n=this._getPropSchema(t,e);if(!n)return r;switch(n.type){case"number":return Number(r);case"integer":return parseInt(r);case"string":return r.toString();case"boolean":return"true"===r||"false"!==r&&Boolean(r);case"array":return"string"==typeof r?r.split(","):r;default:return r}},__getPropertyRealValue2:function(t,e){var r,n=this.__getPropertyReal2(t,e);if(n)return 1===n.type?r=n.value:2===n.type&&(n.bind?r=this.__getBindValue(n.bind):n.binds&&(r=this.__getBindsValue(n.binds))),"title"!==e||r||(r=t.group?this.$text("Group"):this.dashboard.__findWidgetStock(t).titleLocale),r=this.__convertPropertyRealValue(t,e,r)},__getPropertyRealValue:function(t){return this.__getPropertyRealValue2(this.options,t)},__setPropertyRealValue2:function(t,e,r){r||(r={}),"object"!==s(r)&&(r={type:1,value:r}),r.type||(r.type=1);var n=t.properties[e]||{},i=this.$meta.util.extend({},n,r);return this.$set(t.properties,e,i),this.dashboard.__saveLayoutConfig(),i},__setPropertyRealValue:function(t,e){return this.__setPropertyRealValue2(this.options,t,e)},_getPropSchema:function(t,e){var r=this._getPropsSchema(t);if(r){var n=r.properties[e];if(n)return n}return null},_getAttrSchema:function(t,e){var r=this._getAttrsSchema(t);if(r){var n=r.properties[e];if(n)return n}return null},_getAttrsSchema:function(t){if(t.group)return this.$options.components["eb-dashboard-widget-group"].options.meta.widget.schema.attrs;var e=this.$options.components[this.__getFullName(t)];return e&&e.meta&&e.meta.widget&&e.meta.widget.schema&&e.meta.widget.schema.attrs||null},_getPropsSchema:function(t){if(t.group)return this.$options.components["eb-dashboard-widget-group"].options.meta.widget.schema.props;var e=this.$options.components[this.__getFullName(t)];return e&&e.meta&&e.meta.widget&&e.meta.widget.schema&&e.meta.widget.schema.props||null},_getPropsSchemaCategoryGrouping:function(t){var e=this._getPropsSchema(t);if(!e)return[null,null];var r={};for(var n in e.properties){var i=e.properties[n],o=i.ebCategory||"";r[o]||(r[o]={}),r[o][n]=i}return[e,r]},__combineWidgetProps:function(t){var e=this._getPropsSchema(this.options);this.__combineWidgetPropsSchema(t,e)},__combineWidgetPropsSchema:function(t,e){if(e)for(var r in e.properties)t[r]=this.__getPropertyRealValue(r)},_getBindSourceTitle:function(t){return t.widgetReal.widget.__getPropertyRealValue("title")},_getBindSourcePropertyTitle:function(t,e){var r=this._getAttrSchema(t.widgetReal.widget.options,e);return r?this.$text(r.ebTitle):""},_getBindSourceTitleAndPropertyTitle:function(t,e){var r=a(this.dashboard.__findWidgetRealById(t),1)[0];return r?[this._getBindSourceTitle(r),this._getBindSourcePropertyTitle(r,e)]:["",""]},__getClassName:function(){return this.options.group?"widget widget-id-".concat(this.options.id," widget-group ").concat(0===this.options.widgets.length?"widget-group-empty":"widget-group-some"):"widget widget-id-".concat(this.options.id," widget-item widget-name-").concat(this.options.module,"-").concat(this.options.name)},__getFullName:function(t){return t||(t=this.options),"".concat(t.module,":").concat(t.name)},onDragStartResizable:function(t){t.$el;var e=t.context;t.dragElement;return{size:{width:this.$$(this.group.$el).width()},tooltip:this.__getTooltipResizable(e)}},onDragMoveResizable:function(t){t.$el;var e=t.context,r=t.diff,n=this.getViewSize(),i=n.replace(n[0],n[0].toUpperCase()),o="width".concat(i),s=parseInt(100*r.percent.x);if(0!==s){var d=s<0,u=a(this.group.__getWidgetById(e.widgetId),2),l=u[0],c=u[1],p=this.__getPropertyRealValue2(l,o),h=p+s;if(!(h=this.__getPreferWidth(p,h,!1,d)))return!1;if(p===h)return!1;this.__setPropertyRealValue2(l,o,h),this.dashboard.__saveLayoutConfig();var g=this.__getPropertyRealValue2(l,o),f=this.group.widgets[c+1];if(f){var m=this.__getPropertyRealValue2(f,o),y=m-(h-p);(y=this.__getPreferWidth(m,y,!0,!d))&&this.__setPropertyRealValue2(f,o,y),g="".concat(g,":").concat(this.__getPropertyRealValue2(f,o))}return{eaten:!0,tooltip:g}}},__getTooltipResizable:function(t){var e,r=this.getViewSize(),n=r.replace(r[0],r[0].toUpperCase()),i="width".concat(n),o=a(this.group.__getWidgetById(t.widgetId),2),s=o[0],d=o[1];e=this.__getPropertyRealValue2(s,i);var u=this.group.widgets[d+1];return u&&(e="".concat(e,":").concat(this.__getPropertyRealValue2(u,i))),e},getViewSize:function(){return this.$view.size},__getPreferWidth:function(t,e,r,n){for(var i=r?5:2,o=0;o<i;o++){var a,s=d(c);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(n&&u<t&&e-u<=o)return u;if(!n&&u>t&&u-e<=o)return u}}catch(t){s.e(t)}finally{s.f()}}return null},onDragStart:function(t){t.$el;var e=t.context,r=(t.dragElement,a(this.group.__getWidgetById(e.widgetId),2)),n=r[0];r[1];return{tooltip:"".concat(this.__getPropertyRealValue2(n,"title"))}},onDragElement:function(t){t.$el;var e=t.context;return this.$$(".widget-id-".concat(e.widgetId))},onDropElement:function(t){t.$el;var e=t.context,r=(t.dragElement,t.dragContext),n=a(this.group.__getWidgetById(e.widgetId),2),i=n[0],o=n[1],s=a(this.group.__getWidgetById(r.widgetId),2),d=(s[0],s[1]);return o===d||o==d+1?null:{dropElement:this.$$(".widget-id-".concat(e.widgetId)),tooltip:this.__getPropertyRealValue2(i,"title")}},onDropLeave:function(t){t.$el,t.context,t.dropElement},onDropEnter:function(t){t.$el,t.context,t.dropElement},onDragEnd:function(t){t.$el,t.context,t.dragElement},onDragDone:function(t){t.$el;var e=t.context,r=(t.dragElement,t.dropElement,t.dropContext),n=a(this.group.__getWidgetById(e.widgetId),2),i=n[0],o=n[1];this.group.widgets.splice(o,1);var s=a(this.group.__getWidgetById(r.widgetId),2),d=(s[0],s[1]);this.group.widgets.splice(d,0,i),this.dashboard.__saveLayoutConfig()},onWidgetDelete:function(t){var e=this;this.$view.dialog.confirm().then((function(){var r=a(e.group.__getWidgetById(t.id),2),n=(r[0],r[1]);-1!==n&&(e.group.widgets.splice(n,1),e.dashboard.__saveLayoutConfig())})).catch((function(){}))},onWidgetProperties:function(t){this.$view.navigate("/a/dashboard/widget/properties?widgetId=".concat(this.options.id),{scene:"sidebar",sceneOptions:{side:"right",name:"properties",title:"Properties"},context:{params:{dashboard:this.dashboard,widget:this}}})},onWidgetsAdd:function(t){var e,r=d(t.widgets);try{for(r.s();!(e=r.n()).done;){var n=e.value;this.$refs.group.onWidgetAdd(n)}}catch(t){r.e(t)}finally{r.f()}}}},h=Object(i.a)(p,void 0,void 0,!1,null,null,null).exports,g=r(4);var f={install:function(t){return{mixins:[t.prototype.$meta.module.get("a-dashboard").options.mixins.ebDashboardWidgetBase]}}},m=Object(i.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-card",[r("f7-card-header",[t._v(t._s(t.$text("About CabloyJS")))]),t._v(" "),r("f7-card-content",[r("div",{staticClass:"alert-info"},[t._v(t._s(t.$text("CabloyAboutTip1")))]),t._v(" "),r("p",[t._v(t._s(t.$text("CabloyAboutTip2")))]),t._v(" "),r("p",[t._v(t._s(t.$text("CabloyAboutTip3")))]),t._v(" "),r("p",[t._v(t._s(t.$text("CabloyAboutTip4")))])]),t._v(" "),r("f7-card-footer",[r("f7-link",{attrs:{external:"",target:"_blank",href:"https://cabloy.com"}},[t._v(t._s(t.$text("Documentation")))]),t._v(" "),r("f7-link",{attrs:{external:"",target:"_blank",href:"https://community.cabloy.com"}},[t._v(t._s(t.$text("Community")))]),t._v(" "),r("f7-link",{attrs:{external:"",target:"_blank",href:"https://github.com/zhennann/cabloy"}},[t._v("GitHub")])],1)],1)}),[],!1,null,null,null).exports;e.default={ebDashboardWidget:h,ebDashboardWidgetGroup:g.a,widgetAbout:m}},function(t,e,r){"use strict";r.r(e);var n=r(1),i={mixins:[r.n(n).a.prototype.$meta.module.get("a-components").options.mixins.ebPageContext],data:function(){return{profileIdCurrent:parseInt(this.$f7route.query.profileId||0),profiles:null}},computed:{dashboard:function(){return this.contextParams.dashboard},user:function(){return this.$store.state.auth.user}},created:function(){this.__init()},mounted:function(){this.dashboard.$on("dashboard:destroy",this.onDashboardDestroy)},beforeDestroy:function(){this.dashboard.$off("dashboard:destroy",this.onDashboardDestroy)},methods:{__init:function(){var t=this,e=[{id:0,profileName:this.$text("Default")}];1===this.user.op.anonymous?this.profiles=e:this.$api.post("profile/list").then((function(r){t.profiles=e.concat(r)}))},onDashboardDestroy:function(){this.$view.close()},onPerformAddGroup:function(){this.dashboard.onGroupAdd()},onPerformAddWidget:function(){var t=this;this.$view.navigate("/a/dashboard/widget/add",{target:"_self",context:{callback:function(e,r){200===e&&t.dashboard.onWidgetsAdd(r)}}})},onPerformNewProfile:function(){var t=this;return this.$view.dialog.prompt(this.$text("Please specify the profile name")).then((function(e){if(e){var r={profileName:e,profileValue:null};return t.$api.post("profile/create",{data:r}).then((function(e){return r.id=e.profileId,t.profiles.push(r),!0}))}}))},onPerformClone:function(t,e){var r=this;if(e.id===this.profileIdCurrent)return this.$view.dialog.prompt(this.$text("Please specify the profile name")).then((function(e){if(e){var n={profileName:e,profileValue:JSON.stringify(r.dashboard.profile)};return r.$api.post("profile/create",{data:n}).then((function(e){return n.id=e.profileId,r.profiles.push(n),r.$meta.util.swipeoutClose(t.target),!0}))}}))},onPerformDelete:function(t,e){var r=this;if(0!==e.id)return this.$view.dialog.confirm().then((function(){return r.$api.post("profile/delete",{profileId:e.id}).then((function(){var n=r.__getProfileIndexById(e.id);return r.profiles.splice(n,1),r.$meta.util.swipeoutClose(t.target),!0}))}))},onPerformProfile:function(t,e){var r=this,n=e.id;if(this.profileIdCurrent!==n)return this.dashboard.__switchProfile(n).then((function(){r.dashboard.__saveProfileId(),r.profileIdCurrent=n}))},__getProfileIndexById:function(t){return this.profiles.findIndex((function(e){return e.id===t}))},__getProfileTitle:function(t){return this.profileIdCurrent===t.id?"".concat(t.profileName," ⭐"):t.profileName}}},o=r(0),a=Object(o.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("eb-page",[r("eb-navbar",{attrs:{title:t.$text("Profile2"),"eb-back-link":"Back"}},[r("f7-nav-right",[1!==t.user.op.anonymous?r("eb-link",{attrs:{iconMaterial:"add",onPerform:t.onPerformNewProfile}}):t._e()],1)],1),t._v(" "),r("f7-list",t._l(t.profiles,(function(e){return r("eb-list-item",{key:e.id,attrs:{title:e.profileName,radio:"",checked:e.id===t.profileIdCurrent,context:e,onPerform:t.onPerformProfile,swipeout:""}},[r("eb-context-menu",[r("div",{attrs:{slot:"right"},slot:"right"},[1!==t.user.op.anonymous&&e.id===t.profileIdCurrent?r("div",{attrs:{color:"orange",context:e,onPerform:t.onPerformClone}},[t._v(t._s(t.$text("Clone")))]):t._e(),t._v(" "),1!==t.user.op.anonymous&&e.id>0&&e.id!==t.profileIdCurrent?r("div",{attrs:{color:"red",context:e,onPerform:t.onPerformDelete}},[t._v(t._s(t.$text("Delete")))]):t._e()])])],1)})),1),t._v(" "),r("f7-toolbar",{attrs:{"bottom-md":""}},[r("eb-button",{attrs:{onPerform:t.onPerformAddGroup}},[t._v(t._s(t.$text("Add Group")))]),t._v(" "),r("eb-button",{attrs:{onPerform:t.onPerformAddWidget}},[t._v(t._s(t.$text("Add Widget")))])],1)],1)}),[],!1,null,null,null);e.default=a.exports},function(t,e,r){"use strict";r.r(e);var n=r(1),i={mixins:[r.n(n).a.prototype.$meta.module.get("a-components").options.mixins.ebPageContext],data:function(){return{widgetsSelected:[],widgetsUser:null}},created:function(){var t=this;this.$store.dispatch("a/base/getUserWidgets").then((function(e){t.widgetsUser=e}))},methods:{onPerformDone:function(){0!==this.widgetsSelected.length&&(this.contextCallback(200,{widgets:this.widgetsSelected}),this.$f7router.back())},onWidgetChange:function(t,e){var r=this._getWidgetIndex(e);-1===r?this.widgetsSelected.push({module:e.module,name:e.name}):this.widgetsSelected.splice(r,1)},_widgetFullName:function(t){return"".concat(t.module,":").concat(t.name)},_getWidgetIndex:function(t){var e=this;return this.widgetsSelected.findIndex((function(r){return e._widgetFullName(t)===e._widgetFullName(r)}))},getWidgetChecked:function(t){return this._getWidgetIndex(t)>-1}}},o=r(0),a=Object(o.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("eb-page",[r("eb-navbar",{attrs:{title:t.$text("Add Widget"),"eb-back-link":"Back"}},[r("f7-nav-right",[t.widgetsSelected.length>0?r("eb-link",{attrs:{iconMaterial:"done",onPerform:t.onPerformDone}}):t._e()],1)],1),t._v(" "),t.widgetsUser?r("f7-list",t._l(t.widgetsUser,(function(e){return r("eb-list-item",{key:t._widgetFullName(e),attrs:{checkbox:"",checked:t.getWidgetChecked(e),title:e.titleLocale},on:{change:function(r){return t.onWidgetChange(r,e)}}})})),1):t._e()],1)}),[],!1,null,null,null);e.default=a.exports},function(t,e,r){"use strict";r.r(e);var n=r(4),i=r(1),o=r.n(i);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=d(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function d(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var l={meta:{title:"Dashboard"},components:{widgetGroup:n.a},render:function(t){var e=[];return this.ready&&(e.push(t("widget-group",{ref:"group",props:{root:!0,dashboard:this,widgets:this.profile.root.widgets}})),e.push(t("f7-link",{staticClass:"dashboard-settings",attrs:{iconMaterial:"settings"},on:{click:this.onClickSettings}}))),t("eb-page",{staticClass:"dashboard dashboard-profile-".concat(this.profileId)},e)},data:function(){return{ready:!1,widgetsAll:null,profile:null,profileId:0,widgetsReal:[]}},created:function(){this.__init()},beforeDestroy:function(){this.$emit("dashboard:destroy")},methods:{__init:function(){var t=this;this.$store.dispatch("a/base/getWidgets").then((function(e){t.widgetsAll=e,t.$store.dispatch("a/base/getLayoutConfig","a-dashboard").then((function(e){var r=e.profileId||0;t.__switchProfile(r).then((function(){t.ready=!0}))}))}))},__saveProfileId:function(){this.$store.commit("a/base/setLayoutConfigKey",{module:"a-dashboard",key:"profileId",value:this.profileId})},__saveLayoutConfig:o.a.prototype.$meta.util.debounce((function(){var t=this,e=this.$meta.util.extend({},this.profile);0===this.profileId?(this.$store.commit("a/base/setLayoutConfigKey",{module:"a-dashboard",key:"profile",value:e}),this.__saveProfileId()):this.$api.post("profile/save",{profileId:this.profileId,profileValue:e}).then((function(){t.__saveProfileId()}))}),1e3),__onTitleChange:function(t){this.$view.$emit("view:title",{title:t})},__switchProfile:function(t){var e=this;return new Promise((function(r,n){0!==t?e.$api.post("profile/item",{profileId:t}).then((function(n){if(!n)throw new Error("Profile not found!");var i;return i=n.profileValue?JSON.parse(n.profileValue):e.__getProfileEmpty(),e.profile=i,e.profileId=t,e.__onTitleChange("".concat(e.$text("Dashboard"),"-").concat(n.profileName)),r()})).catch((function(t){return n(t)})):e.$store.dispatch("a/base/getLayoutConfig","a-dashboard").then((function(n){var i;return i=n.profile?e.$meta.util.extend({},n.profile):e.__getProfileDefault(),e.profile=i,e.profileId=t,e.__onTitleChange(e.$text("Dashboard")),r()})).catch((function(t){return n(t)}))}))},__getProfileDefault:function(){var t=this.$config.profile.default,e=this.$meta.util.extend({},t);e.root.id||(e.root.id=this.__generateUUID());var r,n=s(e.root.widgets);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.__initWidget(i,"widget")}}catch(t){n.e(t)}finally{n.f()}return e},__getProfileEmpty:function(){return{root:{id:this.__generateUUID(),widgets:[]}}},__initWidget:function(t,e){t.id||(t.id=this.__generateUUID()),t.properties||(t.properties=this.$meta.util.extend({},this.$config.profile.meta[e].properties))},__findWidgetStock:function(t){return t.group?null:this.widgetsAll?this.widgetsAll[t.module][t.name]:null},onClickSettings:function(){this.$view.navigate("/a/dashboard/dashboard/settings?profileId=".concat(this.profileId),{scene:"sidebar",sceneOptions:{side:"right",name:"profile",title:"Profile2"},context:{params:{dashboard:this}}})},onWidgetsAdd:function(t){var e,r=s(t.widgets);try{for(r.s();!(e=r.n()).done;){var n=e.value;this.$refs.group.onWidgetAdd(n)}}catch(t){r.e(t)}finally{r.f()}},onGroupAdd:function(){var t={group:!0,widgets:[]};this.__initWidget(t,"widget"),this.profile.root.widgets.push(t),this.__saveLayoutConfig()},__generateUUID:function(){var t=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(16)}))},__onWidgetRealReady:function(t,e){this.__onWidgetRealDestroy(),this.widgetsReal.push({widgetId:t,widgetReal:e})},__onWidgetRealDestroy:function(t,e){var r=a(this.__findWidgetRealById(t),2),n=(r[0],r[1]);n>-1&&this.widgetsReal.splice(n,1)},__findWidgetRealById:function(t){var e=this.widgetsReal.findIndex((function(e){return e.widgetId===t}));return-1===e?[null,-1]:[this.widgetsReal[e],e]},__getWidgetRealById:function(t){var e=a(this.__findWidgetRealById(t),1)[0];return e?e.widgetReal:null}}},c=r(0),p=Object(c.a)(l,void 0,void 0,!1,null,null,null);e.default=p.exports},function(t,e,r){"use strict";r.r(e);var n=r(1);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=r.n(n).a.prototype.$meta.module.get("a-components").options.mixins.ebPageContext,d=["title","widthSmall","widthMedium","widthLarge","height"],u={mixins:[s],data:function(){return{widgetId:this.$f7route.query.widgetId,propsSchemaDynamic:null,widget:null,widgetReal:null}},computed:{dashboard:function(){return this.contextParams.dashboard}},created:function(){this.widget=this.contextParams.widget,this.widgetReal=this.dashboard.__getWidgetRealById(this.widget.options.id),this.propsSchemaDynamic=this.widgetReal.getPropsSchema()},mounted:function(){this.widget.$on("widget:destroy",this.onWidgetDestroy),this.widgetReal.$on("widget:propsSchemaChange",this.onWidgetPropsSchemaChange)},beforeDestroy:function(){this.widget.$off("widget:destroy",this.onWidgetDestroy),this.widgetReal.$off("widget:propsSchemaChange",this.onWidgetPropsSchemaChange),this.widget=null,this.widgetReal=null},render:function(t){var e=[];return e.push(this._renderNavbar(t)),e.push(this._renderList(t)),this.widget.options.group&&e.push(this._renderToolbar(t)),t("eb-page",{},e)},methods:{onWidgetPropsSchemaChange:function(){this.propsSchemaDynamic=this.widgetReal.getPropsSchema()},onWidgetDestroy:function(){this.$view.close()},onPerformAddWidget:function(){var t=this;this.$view.navigate("/a/dashboard/widget/add",{target:"_self",context:{callback:function(e,r){200===e&&t.widget.onWidgetsAdd(r)}}})},onPerformPropertyEdit:function(t,e){var r=e.propertySchema,n=e.propertyName;this.$view.navigate("/a/dashboard/widget/property/edit?widgetId=".concat(this.widgetId,"&propertyName=").concat(n),{target:"_self",context:{params:{dashboard:this.dashboard,widget:this.widget,propertySchema:r},callback:function(t,e){}}})},_getSchemaData:function(t){var e={};for(var r in t.properties){t.properties[r];var n=this.widget.__getPropertyRealValue(r);n&&(Array.isArray(n)||"object"===a(n))?e[r]="➡️":e[r]=n}return e},_getPageTitle:function(){return"".concat(this.$text("Properties"),": ").concat(this.widget.__getPropertyRealValue("title"))},_renderNavbar:function(t){return t("eb-navbar",{props:{title:this._getPageTitle(),ebBackLink:"Back"}})},_renderToolbar:function(t){var e=[];return e.push(t("div")),e.push(t("eb-button",{props:{text:this.$text("Add Widget"),onPerform:this.onPerformAddWidget}})),t("f7-toolbar",{props:{bottomMd:!0}},e)},_checkPropertyValid:function(t){return!this.propsSchemaDynamic||(d.indexOf(t)>-1||this.propsSchemaDynamic.indexOf(t)>-1)},_renderListGroup:function(t){var e=t.c,r=t.title,n=t.opened,i=t.propsSchema,o=[];for(var a in i)if(this._checkPropertyValid(a)){var s=i[a],d=e("eb-list-item-validate",{props:{dataKey:a}}),u=e("eb-link",{staticClass:"no-ripple display-block",props:{context:{propertySchema:s,propertyName:a},onPerform:this.onPerformPropertyEdit}},[d]);o.push(u)}var l=e("f7-list",{props:{inset:!0}},o),c=e("f7-accordion-content",{},[l]);return e("f7-list-item",{props:{title:this.$text(r),accordionItem:!0,accordionItemOpened:n}},[c])},_renderList:function(t){var e=i(this.widget._getPropsSchemaCategoryGrouping(this.widget.options),2),r=e[0],n=e[1],o=1===Object.keys(n).length,a=this._getSchemaData(r),s=[];for(var d in n)s.push(this._renderListGroup({c:t,title:d||"General",opened:"Basic"!==d||o,propsSchema:n[d]}));var u=t("eb-list",{props:{noHairlinesMd:!0,accordionList:!0}},s);return t("eb-validate",{ref:"validate",props:{auto:!1,readOnly:!0,data:a,meta:{schema:r}}},[u])}}},l=r(0),c=Object(l.a)(u,void 0,void 0,!1,null,null,null);e.default=c.exports},function(t,e,r){"use strict";r.r(e);var n=r(3),i=r(1),o={mixins:[r.n(i).a.prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{widgetPropertyEditDynamic:n.a},data:function(){return{widgetId:this.$f7route.query.widgetId,propertyName:this.$f7route.query.propertyName}},computed:{dashboard:function(){return this.contextParams.dashboard},widget:function(){return this.contextParams.widget},propertySchema:function(){return this.contextParams.propertySchema},propertyBind:function(){return this.contextParams.propertyBind}},created:function(){},render:function(t){var e=[];return e.push(this._renderNavbar(t)),e.push(this._renderValueDynamicSingle(t,this.propertyBind)),t("eb-page",{},e)},methods:{_getPageTitle:function(){return this.$text("Data Source")},_onBindChange:function(t){this.contextCallback(200,t)},_renderNavbar:function(t){return t("eb-navbar",{props:{title:this._getPageTitle(),ebBackLink:"Back"}})},_renderValueDynamicSingle:function(t,e){return t("widget-property-edit-dynamic",{props:{dashboard:this.dashboard,widget:this.widget,widgetId:this.widgetId,propertyName:this.propertyName,propertyBind:e},on:{"bind:change":this._onBindChange}})}}},a=r(0),s=Object(a.a)(o,void 0,void 0,!1,null,null,null);e.default=s.exports},function(t,e,r){"use strict";r.r(e);var n=r(3),i=r(1),o=r.n(i);function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var l={mixins:[o.a.prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{widgetPropertyEditDynamic:n.a},data:function(){return{widgetId:this.$f7route.query.widgetId,propertyName:this.$f7route.query.propertyName}},computed:{dashboard:function(){return this.contextParams.dashboard},widget:function(){return this.contextParams.widget},propertySchema:function(){return this.contextParams.propertySchema}},created:function(){},render:function(t){var e=[],r=this.widget.__getPropertyReal(this.propertyName),n=this.propertySchema.ebBindOnly||r&&2===r.type;return e.push(this._renderNavbar(t)),this.propertySchema.ebBindArray&&e.push(this._renderToolbar(t)),e.push(this._renderValueTypes(t,r,n)),n?e.push(this._renderValueDynamic(t,r)):e.push(this._renderValueStatic(t,r)),t("eb-page",{staticClass:"widget-property-edit"},e)},methods:{_getPageTitle:function(){return"".concat(this.$text("Property"),": ").concat(this.$text(this.propertySchema.ebTitle))},_setPropertyValue:o.a.prototype.$meta.util.debounce((function(t){this.widget.__setPropertyRealValue(this.propertyName,t)}),600),_onChangeValueType:function(t){this._setPropertyValue({type:t?2:1})},_onBindChange:function(t){if(this.propertySchema.ebBindArray){var e=this.widget.__getPropertyReal(this.propertyName),r=e&&e.binds||[],n=r.findIndex((function(e){return e.id===t.id}));n>-1?r.splice(n,1,t):r.push(t),this._setPropertyValue({type:2,binds:r})}else this._setPropertyValue({type:2,bind:t})},_onPerformBindDelete:function(t,e){var r=this.widget.__getPropertyReal(this.propertyName),n=r&&r.binds||[],i=n.findIndex((function(t){return t.id===e.id}));i>-1&&(n.splice(i,1),this._setPropertyValue({type:2,binds:n})),this.$meta.util.swipeoutClose(t.target)},_onPerformBindEdit:function(t,e){this._bindAddOrEdit(e),this.$meta.util.swipeoutClose(t.target)},_onPerformBindAdd:function(){this._bindAddOrEdit({id:this.dashboard.__generateUUID()})},_bindAddOrEdit:function(t){var e=this;this.$view.navigate("/a/dashboard/widget/property/bind/add?widgetId=".concat(this.widgetId,"&propertyName=").concat(this.propertyName),{target:"_self",context:{params:{dashboard:this.dashboard,widget:this.widget,propertySchema:this.propertySchema,propertyBind:t},callback:function(t,r){200===t&&e._onBindChange(r)}}})},_renderNavbar:function(t){return t("eb-navbar",{props:{title:this._getPageTitle(),ebBackLink:"Back"}})},_renderToolbar:function(t){var e=[];return e.push(t("div")),e.push(t("eb-button",{props:{text:this.$text("Add Data Source"),onPerform:this._onPerformBindAdd}})),t("f7-toolbar",{props:{bottomMd:!0}},e)},_renderValueDynamicArray:function(t,e){var r=[];if(e){var n,i=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=d(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=[];a.push(t("div",{attrs:{color:"orange",context:o,onPerform:this._onPerformBindEdit}},[t("span",{domProps:{innerText:this.$text("Edit")}})])),a.push(t("div",{attrs:{color:"red",context:o,onPerform:this._onPerformBindDelete}},[t("span",{domProps:{innerText:this.$text("Delete")}})]));var u=t("div",{slot:"right"},a),l=t("eb-context-menu",{},[u]),c=s(this.widget._getBindSourceTitleAndPropertyTitle(o.widgetId,o.propertyName),2),p=c[0],h=c[1];r.push(t("eb-list-item",{key:o.id,props:{title:h,after:p,swipeout:!0}},[l]))}}catch(t){i.e(t)}finally{i.f()}}return t("f7-list",{},r)},_renderValueDynamicSingle:function(t,e){return t("widget-property-edit-dynamic",{props:{dashboard:this.dashboard,widget:this.widget,widgetId:this.widgetId,propertyName:this.propertyName,propertyBind:e},on:{"bind:change":this._onBindChange}})},_renderValueDynamic:function(t,e){return this.propertySchema.ebBindArray?this._renderValueDynamicArray(t,e&&e.binds):this._renderValueDynamicSingle(t,e&&e.bind)},_preparePropSchemaExtra:function(){var t=this.dashboard.__getWidgetRealById(this.widget.options.id).getPropSchemaExtra(this.propertyName);return t?Object.assign({},this.propertySchema,t):this.propertySchema},_renderValueStatic:function(t,e){var r=this,n={type:"object",properties:a({},this.propertyName,this._preparePropSchemaExtra())};return t("eb-validate",{ref:"validate",props:{auto:!0,readOnly:!1,data:a({},this.propertyName,this.widget.__getPropertyRealValue(this.propertyName)),meta:{schema:n,hint:{optional:"",must:""}}},on:{"validateItem:change":function(t,e){return r._setPropertyValue({type:1,value:e})}}})},_renderValueTypes:function(t,e,r){var n=this,i=[];return this.propertySchema.ebBindOnly||(i.push(t("f7-radio",{props:{name:"valueType",value:"static",checked:!r},on:{change:function(){return n._onChangeValueType(!1)}}})),i.push(t("span",{domProps:{innerText:this.$text("Static")}}))),i.push(t("f7-radio",{props:{name:"valueType",value:"dynamic",checked:r},on:{change:function(){return n._onChangeValueType(!0)}}})),i.push(t("span",{domProps:{innerText:this.$text("Dynamic")}})),t("f7-block",{staticClass:"value-types"},i)}}},c=r(0),p=Object(c.a)(l,void 0,void 0,!1,null,null,null);e.default=p.exports},function(t,e,r){"use strict";function n(t,e){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i],a=o[0],s={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}r.r(e),r.d(e,"default",(function(){return h}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},a=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,d=0,u=!1,l=function(){},c=null,p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t,e,r,i){u=r,c=i||{};var a=n(t,e);return g(a),function(e){for(var r=[],i=0;i<a.length;i++){var s=a[i];(d=o[s.id]).refs--,r.push(d)}e?g(a=n(t,e)):a=[];for(i=0;i<r.length;i++){var d;if(0===(d=r[i]).refs){for(var u=0;u<d.parts.length;u++)d.parts[u]();delete o[d.id]}}}}function g(t){for(var e=0;e<t.length;e++){var r=t[e],n=o[r.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](r.parts[i]);for(;i<r.parts.length;i++)n.parts.push(m(r.parts[i]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{var a=[];for(i=0;i<r.parts.length;i++)a.push(m(r.parts[i]));o[r.id]={id:r.id,refs:1,parts:a}}}}function f(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function m(t){var e,r,n=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(n){if(u)return l;n.parentNode.removeChild(n)}if(p){var i=d++;n=s||(s=f()),e=v.bind(null,n,i,!1),r=v.bind(null,n,i,!0)}else n=f(),e=w.bind(null,n),r=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}var y,b=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function v(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function w(t,e){var r=e.css,n=e.media,i=e.sourceMap;if(n&&t.setAttribute("media",n),c.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),i&&(r+="\n/*# sourceURL="+i.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}}]);