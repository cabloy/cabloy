{"version":3,"sources":["webpack://front/webpack/bootstrap","webpack://front//Users/wind/Documents/data/cabloy/egg-born-demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://front/external \"vue\"","webpack://front/./front/src/common/actions.js","webpack://front/./front/src/common/atomClasses.js","webpack://front/./front/src/components/atom/list.vue?fae9","webpack://front/front/src/components/atom/list.vue","webpack://front/./front/src/components/atom/list.vue?e895","webpack://front/./front/src/components/atom/list.vue","webpack://front/./front/src/common/menus.js","webpack://front/./front/src/components/menu/list.vue?b8ac","webpack://front/front/src/components/menu/list.vue","webpack://front/./front/src/components/menu/list.vue?a490","webpack://front/./front/src/components/menu/list.vue","webpack://front/./front/src/components/atom/item.vue?e270","webpack://front/front/src/components/atom/item.vue","webpack://front/./front/src/components/atom/item.vue?18f6","webpack://front/./front/src/components/atom/item.vue","webpack://front/./front/src/pages/atom/labels.vue?c965","webpack://front/./front/src/common/modules.js","webpack://front/./front/src/main.js","webpack://front/./front/src/assets/css/module.less","webpack://front/./front/src/routes.js","webpack://front/./front/src/pages sync ^\\.\\/.*\\.vue$","webpack://front/./front/src/pages/atom/labels.vue?8f2d","webpack://front/./front/src/store.js","webpack://front/./front/src/config/config.js","webpack://front/./front/src/config/locales.js","webpack://front/./front/src/config/locale/zh-cn.js","webpack://front/./front/src/pages/atom/search.vue?1b1e","webpack://front/front/src/pages/atom/search.vue","webpack://front/./front/src/pages/atom/search.vue?9d5e","webpack://front/./front/src/pages/atom/search.vue","webpack://front/./front/src/pages/menu/list.vue?28f6","webpack://front/front/src/pages/menu/list.vue","webpack://front/./front/src/pages/menu/list.vue?1277","webpack://front/./front/src/pages/menu/list.vue","webpack://front/./front/src/pages/menu/search.vue?46b5","webpack://front/front/src/pages/menu/search.vue","webpack://front/./front/src/pages/menu/search.vue?67ad","webpack://front/./front/src/pages/menu/search.vue","webpack://front/./front/src/pages/comment/list.vue?5955","webpack://front/front/src/pages/comment/list.vue","webpack://front/./front/src/pages/comment/list.vue?32be","webpack://front/./front/src/pages/comment/list.vue","webpack://front/./front/src/pages/atom/labels.vue?20e2","webpack://front/front/src/pages/atom/labels.vue","webpack://front/./front/src/pages/atom/labels.vue?ccb9","webpack://front/./front/src/pages/atom/labels.vue","webpack://front/./front/src/pages/atom/edit.vue?3b08","webpack://front/front/src/pages/atom/edit.vue","webpack://front/./front/src/pages/atom/edit.vue?7fb1","webpack://front/./front/src/pages/atom/edit.vue","webpack://front/./front/src/pages/atom/list.vue?f79f","webpack://front/front/src/pages/atom/list.vue","webpack://front/./front/src/pages/atom/list.vue?a713","webpack://front/./front/src/pages/atom/list.vue","webpack://front/./front/src/pages/atom/searchResult.vue?f117","webpack://front/front/src/pages/atom/searchResult.vue","webpack://front/./front/src/pages/atom/searchResult.vue?d2e9","webpack://front/./front/src/pages/atom/searchResult.vue","webpack://front/./front/src/pages/menu/selectFunction.vue?ad74","webpack://front/front/src/pages/menu/selectFunction.vue","webpack://front/./front/src/pages/menu/selectFunction.vue?faa6","webpack://front/./front/src/pages/menu/selectFunction.vue","webpack://front/./front/src/pages/atom/selectAtomClass.vue?8361","webpack://front/front/src/pages/atom/selectAtomClass.vue","webpack://front/./front/src/pages/atom/selectAtomClass.vue?5153","webpack://front/./front/src/pages/atom/selectAtomClass.vue","webpack://front/./front/src/pages/atom/view.vue?e0ae","webpack://front/front/src/pages/atom/view.vue","webpack://front/./front/src/pages/atom/view.vue?95e3","webpack://front/./front/src/pages/atom/view.vue","webpack://front/./front/src/pages/attachment/list.vue?ddf8","webpack://front/front/src/pages/attachment/list.vue","webpack://front/./front/src/pages/attachment/list.vue?2dca","webpack://front/./front/src/pages/attachment/list.vue","webpack://front/./front/src/pages/base/alert.vue?bd71","webpack://front/front/src/pages/base/alert.vue","webpack://front/./front/src/pages/base/alert.vue?6535","webpack://front/./front/src/pages/base/alert.vue","webpack://front/./front/src/pages/comment/all.vue?fcee","webpack://front/front/src/pages/comment/all.vue","webpack://front/./front/src/pages/comment/all.vue?a2c5","webpack://front/./front/src/pages/comment/all.vue","webpack://front/./front/src/pages/comment/item.vue?863d","webpack://front/front/src/pages/comment/item.vue","webpack://front/./front/src/pages/comment/item.vue?5afb","webpack://front/./front/src/pages/comment/item.vue","webpack://front/./front/src/components/atom/action.js","webpack://front/./front/src/common/functions.js","webpack://front/./front/src/components.js"],"names":["meta","component","computed","actionsAll","$store","getState","methods","getAction","action","module","atomClassName","name","getActionTitle","_action","titleLocale","getActionsOfAtomClass","atomClass","created","dispatch","atomClassesAll","getAtomClass","menusAll","getMenu","menu","menus","key","getMenuTitle","_menu","data","modulesAll","getModule","Vue","install","_Vue","cb","console","error","routes","require","store","config","locales","components","load","path","state","labels","modules","atomClasses","actions","flags","functions","getters","userLabels","user","prototype","$meta","op","id","mutations","setLabels","setModules","setAtomClasses","setActions","setFlags","setMenus","setFunctions","getLabels","commit","Promise","resolve","reject","api","post","then","err","getModules","getAtomClasses","getActions","getFlags","getMenus","getFunctions","scene","Scenes","Modules","Stars","Star","Unstar","Close","Create","Others","List","Tools","Draft","Drafts","Labels","Submit","Edit","View","Save","Delete","Red","Orange","Yellow","Blue","Green","Purple","Label","Comment","Username","Realname","Email","Mobile","Motto","Locale","Search","Link","global","onAction","ctx","item","$api","atomClassId","eventHub","$emit","actionComponent","actionPath","$utils","extend","actionWrite","write","util","performAction","atomId","itemId","$view","dialog","confirm","code","functionsAll","getFunction","func","getFunctionTitle","_func","ebAtoms","atoms","ebActions","ebAtomClasses","ebModules","ebMenus","ebFunctions"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;AClFA;AAAA;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;AC5FA,gC;;;;;;;ACAe;AACbA,MAAI,EAAE;AACJC,aAAS,EAAE;AADP,GADO;AAIbC,UAAQ,EAAE;AACRC,cADQ,wBACK;AACX,aAAO,KAAKC,MAAL,CAAYC,QAAZ,CAAqB,gBAArB,CAAP;AACD;AAHO,GAJG;AASbC,SAAO,EAAE;AACPC,aADO,qBACGC,MADH,EACW;AAChB,UAAI,CAAC,KAAKL,UAAV,EAAsB,OAAO,I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","file":"front.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","module.exports = require(\"vue\");","export default {\n  meta: {\n    component: false,\n  },\n  computed: {\n    actionsAll() {\n      return this.$store.getState('a/base/actions');\n    },\n  },\n  methods: {\n    getAction(action) {\n      if (!this.actionsAll) return null;\n      return this.actionsAll[action.module][action.atomClassName][action.name];\n    },\n    getActionTitle(action) {\n      const _action = this.getAction(action);\n      return _action ? _action.titleLocale : null;\n    },\n    getActionsOfAtomClass(atomClass) {\n      if (!atomClass || !this.actionsAll) return null;\n      return this.actionsAll[atomClass.module][atomClass.atomClassName];\n    },\n  },\n  created() {\n    this.$store.dispatch('a/base/getActions');\n  },\n};\n\n","export default {\n  meta: {\n    component: false,\n  },\n  computed: {\n    atomClassesAll() {\n      return this.$store.getState('a/base/atomClasses');\n    },\n  },\n  methods: {\n    getAtomClass(atomClass) {\n      if (!this.atomClassesAll || !atomClass) return null;\n      return this.atomClassesAll[atomClass.module][atomClass.atomClassName];\n    },\n  },\n  created() {\n    this.$store.dispatch('a/base/getAtomClasses');\n  },\n};\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('f7-list',_vm._l((_vm.items),function(item){return _c('eb-list-item',{key:item.atomId,staticClass:\"item\",attrs:{\"link\":_vm.itemShow?false:'#',\"context\":item,\"onPerform\":_vm.onItemClick,\"swipeout\":\"\"},on:{\"swipeout:opened\":function($event){return _vm.onSwipeoutOpened($event,item)},\"contextmenu:opened\":function($event){return _vm.onSwipeoutOpened($event,item)}}},[(_vm.itemShow)?[_c('div',{attrs:{\"slot\":\"media\"},slot:\"media\"},[_c('img',{staticClass:\"avatar avatar32\",attrs:{\"src\":_vm.getItemMetaMedia(item)}})]),_vm._v(\" \"),_c('div',{staticClass:\"header\",attrs:{\"slot\":\"root-start\"},slot:\"root-start\"},[_c('div',{staticClass:\"mediaLabel\"},[_c('span',[_vm._v(_vm._s(_vm.getItemMetaMediaLabel(item)))])]),_vm._v(\" \"),_c('div',[(item.star)?_c('span',[_vm._v(\"\")]):_vm._e(),_vm._v(\" \"),(item.attachmentCount>0)?_c('span',[_vm._v(\"\")]):_vm._e(),_vm._v(\" \"),(item.attachmentCount>1)?_c('span',[_vm._v(_vm._s(((item.attachmentCount) + \"\")))]):_vm._e(),_vm._v(\" \"),(item.commentCount>0)?_c('span',[_vm._v(\"\")]):_vm._e(),_vm._v(\" \"),(item.commentCount>1)?_c('span',[_vm._v(_vm._s(((item.commentCount) + \"\")))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.getItemMetaFlags(item)),function(flag){return _c('f7-badge',{key:flag},[_vm._v(_vm._s(flag))])}),_vm._v(\" \"),(item.atomFlag>0)?_c('f7-badge',[_vm._v(_vm._s(_vm.getFlagTitle(item)))]):_vm._e(),_vm._v(\" \"),(item.labels && _vm.labels)?_vm._l((JSON.parse(item.labels)),function(label){return _c('f7-badge',{key:label,style:({backgroundColor:_vm.getLabel(label).color})},[_vm._v(_vm._s(_vm.getLabel(label).text))])}):_vm._e()],2)]),_vm._v(\" \"),_c('div',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"date\"},[_c('div',[_vm._v(_vm._s(_vm.$text('Modification time')))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.$text('Created time')))])])]),_vm._v(\" \"),_c('div',{staticClass:\"after\",attrs:{\"slot\":\"after\"},slot:\"after\"},[_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.$meta.util.formatDateTime(item.atomUpdatedAt)))]),_vm._v(\" \"),_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.$meta.util.formatDateTime(item.atomCreatedAt)))])])]:_vm._e(),_vm._v(\" \"),(!_vm.itemShow)?[_c('div',{attrs:{\"slot\":\"media\"},slot:\"media\"},[_c('img',{staticClass:\"avatar avatar32\",attrs:{\"src\":_vm.getItemMetaMedia(item)}})]),_vm._v(\" \"),_c('div',{staticClass:\"header\",attrs:{\"slot\":\"root-start\"},slot:\"root-start\"},[_c('div',{staticClass:\"mediaLabel\"},[_c('span',[_vm._v(_vm._s(_vm.getItemMetaMediaLabel(item)))])]),_vm._v(\" \"),_c('div',{staticClass:\"date\"},[(item.star)?_c('span',[_vm._v(\"\")]):_vm._e(),_vm._v(\" \"),(item.attachmentCount>0)?_c('span',[_vm._v(\"\")]):_vm._e(),_vm._v(\" \"),(item.attachmentCount>1)?_c('span',[_vm._v(_vm._s(((item.attachmentCount) + \"\")))]):_vm._e(),_vm._v(\" \"),(item.commentCount>0)?_c('span',[_vm._v(\"\")]):_vm._e(),_vm._v(\" \"),(item.commentCount>1)?_c('span',[_vm._v(_vm._s(((item.commentCount) + \"\")))]):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$meta.util.formatDateTimeRelative(item.atomUpdatedAt)))])])]),_vm._v(\" \"),_c('div',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',[_vm._v(_vm._s(item.atomName))])]),_vm._v(\" \"),_c('div',{staticClass:\"summary\",attrs:{\"slot\":\"root-end\"},slot:\"root-end\"},[_vm._v(\"\\n          \"+_vm._s(_vm.getItemMetaSummary(item))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"after\",attrs:{\"slot\":\"after\"},slot:\"after\"},[_vm._l((_vm.getItemMetaFlags(item)),function(flag){return _c('f7-badge',{key:flag},[_vm._v(_vm._s(flag))])}),_vm._v(\" \"),(item.atomFlag>0)?_c('f7-badge',[_vm._v(_vm._s(_vm.getFlagTitle(item)))]):_vm._e(),_vm._v(\" \"),(item.labels && _vm.labels)?_vm._l((JSON.parse(item.labels)),function(label){return _c('f7-badge',{key:label,style:({backgroundColor:_vm.getLabel(label).color})},[_vm._v(_vm._s(_vm.getLabel(label).text))])}):_vm._e()],2)]:_vm._e(),_vm._v(\" \"),_c('eb-context-menu',[_c('div',{attrs:{\"slot\":\"left\"},slot:\"left\"},[(_vm.mode==='stars')?[_c('div',{attrs:{\"color\":\"orange\",\"context\":item,\"onPerform\":_vm.onStarOff}},[_vm._v(_vm._s(_vm.$text('Unstar')))])]:[_c('div',{attrs:{\"color\":\"orange\",\"context\":item,\"onPerform\":_vm.onStarSwitch}},[_vm._v(_vm._s(item.star?_vm.$text('Unstar'):_vm.$text('Star')))])],_vm._v(\" \"),_c('div',{attrs:{\"color\":\"yellow\",\"context\":item,\"onPerform\":_vm.onLabel}},[_vm._v(_vm._s(_vm.$text('Labels')))])],2),_vm._v(\" \"),(!_vm.itemShow)?_c('div',{attrs:{\"slot\":\"right\",\"ready\":!!item._actions},slot:\"right\"},[(item._actions)?_vm._l((item._actions),function(action,index){return _c('div',{key:action.id,attrs:{\"color\":_vm.getActionColor(action,index),\"context\":{item: item,action: action},\"onPerform\":_vm.onAction}},[_vm._v(_vm._s(_vm.getActionTitle(action)))])}):_vm._e()],2):_vm._e()])],2)}),1),_vm._v(\" \"),(!_vm.itemShow)?_c('eb-load-more',{ref:\"loadMore\",attrs:{\"onLoadClear\":_vm.onLoadClear,\"onLoadMore\":_vm.onLoadMore,\"autoInit\":false}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <f7-list>\n      <eb-list-item class=\"item\" v-for=\"item of items\" :key=\"item.atomId\" :link=\"itemShow?false:'#'\" :context=\"item\" :onPerform=\"onItemClick\" swipeout @swipeout:opened=\"onSwipeoutOpened($event,item)\" @contextmenu:opened=\"onSwipeoutOpened($event,item)\">\n        <template v-if=\"itemShow\">\n          <div slot=\"media\">\n            <img class=\"avatar avatar32\" :src=\"getItemMetaMedia(item)\">\n          </div>\n          <div slot=\"root-start\" class=\"header\">\n            <div class=\"mediaLabel\">\n              <span>{{getItemMetaMediaLabel(item)}}</span>\n            </div>\n            <div>\n              <span v-if=\"item.star\"></span>\n              <span v-if=\"item.attachmentCount>0\"></span>\n              <span v-if=\"item.attachmentCount>1\">{{`${item.attachmentCount}&nbsp;`}}</span>\n              <span v-if=\"item.commentCount>0\"></span>\n              <span v-if=\"item.commentCount>1\">{{`${item.commentCount}&nbsp;`}}</span>\n              <f7-badge v-for=\"flag of getItemMetaFlags(item)\" :key=\"flag\">{{flag}}</f7-badge>\n              <f7-badge v-if=\"item.atomFlag>0\">{{getFlagTitle(item)}}</f7-badge>\n              <template v-if=\"item.labels && labels\">\n                <f7-badge v-for=\"label of JSON.parse(item.labels)\" :key=\"label\" :style=\"{backgroundColor:getLabel(label).color}\">{{getLabel(label).text}}</f7-badge>\n              </template>\n            </div>\n          </div>\n          <div slot=\"title\" class=\"title\">\n            <div class=\"date\">\n              <div>{{$text('Modification time')}}</div>\n              <div>{{$text('Created time')}}</div>\n            </div>\n          </div>\n          <div slot=\"after\" class=\"after\">\n            <div class=\"date\">{{$meta.util.formatDateTime(item.atomUpdatedAt)}}</div>\n            <div class=\"date\">{{$meta.util.formatDateTime(item.atomCreatedAt)}}</div>\n          </div>\n        </template>\n        <template v-if=\"!itemShow\">\n          <div slot=\"media\">\n            <img class=\"avatar avatar32\" :src=\"getItemMetaMedia(item)\">\n          </div>\n          <div slot=\"root-start\" class=\"header\">\n            <div class=\"mediaLabel\">\n              <span>{{getItemMetaMediaLabel(item)}}</span>\n            </div>\n            <div class=\"date\">\n              <span v-if=\"item.star\"></span>\n              <span v-if=\"item.attachmentCount>0\"></span>\n              <span v-if=\"item.attachmentCount>1\">{{`${item.attachmentCount}&nbsp;`}}</span>\n              <span v-if=\"item.commentCount>0\"></span>\n              <span v-if=\"item.commentCount>1\">{{`${item.commentCount}&nbsp;`}}</span>\n              <span>{{$meta.util.formatDateTimeRelative(item.atomUpdatedAt)}}</span>\n            </div>\n          </div>\n          <div slot=\"title\" class=\"title\">\n            <div>{{item.atomName}}</div>\n          </div>\n          <div slot=\"root-end\" class=\"summary\">\n            {{ getItemMetaSummary(item) }}\n          </div>\n          <div slot=\"after\" class=\"after\">\n            <f7-badge v-for=\"flag of getItemMetaFlags(item)\" :key=\"flag\">{{flag}}</f7-badge>\n            <f7-badge v-if=\"item.atomFlag>0\">{{getFlagTitle(item)}}</f7-badge>\n            <template v-if=\"item.labels && labels\">\n              <f7-badge v-for=\"label of JSON.parse(item.labels)\" :key=\"label\" :style=\"{backgroundColor:getLabel(label).color}\">{{getLabel(label).text}}</f7-badge>\n            </template>\n          </div>\n        </template>\n        <eb-context-menu>\n          <div slot=\"left\">\n            <template v-if=\"mode==='stars'\">\n              <div color=\"orange\" :context=\"item\" :onPerform=\"onStarOff\">{{$text('Unstar')}}</div>\n            </template>\n            <template v-else>\n              <div color=\"orange\" :context=\"item\" :onPerform=\"onStarSwitch\">{{item.star?$text('Unstar'):$text('Star')}}</div>\n            </template>\n            <div color=\"yellow\" :context=\"item\" :onPerform=\"onLabel\">{{$text('Labels')}}</div>\n          </div>\n          <div slot=\"right\" v-if=\"!itemShow\" :ready=\"!!item._actions\">\n            <template v-if=\"item._actions\">\n              <div v-for=\"(action,index) of item._actions\" :key=\"action.id\" :color=\"getActionColor(action,index)\" :context=\"{item,action}\" :onPerform=\"onAction\">{{getActionTitle(action)}}</div>\n            </template>\n          </div>\n        </eb-context-menu>\n      </eb-list-item>\n    </f7-list>\n    <eb-load-more ref=\"loadMore\" v-if=\"!itemShow\" :onLoadClear=\"onLoadClear\" :onLoadMore=\"onLoadMore\" :autoInit=\"false\"></eb-load-more>\n  </div>\n</template>\n<script>\nimport Vue from 'vue';\nimport ebActions from '../../common/actions.js';\nimport ebAtomClasses from '../../common/atomClasses.js';\nexport default {\n  mixins: [ ebActions, ebAtomClasses ],\n  meta: {\n    global: false,\n  },\n  props: {\n    // mode: list/drafts/stars/labels/search/all\n    mode: {\n      type: String,\n    },\n    itemShow: {\n      type: Object,\n    },\n    params: {\n      type: Object,\n    },\n    atomClass: {\n      type: Object,\n    },\n    where: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      items: this.itemShow ? [ this.itemShow ] : [],\n    };\n  },\n  computed: {\n    labels() {\n      return this.$local.getters('userLabels');\n    },\n    flags() {\n      return this.$local.state.flags;\n    },\n    user() {\n      return this.$store.state.auth.user.op;\n    },\n  },\n  created() {\n    this.$local.dispatch('getLabels');\n    this.$local.dispatch('getFlags');\n  },\n  mounted() {\n    this.$meta.eventHub.$on('atom:star', this.onStarChanged);\n    this.$meta.eventHub.$on('atom:labels', this.onLabelsChanged);\n    this.$meta.eventHub.$on('atom:action', this.onActionChanged);\n  },\n  beforeDestroy() {\n    this.$meta.eventHub.$off('atom:star', this.onStarChanged);\n    this.$meta.eventHub.$off('atom:labels', this.onLabelsChanged);\n    this.$meta.eventHub.$off('atom:action', this.onActionChanged);\n  },\n  methods: {\n    reload(force) {\n      if (this.itemShow) return;\n      this.$refs.loadMore.reload(force);\n    },\n    loadMore() {\n      this.$refs.loadMore.loadMore();\n    },\n    onLoadClear(done) {\n      this.items = [];\n      done();\n    },\n    onLoadMore({ index }) {\n      // options\n      let options;\n      if (this.mode === 'list') {\n        options = {\n          where: { 'a.atomEnabled': 1 },\n          orders: [\n            [ 'a.updatedAt', 'desc' ],\n          ],\n          page: { index },\n        };\n      } else if (this.mode === 'drafts') {\n        options = {\n          where: { 'a.atomEnabled': 0 },\n          orders: [\n            [ 'a.updatedAt', 'desc' ],\n          ],\n          page: { index },\n        };\n      } else if (this.mode === 'stars') {\n        options = {\n          orders: [\n            [ 'd.updatedAt', 'desc' ],\n          ],\n          star: 1,\n          page: { index },\n        };\n      } else if (this.mode.indexOf('labels') > -1) {\n        options = {\n          orders: [\n            [ 'e.updatedAt', 'desc' ],\n          ],\n          label: this.mode.split('-')[1],\n          page: { index },\n        };\n      } else if (this.mode === 'all') {\n        // special: all = list + atomEnabled=1\n        options = {\n          orders: [\n            [ 'a.updatedAt', 'desc' ],\n          ],\n          page: { index },\n        };\n      } else if (this.mode === 'search') {\n        // where\n        const where = {};\n        if (this.params && this.params.atomName) {\n          where['a.atomName'] = { val: this.params.atomName, op: 'like' };\n        }\n        if (this.params && this.params.atomClassExtra) {\n          this.$utils.extend(where, this.params.atomClassExtra);\n        }\n        // options\n        options = {\n          where,\n          orders: [\n            [ 'a.updatedAt', 'desc' ],\n          ],\n          page: { index },\n        };\n        // label\n        if (this.params && this.params.label) {\n          options.label = this.params.label;\n        }\n      }\n      // where\n      if (this.where) {\n        options.where = this.$utils.extend({}, options.where, this.where);\n      }\n      // mode\n      options.mode = this.mode;\n      // fetch\n      return this.$api.post('atom/select', {\n        atomClass: this.atomClass,\n        options,\n      }).then(data => {\n        this.items = this.items.concat(data.list);\n        return data;\n      });\n    },\n    onStarSwitch(event, item) {\n      const star = item.star ? 0 : 1;\n      return this._onStarSwitch(event, item, star, 'swipeoutClose');\n    },\n    onStarOff(event, item) {\n      return this._onStarSwitch(event, item, 0, 'swipeoutDelete');\n    },\n    _onStarSwitch(event, item, star, swipeoutAction) {\n      // anonymous\n      if (this.user.anonymous) {\n        this.$view.dialog.confirm(this.$text('Please sign in')).then(() => {\n          // login\n          this.$meta.vueLayout.openLogin();\n        });\n        return;\n      }\n      // key\n      const key = {\n        atomId: item.atomId,\n        itemId: item.itemId,\n      };\n      //\n      return this.$api.post('atom/star', {\n        key,\n        atom: { star },\n      }).then(data => {\n        this.$meta.eventHub.$emit('atom:star', { key, star: data.star, starCount: data.starCount });\n        this.$meta.util[swipeoutAction](event.target);\n      });\n    },\n    onLabel(event, item) {\n      // anonymous\n      if (this.user.anonymous) {\n        this.$view.dialog.confirm(this.$text('Please sign in')).then(() => {\n          // login\n          this.$meta.vueLayout.openLogin();\n        });\n        return;\n      }\n      // navigate\n      this.$view.navigate(`/a/base/atom/labels?atomId=${item.atomId}`);\n    },\n    onStarChanged(data) {\n      const index = this.items.findIndex(item => item.atomId === data.key.atomId);\n      if (this.mode === 'stars') {\n        if (data.star === 0 && index !== -1) {\n          this.items.splice(index, 1);\n        } else if (data.star === 1 && index === -1) {\n          this.reload();\n        }\n      } else {\n        if (index !== -1) {\n          this.items[index].star = data.star;\n        }\n      }\n    },\n    onLabelsChanged(data) {\n      const index = this.items.findIndex(item => item.atomId === data.key.atomId);\n      if (this.mode.indexOf('labels') > -1) {\n        const mode = this.mode.split('-')[1];\n        const exists = data.labels.indexOf(mode) > -1;\n        if (!exists && index !== -1) {\n          this.items.splice(index, 1);\n        } else if (exists && index === -1) {\n          this.reload();\n        }\n      } else {\n        if (index !== -1) {\n          this.items[index].labels = JSON.stringify(data.labels);\n        }\n      }\n    },\n    onActionChanged(data) {\n      const key = data.key;\n      const action = data.action;\n      // create\n      if (action.menu === 1 && action.action === 'create') {\n        if (this.mode === 'drafts' || this.mode === 'search' || this.mode === 'all') {\n          this.reload();\n        }\n        return;\n      }\n      // delete\n      const index = this.items.findIndex(item => item.atomId === key.atomId);\n      if (action.name === 'delete') {\n        if (index !== -1) {\n          this.items.splice(index, 1);\n        }\n        return;\n      }\n      // submit\n      if (action.name === 'submit') {\n        if (this.mode === 'list') {\n          this.reload();\n          return;\n        } else if (this.mode === 'drafts' && index !== -1) {\n          this.items.splice(index, 1);\n          return;\n        }\n      }\n      // others\n      if (index !== -1) {\n        this.$api.post('atom/read', {\n          key,\n        }).then(data => {\n          Vue.set(this.items, index, data);\n        });\n      }\n    },\n    getLabel(id) {\n      if (!this.labels) return null;\n      return this.labels[id];\n    },\n    onSwipeoutOpened(event, item) {\n      if (this.itemShow || item._actions) return;\n      this.$api.post('atom/actions', {\n        key: { atomId: item.atomId },\n        basic: true,\n      }).then(data => {\n        Vue.set(item, '_actions', data);\n      });\n    },\n    onAction(event, context) {\n      const _action = this.getAction(context.action);\n      if (!_action) return;\n      return this.$meta.util.performAction({ ctx: this, action: _action, item: context.item })\n        .then(() => {\n          this.$meta.util.swipeoutClose(event.target);\n        });\n    },\n    getActionColor(action, index) {\n      if (index === 0) return 'orange';\n      else if (index === 1) return 'yellow';\n      return 'blue';\n    },\n    getItemMetaFlags(item) {\n      const flags = (item._meta && item._meta.flags);\n      return flags ? flags.split(',') : [];\n    },\n    getItemMetaMedia(item) {\n      const media = (item._meta && item._meta.media) || item.avatar;\n      return this.$meta.util.combineImageUrl(media, 32);\n    },\n    getItemMetaMediaLabel(item) {\n      const mediaLabel = (item._meta && item._meta.mediaLabel) || item.userName;\n      return mediaLabel;\n    },\n    getItemMetaSummary(item) {\n      const summary = (item._meta && item._meta.summary) || '';\n      if (this.atomClass) {\n        return summary;\n      }\n      const atomClass = this.getAtomClass({\n        module: item.module,\n        atomClassName: item.atomClassName,\n      });\n      if (!atomClass) return summary;\n      return `${atomClass.titleLocale} ${summary}`;\n    },\n    getFlagTitle(item) {\n      if (!this.flags) return null;\n      const flag = this.flags[item.module][item.atomClassName][item.atomFlag];\n      return flag ? flag.titleLocale : this.$text('Flag Not Found');\n    },\n    onItemClick(event, item) {\n      if (this.itemShow) return;\n      return this.onAction(event, {\n        item,\n        action: {\n          module: item.module,\n          atomClassName: item.atomClassName,\n          name: 'read',\n        },\n      });\n    },\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=3b6cb4b8&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  meta: {\n    component: false,\n  },\n  computed: {\n    menusAll() {\n      return this.$store.getState('a/base/menus');\n    },\n  },\n  methods: {\n    getMenu(menu) {\n      if (!this.menusAll) return null;\n      const menus = this.menusAll[menu.module];\n      // by name\n      if (menu.name) return menus[ menu.name ];\n      // by action\n      for (const key in menus) {\n        if (menus[key].action === menu.action) return menus[key];\n      }\n      return null;\n    },\n    getMenuTitle(menu) {\n      const _menu = this.getMenu(menu);\n      return _menu ? _menu.titleLocale : null;\n    },\n  },\n  created() {\n    this.$store.dispatch('a/base/getMenus');\n  },\n};\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('f7-list',[(_vm.mode==='search')?_vm._l((_vm.items),function(item){return _c('eb-list-item',{key:item.id,attrs:{\"link\":\"#\",\"context\":item,\"onPerform\":_vm.onItemClick,\"title\":item.titleLocale,\"swipeout\":\"\"}},[_c('f7-icon',{attrs:{\"slot\":\"media\",\"color\":\"orange\",\"material\":item.star?'star':''},slot:\"media\"}),_vm._v(\" \"),_c('eb-context-menu',[_c('div',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{attrs:{\"color\":\"orange\",\"context\":item,\"onPerform\":_vm.onStarSwitch}},[_vm._v(_vm._s(item.star?_vm.$text('Unstar'):_vm.$text('Star')))])])])],1)}):(_vm.mode==='stars')?_vm._l((_vm.items),function(item){return _c('eb-list-item',{key:item.id,attrs:{\"link\":\"#\",\"context\":item,\"onPerform\":_vm.onItemClick,\"title\":item.titleLocale,\"swipeout\":\"\"}},[_c('eb-context-menu',[_c('div',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{attrs:{\"color\":\"orange\",\"context\":item,\"onPerform\":_vm.onStarOff}},[_vm._v(_vm._s(_vm.$text('Unstar')))])])])],1)}):_vm._l((_vm.itemGroups),function(group){return _c('f7-list-group',{key:group.id},[_c('f7-list-item',{attrs:{\"title\":group.title,\"group-title\":\"\"}}),_vm._v(\" \"),_vm._l((group.items),function(item){return _c('eb-list-item',{key:item.id,attrs:{\"link\":\"#\",\"context\":item,\"onPerform\":_vm.onItemClick,\"title\":item.titleLocale,\"swipeout\":\"\"}},[_c('f7-icon',{attrs:{\"slot\":\"media\",\"color\":\"orange\",\"material\":item.star?'star':''},slot:\"media\"}),_vm._v(\" \"),_c('eb-context-menu',[_c('div',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{attrs:{\"color\":\"orange\",\"context\":item,\"onPerform\":_vm.onStarSwitch}},[_vm._v(_vm._s(item.star?_vm.$text('Unstar'):_vm.$text('Star')))])])])],1)})],2)})],2),_vm._v(\" \"),_c('eb-load-more',{ref:\"loadMore\",attrs:{\"onLoadClear\":_vm.onLoadClear,\"onLoadMore\":_vm.onLoadMore,\"autoInit\":false}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <f7-list>\n      <template v-if=\"mode==='search'\">\n        <eb-list-item v-for=\"item of items\" :key=\"item.id\" link=\"#\" :context=\"item\" :onPerform=\"onItemClick\" :title=\"item.titleLocale\" swipeout>\n          <f7-icon slot=\"media\" color=\"orange\" :material=\"item.star?'star':''\"></f7-icon>\n          <eb-context-menu>\n            <div slot=\"right\">\n              <div color=\"orange\" :context=\"item\" :onPerform=\"onStarSwitch\">{{item.star?$text('Unstar'):$text('Star')}}</div>\n            </div>\n          </eb-context-menu>\n        </eb-list-item>\n      </template>\n      <template v-else-if=\"mode==='stars'\">\n        <eb-list-item v-for=\"item of items\" :key=\"item.id\" link=\"#\" :context=\"item\" :onPerform=\"onItemClick\" :title=\"item.titleLocale\" swipeout>\n          <eb-context-menu>\n            <div slot=\"right\">\n              <div color=\"orange\" :context=\"item\" :onPerform=\"onStarOff\">{{$text('Unstar')}}</div>\n            </div>\n          </eb-context-menu>\n        </eb-list-item>\n      </template>\n      <template v-else>\n        <f7-list-group v-for=\"group of itemGroups\" :key=\"group.id\">\n          <f7-list-item :title=\"group.title\" group-title></f7-list-item>\n          <eb-list-item v-for=\"item of group.items\" :key=\"item.id\" link=\"#\" :context=\"item\" :onPerform=\"onItemClick\" :title=\"item.titleLocale\" swipeout>\n            <f7-icon slot=\"media\" color=\"orange\" :material=\"item.star?'star':''\"></f7-icon>\n            <eb-context-menu>\n              <div slot=\"right\">\n                <div color=\"orange\" :context=\"item\" :onPerform=\"onStarSwitch\">{{item.star?$text('Unstar'):$text('Star')}}</div>\n              </div>\n            </eb-context-menu>\n          </eb-list-item>\n        </f7-list-group>\n      </template>\n    </f7-list>\n    <eb-load-more ref=\"loadMore\" :onLoadClear=\"onLoadClear\" :onLoadMore=\"onLoadMore\" :autoInit=\"false\"></eb-load-more>\n  </div>\n</template>\n<script>\nimport ebModules from '../../common/modules.js';\nimport ebMenus from '../../common/menus.js';\nexport default {\n  meta: {\n    global: false,\n  },\n  mixins: [ ebModules, ebMenus ],\n  props: {\n    mode: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      items: [],\n      query: '',\n    };\n  },\n  computed: {\n    itemGroups() {\n      if (this.mode === 'scenes') return this.itemGroupsScenes;\n      if (this.mode === 'modules') return this.itemGroupsModules;\n    },\n    itemGroupsScenes() {\n      const groups = [];\n      let group = null;\n      for (const item of this.items) {\n        if (!group || group.id !== item.scene) {\n          const name = this.$config.menu.scene[item.scene];\n          const title = this.$text(name);\n          group = { id: item.scene, name, title, items: [] };\n          groups.push(group);\n        }\n        group.items.push(item);\n      }\n      return groups;\n    },\n    itemGroupsModules() {\n      if (!this.modulesAll) return [];\n      const groups = [];\n      let group = null;\n      for (const item of this.items) {\n        if (!group || group.id !== item.module) {\n          const module = this.modulesAll[item.module];\n          group = { id: item.module, title: module.titleLocale, items: [] };\n          groups.push(group);\n        }\n        group.items.push(item);\n      }\n      return groups;\n    },\n  },\n  mounted() {\n    this.$meta.eventHub.$on('menu:star', this.onStarChanged);\n  },\n  beforeDestroy() {\n    this.$meta.eventHub.$off('menu:star', this.onStarChanged);\n  },\n  methods: {\n    onSearch(query) {\n      this.query = query;\n      if (!this.query) {\n        this.items = [];\n      } else {\n        this.reload(true);\n      }\n    },\n    reload(force) {\n      this.$refs.loadMore.reload(force);\n    },\n    loadMore() {\n      this.$refs.loadMore.loadMore();\n    },\n    onLoadClear(done) {\n      this.items = [];\n      done();\n    },\n    onLoadMore({ index }) {\n      // options\n      let options;\n      if (this.mode === 'scenes') {\n        options = {\n          where: { menu: 1 },\n          orders: [\n            [ 'scene', 'asc' ],\n            [ 'sorting', 'asc' ],\n          ],\n          page: { index },\n        };\n      } else if (this.mode === 'modules') {\n        options = {\n          where: { menu: 1 },\n          orders: [\n            [ 'module', 'asc' ],\n            [ 'scene', 'asc' ],\n            [ 'sorting', 'asc' ],\n          ],\n          page: { index },\n        };\n      } else if (this.mode === 'stars') {\n        options = {\n          where: { menu: 1 },\n          orders: [\n            [ 'd.updatedAt', 'desc' ],\n          ],\n          star: 1,\n          page: { index },\n        };\n      } else if (this.mode === 'search') {\n        options = {\n          where: { menu: 1, titleLocale: { val: this.query, op: 'like' } },\n          orders: [\n            [ 'titleLocale', 'asc' ],\n          ],\n          page: { index },\n        };\n      }\n      // fetch\n      return this.$api.post('function/list', {\n        options,\n      }).then(data => {\n        this.items = this.items.concat(data.list);\n        return data;\n      });\n    },\n    onStarSwitch(event, item) {\n      const star = item.star ? 0 : 1;\n      return this.$api.post('function/star', {\n        id: item.id,\n        star,\n      }).then(() => {\n        this.$meta.eventHub.$emit('menu:star', { id: item.id, star });\n        this.$meta.util.swipeoutClose(event.target);\n      });\n    },\n    onStarOff(event, item) {\n      return this.$api.post('function/star', {\n        id: item.id,\n        star: 0,\n      }).then(() => {\n        this.$meta.eventHub.$emit('menu:star', { id: item.id, star: 0 });\n        this.$meta.util.swipeoutDelete(event.target);\n      });\n    },\n    onStarChanged(data) {\n      const index = this.items.findIndex(item => item.id === data.id);\n      if (this.mode === 'stars') {\n        if (data.star === 0 && index !== -1) {\n          this.items.splice(index, 1);\n        } else if (data.star === 1 && index === -1) {\n          this.reload();\n        }\n      } else {\n        if (index !== -1) {\n          this.items[index].star = data.star;\n        }\n      }\n    },\n    onItemClick(event, item) {\n      const _menu = this.getMenu(item);\n      if (!_menu) return;\n      if (_menu.action === 'create') {\n        item = {\n          atomClassId: item.atomClassId,\n          module: item.module,\n          atomClassName: item.atomClassName,\n          atomClassIdParent: item.atomClassIdParent,\n        };\n      }\n      return this.$meta.util.performAction({ ctx: this, action: _menu, item });\n    },\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=58950172&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"title\":_vm.title,\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[(_vm.ready && _vm.findAction('write'))?_c('eb-link',{attrs:{\"iconMaterial\":this.mode==='edit'?'save':'edit',\"context\":this.mode==='edit'?'save':'write',\"onPerform\":_vm.onAction}}):_vm._e(),_vm._v(\" \"),(_vm.showPopover)?_c('f7-link',{attrs:{\"iconMaterial\":\"more_horiz\",\"popover-open\":(\"#\" + _vm.popoverId)}}):_vm._e()],1)],1),_vm._v(\" \"),(_vm.notfound)?[_c('f7-list',[_c('f7-list-item',{attrs:{\"title\":_vm.$text('Not found')}})],1)]:[(_vm.ready)?_c('atoms',{attrs:{\"mode\":\"list\",\"itemShow\":_vm.item}}):_vm._e(),_vm._v(\" \"),(_vm.ready)?_c('eb-validate',{ref:\"validate\",attrs:{\"readOnly\":this.mode!=='edit',\"auto\":\"\",\"data\":_vm.item,\"params\":_vm.validateParams,\"onPerform\":_vm.onPerformValidate,\"onSave\":_vm.onSave},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}}):_vm._e(),_vm._v(\" \"),_c('f7-popover',{attrs:{\"id\":_vm.popoverId}},[(_vm.showPopover)?_c('f7-list',{attrs:{\"inset\":\"\"}},[(_vm.findAction('write') && _vm.item.atomEnabled===0)?_c('eb-list-button',{attrs:{\"popover-close\":\"\",\"context\":\"submit\",\"onPerform\":_vm.onAction}},[_vm._v(_vm._s(_vm.$text('Submit')))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.actions),function(action){return (action.name!=='write')?_c('eb-list-button',{key:action.id,attrs:{\"popover-close\":\"\",\"context\":action,\"onPerform\":_vm.onAction}},[_vm._v(_vm._s(_vm.getActionTitle(action)))]):_vm._e()})],2):_vm._e()],1)],_vm._v(\" \"),(_vm.ready)?_c('f7-toolbar',{attrs:{\"bottom-md\":\"\"}},[_c('eb-link',{attrs:{\"iconMaterial\":\"comment\",\"eb-href\":(\"comment/list?atomId=\" + (_vm.item.atomId))}},[_vm._v(_vm._s(_vm.item.commentCount))]),_vm._v(\" \"),_c('eb-link',{attrs:{\"iconMaterial\":\"attach_file\",\"eb-href\":(\"attachment/list?atomId=\" + (_vm.item.atomId))}},[_vm._v(_vm._s(_vm.item.attachmentCount))])],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page>\n    <eb-navbar :title=\"title\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link v-if=\"ready && findAction('write')\" :iconMaterial=\"this.mode==='edit'?'save':'edit'\" :context=\"this.mode==='edit'?'save':'write'\" :onPerform=\"onAction\"></eb-link>\n        <f7-link v-if=\"showPopover\" iconMaterial=\"more_horiz\" :popover-open=\"`#${popoverId}`\"></f7-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <template v-if=\"notfound\">\n      <f7-list>\n        <f7-list-item :title=\"$text('Not found')\"></f7-list-item>\n      </f7-list>\n    </template>\n    <template v-else>\n      <atoms v-if=\"ready\" mode=\"list\" :itemShow=\"item\"></atoms>\n      <eb-validate v-if=\"ready\" ref=\"validate\" :readOnly=\"this.mode!=='edit'\" auto :data=\"item\" :params=\"validateParams\" :onPerform=\"onPerformValidate\" :onSave=\"onSave\" @submit.prevent=\"onSubmit\">\n      </eb-validate>\n      <f7-popover :id=\"popoverId\">\n        <f7-list v-if=\"showPopover\" inset>\n          <eb-list-button v-if=\"findAction('write') && item.atomEnabled===0\" popover-close context=\"submit\" :onPerform=\"onAction\">{{$text('Submit')}}</eb-list-button>\n          <eb-list-button v-for=\"action of actions\" :key=\"action.id\" v-if=\"action.name!=='write'\" popover-close :context=\"action\" :onPerform=\"onAction\">{{getActionTitle(action)}}</eb-list-button>\n        </f7-list>\n      </f7-popover>\n    </template>\n    <f7-toolbar v-if=\"ready\" bottom-md>\n      <eb-link iconMaterial=\"comment\" :eb-href=\"`comment/list?atomId=${item.atomId}`\">{{item.commentCount}}</eb-link>\n      <eb-link iconMaterial=\"attach_file\" :eb-href=\"`attachment/list?atomId=${item.atomId}`\">{{item.attachmentCount}}</eb-link>\n    </f7-toolbar>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nimport atoms from './list.vue';\nimport ebActions from '../../common/actions.js';\nexport default {\n  mixins: [ ebActions ],\n  meta: {\n    global: false,\n  },\n  components: {\n    atoms,\n  },\n  props: {\n    // mode: edit/view\n    mode: {\n      type: String,\n    },\n    query: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      atomId: parseInt(this.query.atomId || 0),\n      itemId: parseInt(this.query.itemId || 0),\n      atomClassId: parseInt(this.query.atomClassId || 0),\n      item: null,\n      module: null,\n      validateParams: null,\n      actions: null,\n      popoverId: Vue.prototype.$meta.util.nextId('popover'),\n      notfound: false,\n    };\n  },\n  computed: {\n    ready() {\n      return this.item && this.module && this.validateParams && this.actions && this.actionsAll;\n    },\n    title() {\n      const name = this.mode === 'edit' ? this.$text('Edit') : this.$text('View');\n      if (!this.item) return name;\n      return `${name}: ${this.item.atomName}`;\n    },\n    showPopover() {\n      if (!this.ready) return false;\n      // submit\n      const submit = this.findAction('write') && this.item.atomEnabled === 0;\n      if (submit) return true;\n      // others\n      for (const action of this.actions) {\n        if (action.name !== 'write') return true;\n      }\n      return false;\n    },\n  },\n  mounted() {\n    this.$meta.eventHub.$on('atom:action', this.onActionChanged);\n    this.$meta.eventHub.$on('comment:action', this.onCommentChanged);\n    this.$meta.eventHub.$on('attachment:action', this.onAttachmentChanged);\n  },\n  beforeDestroy() {\n    this.$meta.eventHub.$off('atom:action', this.onActionChanged);\n    this.$meta.eventHub.$off('comment:action', this.onCommentChanged);\n    this.$meta.eventHub.$off('attachment:action', this.onAttachmentChanged);\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    reload() {\n      this.item = null;\n      this.actions = null;\n      this.load();\n    },\n    load() {\n      // item & module\n      this.$api.post('atom/read', {\n        key: { atomId: this.atomId },\n      }).then(data => {\n        this.item = data;\n        // module\n        this.$meta.module.use(this.item.module, module => {\n          this.module = module;\n        });\n        // validateParams\n        this.$api.post('atom/validator', {\n          atomClass: { id: this.item.atomClassId },\n        }).then(data => {\n          this.validateParams = {\n            module: data.module,\n            validator: data.validator,\n          };\n        });\n        // actions\n        this.fetchActions();\n      }).catch(() => {\n        this.notfound = true;\n      });\n    },\n    fetchActions() {\n      this.$api.post('atom/actions', {\n        key: { atomId: this.atomId },\n      }).then(data => {\n        this.actions = data;\n      });\n    },\n    findAction(actionName) {\n      return this.actions.find(item => item.name === actionName);\n    },\n    onSave(event) {\n      return this.onAction(event, 'save').then(() => {\n        this.$view.toast.show();\n      });\n    },\n    onAction(event, action) {\n      if (action === 'save' || action === 'submit') {\n        return this.$refs.validate.perform(event, action);\n      }\n      if (typeof action === 'string') {\n        action = {\n          module: this.item.module,\n          atomClassName: this.item.atomClassName,\n          name: action,\n        };\n      }\n      // action\n      let _action = this.getAction(action);\n      // for write\n      if (action.name === 'write') {\n        _action = this.$utils.extend({}, _action, { navigateOptions: { target: '_self' } });\n      }\n      return this.$meta.util.performAction({ ctx: this, action: _action, item: this.item }).then(res => {\n        if (res) this.$f7router.back();\n      });\n    },\n    onPerformValidate(event, actionName) {\n      const action = this.$utils.extend({}, this.findAction('write'), { name: actionName });\n      const _action = this.getAction(action);\n      return this.$meta.util.performAction({ ctx: this, action: _action, item: this.item }).then(() => {\n        if (actionName === 'save') return true; // toast on success\n        if (actionName === 'submit') this.$f7router.back();\n      });\n    },\n    onActionChanged(data) {\n      const key = data.key;\n      const action = data.action;\n\n      if (this.mode === 'edit') return;\n      if (!this.ready) return;\n      if (this.item.atomId !== key.atomId) return;\n\n      // create\n      if (action.menu === 1 && action.action === 'create') {\n        return;\n      }\n      // delete\n      if (action.name === 'delete') {\n        this.item = null;\n        this.notfound = true;\n        return;\n      }\n      // others\n      this.reload();\n    },\n    onCommentChanged(data) {\n      if (!this.item || data.atomId !== this.atomId) return;\n      if (data.action === 'create') this.item.commentCount += 1;\n      if (data.action === 'delete') this.item.commentCount -= 1;\n    },\n    onAttachmentChanged(data) {\n      if (!this.item || data.atomId !== this.atomId) return;\n      if (data.action === 'create') this.item.attachmentCount += 1;\n      if (data.action === 'delete') this.item.attachmentCount -= 1;\n    },\n    onSubmit(event) {\n      return this.onSave(event);\n    },\n  },\n};\n\n</script>\n<style scoped>\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./item.vue?vue&type=template&id=6b46109a&scoped=true&\"\nimport script from \"./item.vue?vue&type=script&lang=js&\"\nexport * from \"./item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b46109a\",\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin","export default {\n  meta: {\n    component: false,\n  },\n  data() {\n    return {\n    };\n  },\n  computed: {\n    modulesAll() {\n      return this.$store.getState('a/base/modules');\n    },\n  },\n  created() {\n    this.$store.dispatch('a/base/getModules');\n  },\n  methods: {\n    getModule(module) {\n      return this.modulesAll ? this.modulesAll[module] : null;\n    },\n  },\n};\n","let Vue;\n\nimport './assets/css/module.less';\n\n// install\nfunction install(_Vue, cb) {\n  if (Vue) return console.error('already installed.');\n\n  Vue = _Vue;\n\n  return cb({\n    routes: require('./routes.js').default,\n    store: require('./store.js').default(Vue),\n    config: require('./config/config.js').default,\n    locales: require('./config/locales.js').default,\n    components: require('./components.js').default,\n  });\n}\n\n// export\nexport default {\n  install,\n};\n","// extracted by mini-css-extract-plugin","function load(name) {\n  return require(`./pages/${name}.vue`).default;\n}\n\nexport default [\n  { path: 'menu/list', component: load('menu/list') },\n  { path: 'menu/search', component: load('menu/search') },\n  { path: 'menu/selectFunction', component: load('menu/selectFunction') },\n  { path: 'atom/list', component: load('atom/list') },\n  { path: 'atom/search', component: load('atom/search') },\n  { path: 'atom/searchResult', component: load('atom/searchResult') },\n  { path: 'atom/labels', component: load('atom/labels') },\n  { path: 'atom/edit', component: load('atom/edit') },\n  { path: 'atom/view', component: load('atom/view') },\n  { path: 'atom/selectAtomClass', component: load('atom/selectAtomClass') },\n  { path: 'comment/list', component: load('comment/list') },\n  { path: 'comment/item', component: load('comment/item') },\n  { path: 'comment/all', component: load('comment/all') },\n  { path: 'attachment/list', component: load('attachment/list') },\n  { path: 'base/alert', component: load('base/alert') },\n];\n","var map = {\n\t\"./atom/edit.vue\": 24,\n\t\"./atom/labels.vue\": 23,\n\t\"./atom/list.vue\": 25,\n\t\"./atom/search.vue\": 19,\n\t\"./atom/searchResult.vue\": 26,\n\t\"./atom/selectAtomClass.vue\": 28,\n\t\"./atom/view.vue\": 29,\n\t\"./attachment/list.vue\": 30,\n\t\"./base/alert.vue\": 31,\n\t\"./comment/all.vue\": 32,\n\t\"./comment/item.vue\": 33,\n\t\"./comment/list.vue\": 22,\n\t\"./menu/list.vue\": 20,\n\t\"./menu/search.vue\": 21,\n\t\"./menu/selectFunction.vue\": 27\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 13;","import mod from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=style&index=0&id=3291d312&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=style&index=0&id=3291d312&scoped=true&lang=css&\"","// eslint-disable-next-line\nexport default function(Vue) {\n\n  return {\n    state: {\n      labels: null,\n      modules: null,\n      atomClasses: null,\n      actions: null,\n      flags: null,\n      menus: null,\n      functions: null,\n    },\n    getters: {\n      userLabels(state) {\n        if (!state.labels) return null;\n        const user = Vue.prototype.$meta.store.getState('auth/user');\n        return state.labels[user.op.id];\n      },\n    },\n    mutations: {\n      setLabels(state, labels) {\n        const user = Vue.prototype.$meta.store.getState('auth/user');\n        state.labels = {\n          [user.op.id]: labels,\n        };\n      },\n      setModules(state, modules) {\n        state.modules = modules;\n      },\n      setAtomClasses(state, atomClasses) {\n        state.atomClasses = atomClasses;\n      },\n      setActions(state, actions) {\n        state.actions = actions;\n      },\n      setFlags(state, flags) {\n        state.flags = flags;\n      },\n      setMenus(state, menus) {\n        state.menus = menus;\n      },\n      setFunctions(state, functions) {\n        state.functions = functions;\n      },\n    },\n    actions: {\n      getLabels({ state, commit, getters }) {\n        return new Promise((resolve, reject) => {\n          const userLabels = getters.userLabels;\n          if (userLabels) return resolve(userLabels);\n          Vue.prototype.$meta.api.post('/a/base/user/getLabels').then(data => {\n            data = data || {};\n            commit('setLabels', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getModules({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.modules) return resolve(state.modules);\n          Vue.prototype.$meta.api.post('/a/base/base/modules').then(data => {\n            data = data || {};\n            commit('setModules', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getAtomClasses({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.atomClasses) return resolve(state.atomClasses);\n          Vue.prototype.$meta.api.post('/a/base/base/atomClasses').then(data => {\n            data = data || {};\n            commit('setAtomClasses', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getActions({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.actions) return resolve(state.actions);\n          Vue.prototype.$meta.api.post('/a/base/base/actions').then(data => {\n            data = data || {};\n            commit('setActions', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getFlags({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.flags) return resolve(state.flags);\n          Vue.prototype.$meta.api.post('/a/base/base/flags').then(data => {\n            data = data || {};\n            commit('setFlags', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getMenus({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.menus) return resolve(state.menus);\n          Vue.prototype.$meta.api.post('/a/base/base/menus').then(data => {\n            data = data || {};\n            commit('setMenus', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getFunctions({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.functions) return resolve(state.functions);\n          Vue.prototype.$meta.api.post('/a/base/base/functions').then(data => {\n            data = data || {};\n            commit('setFunctions', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n    },\n  };\n\n}\n","export default {\n  menu: {\n    scene: {\n      0: 'Default',\n      1: 'Create',\n      2: 'List',\n      20: 'Statistics',\n      50: 'Tools',\n    },\n  },\n};\n","export default{\n  'zh-cn': require('./locale/zh-cn.js').default,\n};\n","export default {\n  Scenes: '',\n  Modules: '',\n  Stars: '',\n  Star: '',\n  Unstar: '',\n  Close: '',\n  Create: '',\n  Others: '',\n  List: '',\n  Tools: '',\n  Draft: '',\n  Drafts: '',\n  Labels: '',\n  Submit: '',\n  Edit: '',\n  View: '',\n  Save: '',\n  Delete: '',\n  Red: '',\n  Orange: '',\n  Yellow: '',\n  Blue: '',\n  Green: '',\n  Purple: '',\n  Label: '',\n  Comment: '',\n  Username: '',\n  Realname: '',\n  Email: '',\n  Mobile: '',\n  Motto: '',\n  Locale: '',\n  Search: '',\n  Link: '',\n  'Atom Name': '',\n  'Modification time': '',\n  'Comment List': '',\n  'Created time': '',\n  'Search Menu': '',\n  'Search Atom': '',\n  'Search Result': '',\n  'Select Atom Class': '',\n  'Select Menu': '',\n  'Select Function': '',\n  'Atom name': '',\n  'Atom class': '',\n  'Allow Comment': '',\n  'Attachment List': '',\n  'Flag Not Found': 'Flag',\n  'Friendly Tips': '',\n  'Please sign in': '',\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"title\":_vm.pageTitle,\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[_c('eb-button',{ref:\"buttonSubmit\",attrs:{\"iconMaterial\":\"search\",\"onPerform\":_vm.onPerformSearch}})],1)],1),_vm._v(\" \"),_c('eb-list',{attrs:{\"form\":\"\",\"no-hairlines-md\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onFormSubmit($event)}}},[_c('f7-list-item',[_c('f7-label',{attrs:{\"floating\":\"\"}},[_vm._v(_vm._s(_vm.$text('Atom name')))]),_vm._v(\" \"),_c('eb-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$text('Atom name'),\"clear-button\":\"\"},model:{value:(_vm.atomName),callback:function ($$v) {_vm.atomName=$$v},expression:\"atomName\"}})],1),_vm._v(\" \"),_c('f7-list-item',{attrs:{\"smartSelect\":\"\",\"title\":_vm.$text('Label'),\"smartSelectParams\":{openIn: 'page', closeOnSelect: true}}},[_c('eb-select',{attrs:{\"name\":\"label\",\"options\":_vm.labels},model:{value:(_vm.label),callback:function ($$v) {_vm.label=$$v},expression:\"label\"}})],1),_vm._v(\" \"),_c('f7-list-item',{attrs:{\"divider\":\"\"}}),_vm._v(\" \"),(!_vm.atomClassInit)?_c('f7-list-item',{attrs:{\"title\":_vm.$text('Atom class'),\"link\":\"#\"},on:{\"click\":_vm.onSelectAtomClass}},[_c('div',{attrs:{\"slot\":\"after\"},slot:\"after\"},[_vm._v(_vm._s(_vm.atomClassTitle))])]):_vm._e()],1),_vm._v(\" \"),(_vm.item && _vm.validateParams)?_c('eb-validate',{ref:\"validate\",attrs:{\"auto\":\"\",\"data\":_vm.item,\"params\":_vm.validateParams}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page>\n    <eb-navbar :title=\"pageTitle\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-button ref=\"buttonSubmit\" iconMaterial=\"search\" :onPerform=\"onPerformSearch\"></eb-button>\n      </f7-nav-right>\n    </eb-navbar>\n    <eb-list form no-hairlines-md @submit.prevent=\"onFormSubmit\">\n      <f7-list-item>\n        <f7-label floating>{{$text('Atom name')}}</f7-label>\n        <eb-input type=\"text\" :placeholder=\"$text('Atom name')\" clear-button v-model=\"atomName\"></eb-input>\n      </f7-list-item>\n      <f7-list-item smartSelect :title=\"$text('Label')\" :smartSelectParams=\"{openIn: 'page', closeOnSelect: true}\">\n        <eb-select name=\"label\" v-model=\"label\" :options=\"labels\"></eb-select>\n      </f7-list-item>\n      <f7-list-item divider></f7-list-item>\n      <f7-list-item v-if=\"!atomClassInit\" :title=\"$text('Atom class')\" link=\"#\" @click=\"onSelectAtomClass\">\n        <div slot=\"after\">{{atomClassTitle}}</div>\n      </f7-list-item>\n    </eb-list>\n    <eb-validate v-if=\"item && validateParams\" ref=\"validate\" auto :data=\"item\" :params=\"validateParams\">\n    </eb-validate>\n  </eb-page>\n</template>\n<script>\nimport ebAtomClasses from '../../common/atomClasses.js';\nexport default {\n  mixins: [ ebAtomClasses ],\n  data() {\n    const query = this.$f7route.query;\n    const module = query && query.module;\n    const atomClassName = query && query.atomClassName;\n    const atomClass = (module && atomClassName) ? { module, atomClassName } : null;\n    const where = (query && query.where) ? JSON.parse(query.where) : null;\n    return {\n      atomName: '',\n      label: 0,\n      atomClass,\n      where,\n      item: null,\n      validateParams: null,\n      atomClassInit: atomClass,\n    };\n  },\n  computed: {\n    pageTitle() {\n      const atomClassTitle = this.atomClassTitle || this.$text('Atom');\n      return `${this.$text('Search')} ${atomClassTitle}`;\n    },\n    labels() {\n      const labelsAll = this.$local.getters('userLabels');\n      if (!labelsAll) return null;\n\n      const labels = [{ title: '', value: 0 }];\n      for (const key in labelsAll) {\n        labels.push({ title: labelsAll[key].text, value: key });\n      }\n      return labels;\n    },\n    atomClassTitle() {\n      if (!this.atomClass) return '';\n      if (this.atomClass.title) return this.atomClass.title;\n      const _atomClass = this.getAtomClass(this.atomClass);\n      if (!_atomClass) return '';\n      return _atomClass.titleLocale;\n    },\n  },\n  watch: {\n    atomClass(value) {\n      this.atomClassChanged();\n    },\n  },\n  created() {\n    // labels\n    this.$local.dispatch('getLabels');\n    // init atomClass\n    this.atomClassChanged();\n  },\n  methods: {\n    onFormSubmit() {\n      this.$refs.buttonSubmit.onClick();\n    },\n    atomClassChanged() {\n      const atomClass = this.atomClass;\n      if (!atomClass) {\n        this.item = null;\n        this.validateParams = null;\n      } else {\n        // module\n        this.$meta.module.use(atomClass.module, () => {\n          // validateParams\n          this.$api.post('atomClass/validatorSearch', {\n            atomClass: {\n              module: atomClass.module,\n              atomClassName: atomClass.atomClassName,\n            },\n          }).then(data => {\n            this.item = {};\n            this.validateParams = {\n              module: data.module,\n              validator: data.validator,\n            };\n          });\n        });\n      }\n    },\n    onSelectAtomClass() {\n      this.$view.navigate('/a/base/atom/selectAtomClass', {\n        target: '_self',\n        context: {\n          params: {\n            atomClass: this.atomClass,\n            optional: true,\n          },\n          callback: (code, data) => {\n            if (code === 200) {\n              this.atomClass = data;\n            }\n          },\n        },\n      });\n    },\n    onPerformSearch() {\n      let atomClassExtra;\n      if (this.item) {\n        atomClassExtra = {};\n        for (const key in this.item) {\n          const value = this.item[key];\n          // undefined/null/'', except 0/false\n          if (value !== undefined && value !== null && value !== '') {\n            if (typeof value === 'string') {\n              atomClassExtra[`f.${key}`] = { val: value, op: 'like' };\n            } else {\n              atomClassExtra[`f.${key}`] = value;\n            }\n          }\n        }\n      }\n\n      this.$view.navigate('/a/base/atom/searchResult', {\n        target: '_self',\n        context: {\n          params: {\n            atomName: this.atomName,\n            label: this.label,\n            atomClass: this.atomClass,\n            where: this.where,\n            atomClassExtra,\n          },\n        },\n      });\n    },\n  },\n};\n\n</script>\n<style scoped>\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=5965b25c&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5965b25c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',{attrs:{\"page-content\":false,\"tabs\":\"\",\"with-subnavbar\":\"\"}},[_c('eb-navbar',{attrs:{\"title\":_vm.$text('Home'),\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[_c('eb-link',{attrs:{\"iconMaterial\":\"search\",\"eb-target\":\"_self\",\"eb-href\":\"menu/search\"}})],1),_vm._v(\" \"),_c('f7-subnavbar',[_c('f7-toolbar',{attrs:{\"tabbar\":\"\"}},[_c('f7-link',{attrs:{\"tab-link\":(\"#\" + _vm.tabIdScenes),\"tab-link-active\":\"\"}},[_vm._v(_vm._s(_vm.$text('Scenes')))]),_vm._v(\" \"),_c('f7-link',{attrs:{\"tab-link\":(\"#\" + _vm.tabIdModules)}},[_vm._v(_vm._s(_vm.$text('Modules')))]),_vm._v(\" \"),_c('f7-link',{attrs:{\"tab-link\":(\"#\" + _vm.tabIdStars)}},[_vm._v(_vm._s(_vm.$text('Stars')))])],1)],1)],1),_vm._v(\" \"),_c('f7-tabs',[_c('eb-tab-page-content',{attrs:{\"id\":_vm.tabIdScenes,\"tab-active\":\"\"}},[_c('menus',{attrs:{\"slot\":\"list\",\"mode\":\"scenes\"},slot:\"list\"})],1),_vm._v(\" \"),_c('eb-tab-page-content',{attrs:{\"id\":_vm.tabIdModules}},[_c('menus',{attrs:{\"slot\":\"list\",\"mode\":\"modules\"},slot:\"list\"})],1),_vm._v(\" \"),_c('eb-tab-page-content',{attrs:{\"id\":_vm.tabIdStars}},[_c('menus',{attrs:{\"slot\":\"list\",\"mode\":\"stars\"},slot:\"list\"})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page :page-content=\"false\" tabs with-subnavbar>\n    <eb-navbar :title=\"$text('Home')\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link iconMaterial=\"search\" eb-target=\"_self\" eb-href=\"menu/search\"></eb-link>\n      </f7-nav-right>\n      <f7-subnavbar>\n        <f7-toolbar tabbar>\n          <f7-link :tab-link=\"`#${tabIdScenes}`\" tab-link-active>{{$text('Scenes')}}</f7-link>\n          <f7-link :tab-link=\"`#${tabIdModules}`\">{{$text('Modules')}}</f7-link>\n          <f7-link :tab-link=\"`#${tabIdStars}`\">{{$text('Stars')}}</f7-link>\n        </f7-toolbar>\n      </f7-subnavbar>\n    </eb-navbar>\n    <f7-tabs>\n      <eb-tab-page-content :id=\"tabIdScenes\" tab-active>\n        <menus slot=\"list\" mode=\"scenes\"></menus>\n      </eb-tab-page-content>\n      <eb-tab-page-content :id=\"tabIdModules\">\n        <menus slot=\"list\" mode=\"modules\"></menus>\n      </eb-tab-page-content>\n      <eb-tab-page-content :id=\"tabIdStars\">\n        <menus slot=\"list\" mode=\"stars\"></menus>\n      </eb-tab-page-content>\n    </f7-tabs>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nimport menus from '../../components/menu/list.vue';\nexport default {\n  meta: {\n    size: 'middle',\n  },\n  components: {\n    menus,\n  },\n  data() {\n    return {\n      tabIdScenes: Vue.prototype.$meta.util.nextId('tab'),\n      tabIdModules: Vue.prototype.$meta.util.nextId('tab'),\n      tabIdStars: Vue.prototype.$meta.util.nextId('tab'),\n    };\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=9cd07680&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-search-page',{attrs:{\"title\":_vm.$text('Search Menu')}},[_c('menus',{attrs:{\"slot\":\"list\",\"mode\":\"search\"},slot:\"list\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-search-page :title=\"$text('Search Menu')\">\n    <menus slot=\"list\" mode=\"search\"></menus>\n  </eb-search-page>\n</template>\n<script>\nimport menus from '../../components/menu/list.vue';\nexport default {\n  components: {\n    menus,\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=6c12ddf4&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',{attrs:{\"ptr\":\"\",\"infinite\":\"\",\"infinitePreloader\":false},on:{\"ptr:refresh\":_vm.onRefresh,\"infinite\":_vm.onInfinite}},[_c('eb-navbar',{attrs:{\"title\":_vm.$text('Comment List'),\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[(!_vm.user.anonymous)?_c('eb-link',{attrs:{\"iconMaterial\":\"add\",\"eb-href\":(\"comment/item?atomId=\" + _vm.atomId + \"&commentId=0&replyId=0\")}}):_vm._e(),_vm._v(\" \"),_c('eb-link',{attrs:{\"iconMaterial\":_vm.order==='desc'?'arrow_downward':'arrow_upward',\"onPerform\":_vm.onPerformSort}})],1)],1),_vm._v(\" \"),(_vm.moduleStyle)?_vm._l((_vm.items),function(item){return _c('f7-card',{key:item.id,staticClass:\"comment\"},[_c('f7-card-header',[_c('div',{staticClass:\"title\"},[_c('img',{staticClass:\"avatar avatar32\",attrs:{\"src\":_vm.$meta.util.combineImageUrl(item.avatar,32)}}),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.userName))]),_vm._v(\" \"),_c('div',{staticClass:\"date\"},[_vm._v(\"#\"+_vm._s(item.sorting)+\"  \"+_vm._s(_vm.$meta.util.formatDateTimeRelative(item.createdAt)))])]),_vm._v(\" \"),_c('div',{staticClass:\"actions\"},[(item.userId===_vm.user.id)?_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":\"edit\",\"eb-href\":(\"comment/item?atomId=\" + _vm.atomId + \"&commentId=\" + (item.id) + \"&replyId=0\")}}):_vm._e(),_vm._v(\" \"),(item.userId===_vm.user.id)?_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":\"delete_forever\",\"context\":item,\"onPerform\":_vm.onPerformDelete}}):_vm._e(),_vm._v(\" \"),_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":item.heart?'favorite':'favorite_border',\"context\":item,\"onPerform\":_vm.onPerformHeart}},[_vm._v(_vm._s(item.heartCount))]),_vm._v(\" \"),(!_vm.user.anonymous)?_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":\"reply\",\"eb-href\":(\"comment/item?atomId=\" + _vm.atomId + \"&commentId=0&replyId=\" + (item.id))}}):_vm._e()],1)]),_vm._v(\" \"),_c('f7-card-content',{staticClass:\"markdown-body\",attrs:{\"padding\":\"\"},domProps:{\"innerHTML\":_vm._s(item.html)}})],1)}):_vm._e(),_vm._v(\" \"),_c('eb-load-more',{ref:\"loadMore\",attrs:{\"onLoadClear\":_vm.onLoadClear,\"onLoadMore\":_vm.onLoadMore,\"autoInit\":true}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page ptr @ptr:refresh=\"onRefresh\" infinite :infinitePreloader=\"false\" @infinite=\"onInfinite\">\n    <eb-navbar :title=\"$text('Comment List')\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link v-if=\"!user.anonymous\" iconMaterial=\"add\" :eb-href=\"`comment/item?atomId=${atomId}&commentId=0&replyId=0`\"></eb-link>\n        <eb-link :iconMaterial=\"order==='desc'?'arrow_downward':'arrow_upward'\" :onPerform=\"onPerformSort\"></eb-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <template v-if=\"moduleStyle\">\n      <f7-card class=\"comment\" v-for=\"item of items\" :key=\"item.id\">\n        <f7-card-header>\n          <div class=\"title\">\n            <img class=\"avatar avatar32\" :src=\"$meta.util.combineImageUrl(item.avatar,32)\">\n            <div class=\"name\">{{item.userName}}</div>\n            <div class=\"date\">#{{item.sorting}}  {{$meta.util.formatDateTimeRelative(item.createdAt)}}</div>\n          </div>\n          <div class=\"actions\">\n            <eb-link v-if=\"item.userId===user.id\" class=\"action\" iconMaterial=\"edit\" :eb-href=\"`comment/item?atomId=${atomId}&commentId=${item.id}&replyId=0`\"></eb-link>\n            <eb-link v-if=\"item.userId===user.id\" class=\"action\" iconMaterial=\"delete_forever\" :context=\"item\" :onPerform=\"onPerformDelete\"></eb-link>\n            <eb-link class=\"action\" :iconMaterial=\"item.heart?'favorite':'favorite_border'\" :context=\"item\" :onPerform=\"onPerformHeart\">{{item.heartCount}}</eb-link>\n            <eb-link v-if=\"!user.anonymous\" class=\"action\" iconMaterial=\"reply\" :eb-href=\"`comment/item?atomId=${atomId}&commentId=0&replyId=${item.id}`\"></eb-link>\n          </div>\n        </f7-card-header>\n        <f7-card-content padding class=\"markdown-body\" v-html=\"item.html\"></f7-card-content>\n      </f7-card>\n    </template>\n    <eb-load-more ref=\"loadMore\" :onLoadClear=\"onLoadClear\" :onLoadMore=\"onLoadMore\" :autoInit=\"true\"></eb-load-more>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nexport default {\n  data() {\n    return {\n      atomId: parseInt(this.$f7route.query.atomId),\n      order: 'desc',\n      items: [],\n      moduleStyle: null,\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.auth.user.op;\n    },\n  },\n  created() {\n    this.$meta.module.use(this.$meta.config.markdown.style.module, module => {\n      this.moduleStyle = module;\n    });\n  },\n  mounted() {\n    this.$meta.eventHub.$on('comment:action', this.onCommentChanged);\n  },\n  beforeDestroy() {\n    this.$meta.eventHub.$off('comment:action', this.onCommentChanged);\n  },\n  methods: {\n    onRefresh(event, done) { // eslint-disable-line\n      done();\n      this.reload();\n    },\n    onInfinite() {\n      this.$refs.loadMore.loadMore();\n    },\n    onLoadClear(done) {\n      this.items = [];\n      done();\n    },\n    onLoadMore({ index }) {\n      // options\n      const options = {\n        orders: [\n          [ 'updatedAt', this.order ],\n        ],\n        page: { index },\n      };\n      // fetch\n      return this.$api.post('comment/list', {\n        key: { atomId: this.atomId },\n        options,\n      }).then(data => {\n        this.items = this.items.concat(data.list);\n        return data;\n      });\n    },\n    reload() {\n      this.$refs.loadMore.reload();\n    },\n    onPerformDelete(event, item) {\n      // delete\n      return this.$view.dialog.confirm().then(() => {\n        return this.$api.post('comment/delete', {\n          key: { atomId: this.atomId },\n          data: { commentId: item.id },\n        }).then(data => {\n          this.$meta.eventHub.$emit('comment:action', data);\n          return true;\n        });\n      });\n    },\n    onPerformHeart(event, item) {\n      // anonymous\n      if (this.user.anonymous) {\n        this.$view.dialog.confirm(this.$text('Please sign in')).then(() => {\n          // login\n          this.$meta.vueLayout.openLogin();\n        });\n        return;\n      }\n      //\n      return this.$api.post('comment/heart', {\n        key: { atomId: this.atomId },\n        data: { commentId: item.id, heart: item.heart ? 0 : 1 },\n      }).then(data => {\n        this.$meta.eventHub.$emit('comment:action', data);\n      });\n    },\n    onCommentChanged(data) {\n      const action = data.action;\n      const atomId = data.atomId;\n      const commentId = data.commentId;\n      // check\n      if (atomId !== this.atomId) return;\n      // create\n      if (action === 'create') {\n        this.reload();\n        return;\n      }\n      // delete\n      const index = this.items.findIndex(item => item.id === commentId);\n      if (action === 'delete') {\n        if (index !== -1) {\n          this.items.splice(index, 1);\n        }\n        return;\n      }\n      // others\n      if (index !== -1) {\n        this.$api.post('comment/item', {\n          key: { atomId: this.atomId },\n          data: { commentId },\n        }).then(data => {\n          Vue.set(this.items, index, data);\n        });\n      }\n    },\n    onPerformSort() {\n      this.order = this.order === 'desc' ? 'asc' : 'desc';\n      this.reload();\n    },\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=ec206d78&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"title\":_vm.$text('Labels'),\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[_c('eb-link',{attrs:{\"iconMaterial\":\"add\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onAddLabel($event)}}})],1)],1),_vm._v(\" \"),(_vm.labelsAll)?_c('f7-list',[_c('f7-list-item',{attrs:{\"group-title\":\"\",\"title\":_vm.item?_vm.item.atomName:''}}),_vm._v(\" \"),_vm._l((Object.keys(_vm.labelsAll)),function(key){return _c('eb-list-item',{key:key,attrs:{\"title\":_vm.labelsAll[key].text,\"checkbox\":\"\",\"checked\":_vm.labelChecked(key),\"swipeout\":\"\"},on:{\"change\":function($event){return _vm.onLabelCheckChange($event,key)}}},[_c('div',{staticClass:\"media\",style:({backgroundColor:_vm.labelsAll[key].color}),attrs:{\"slot\":\"media\"},slot:\"media\"}),_vm._v(\" \"),_c('eb-context-menu',[_c('div',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{attrs:{\"close\":\"\",\"color\":\"orange\",\"context\":key,\"onPerform\":_vm.onEditLabel}},[_vm._v(_vm._s(_vm.$text('Edit')))])])])],1)})],2):_vm._e(),_vm._v(\" \"),_c('f7-sheet',{ref:\"ebSheet\",attrs:{\"fill\":\"\",\"opened\":_vm.sheetOpened},on:{\"sheet:closed\":function($event){_vm.sheetOpened = false}}},[_c('f7-toolbar',[_c('div',{staticClass:\"left\"},[_c('f7-link',{attrs:{\"sheet-close\":\"\"}},[_vm._v(_vm._s(_vm.$text('Close')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('eb-button',{ref:\"buttonSubmit\",attrs:{\"onPerform\":_vm.onSubmit}},[_vm._v(_vm._s(_vm.$text('Submit')))])],1)]),_vm._v(\" \"),_c('f7-page-content',[_c('div',{staticClass:\"label\"},[_c('f7-badge',{style:({backgroundColor:_vm.labelColor})},[_vm._v(_vm._s(_vm.labelText))])],1),_vm._v(\" \"),_c('eb-list',{attrs:{\"form\":\"\",\"no-hairlines-md\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onFormSubmit($event)}}},[_c('f7-list-item',[_c('f7-label',{attrs:{\"floating\":\"\"}},[_vm._v(_vm._s(_vm.$text('Text')))]),_vm._v(\" \"),_c('eb-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$text('Text'),\"clear-button\":\"\"},model:{value:(_vm.labelText),callback:function ($$v) {_vm.labelText=$$v},expression:\"labelText\"}})],1)],1),_vm._v(\" \"),_c('f7-block',[_c('div',{staticClass:\"row colors\"},_vm._l((_vm.colors),function(color){return _c('f7-button',{key:color.value,staticClass:\"col-33\",style:({backgroundColor:color.value}),attrs:{\"small\":\"\",\"fill\":\"\"},on:{\"click\":function($event){return _vm.onColorSelect(color)}}},[_vm._v(_vm._s(_vm.$text(color.name)))])}),1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page>\n    <eb-navbar :title=\"$text('Labels')\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link iconMaterial=\"add\" @click.prevent=\"onAddLabel\"></eb-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <f7-list v-if=\"labelsAll\">\n      <f7-list-item group-title :title=\"item?item.atomName:''\"></f7-list-item>\n      <eb-list-item v-for=\"key of Object.keys(labelsAll)\" :key=\"key\" :title=\"labelsAll[key].text\" checkbox :checked=\"labelChecked(key)\" @change=\"onLabelCheckChange($event,key)\" swipeout>\n        <div slot=\"media\" class=\"media\" :style=\"{backgroundColor:labelsAll[key].color}\"></div>\n        <eb-context-menu>\n          <div slot=\"right\">\n            <div close color=\"orange\" :context=\"key\" :onPerform=\"onEditLabel\">{{$text('Edit')}}</div>\n          </div>\n        </eb-context-menu>\n      </eb-list-item>\n    </f7-list>\n    <f7-sheet ref=\"ebSheet\" fill :opened=\"sheetOpened\" @sheet:closed=\"sheetOpened = false\">\n      <f7-toolbar>\n        <div class=\"left\">\n          <f7-link sheet-close>{{$text('Close')}}</f7-link>\n        </div>\n        <div class=\"right\">\n          <eb-button ref=\"buttonSubmit\" :onPerform=\"onSubmit\">{{$text('Submit')}}</eb-button>\n        </div>\n      </f7-toolbar>\n      <f7-page-content>\n        <div class=\"label\">\n          <f7-badge :style=\"{backgroundColor:labelColor}\">{{labelText}}</f7-badge>\n        </div>\n        <eb-list form no-hairlines-md @submit.prevent=\"onFormSubmit\">\n          <f7-list-item>\n            <f7-label floating>{{$text('Text')}}</f7-label>\n            <eb-input type=\"text\" v-model=\"labelText\" :placeholder=\"$text('Text')\" clear-button></eb-input>\n          </f7-list-item>\n        </eb-list>\n        <f7-block>\n          <div class=\"row colors\">\n            <f7-button v-for=\"color of colors\" :key=\"color.value\" class=\"col-33\" :style=\"{backgroundColor:color.value}\" small fill @click=\"onColorSelect(color)\">{{$text(color.name)}}</f7-button>\n          </div>\n        </f7-block>\n      </f7-page-content>\n    </f7-sheet>\n  </eb-page>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      atomId: parseInt(this.$f7route.query.atomId),\n      item: null,\n      labels: [],\n      sheetOpened: false,\n      labelId: 0,\n      labelText: '',\n      labelColor: '',\n      colors: [\n        { name: 'Red', value: '#FC6360' },\n        { name: 'Orange', value: '#FDA951' },\n        { name: 'Yellow', value: '#FED558' },\n        { name: 'Blue', value: '#54BEF7' },\n        { name: 'Green', value: '#86DF6A' },\n        { name: 'Purple', value: '#D592E5' },\n      ],\n    };\n  },\n  computed: {\n    labelsAll() {\n      return this.$local.getters('userLabels');\n    },\n  },\n  methods: {\n    onAddLabel() {\n      this.labelId = 0;\n      this.labelText = '';\n      this.labelColor = '';\n      this.sheetOpened = true;\n    },\n    onEditLabel(event, key) {\n      this.labelId = key;\n      this.labelText = this.labelsAll[key].text;\n      this.labelColor = this.labelsAll[key].color;\n      this.sheetOpened = true;\n    },\n    onFormSubmit() {\n      this.$refs.buttonSubmit.onClick();\n    },\n    onSubmit() {\n      if (!this.labelText || !this.labelColor) return;\n      const labels = this.$utils.extend({}, this.labelsAll);\n      if (this.labelId === 0) {\n        labels[this.newLabelId()] = { text: this.labelText, color: this.labelColor };\n      } else {\n        labels[this.labelId] = { text: this.labelText, color: this.labelColor };\n      }\n      return this.$api.post('user/setLabels', {\n        labels,\n      }).then(() => {\n        this.$local.commit('setLabels', labels);\n        this.sheetOpened = false;\n      });\n    },\n    onColorSelect(color) {\n      this.labelColor = color.value;\n    },\n    newLabelId() {\n      const keys = Object.keys(this.labelsAll);\n      if (keys.length === 0) return 1;\n      keys.sort((a, b) => b - a);\n      return parseInt(keys[0]) + 1;\n    },\n    labelChecked(key) {\n      return this.labels && this.labels.indexOf(key) > -1;\n    },\n    onLabelCheckChange(event, key) {\n      // labels\n      const index = this.labels.indexOf(key);\n      if (event.target.checked && index === -1) {\n        this.labels.push(key);\n      } else if (!event.target.checked && index > -1) {\n        this.labels.splice(index, 1);\n      }\n      // sort\n      this.labels.sort((a, b) => a - b);\n      // post\n      this.$api.post('atom/labels', {\n        key: { atomId: this.atomId },\n        atom: { labels: this.labels },\n      }).then(() => {\n        this.$meta.eventHub.$emit('atom:labels', { key: { atomId: this.atomId }, labels: this.labels });\n      });\n    },\n  },\n  created() {\n    this.$local.dispatch('getLabels');\n    this.$api.post('atom/read', {\n      key: { atomId: this.atomId },\n    }).then(data => {\n      this.item = data;\n      this.labels = JSON.parse(this.item.labels) || [];\n    });\n  },\n};\n\n</script>\n<style scoped>\n.label {\n  position: absolute;\n  width: 100%;\n  top: 10px;\n  text-align: center;\n}\n\n.media {\n  width: 16px;\n  height: 16px;\n  border-radius: 8px;\n}\n\n.colors {\n  height: 60px;\n}\n\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./labels.vue?vue&type=template&id=3291d312&scoped=true&\"\nimport script from \"./labels.vue?vue&type=script&lang=js&\"\nexport * from \"./labels.vue?vue&type=script&lang=js&\"\nimport style0 from \"./labels.vue?vue&type=style&index=0&id=3291d312&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3291d312\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('item',{attrs:{\"query\":_vm.query,\"mode\":\"edit\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <item :query=\"query\" mode=\"edit\"></item>\n</template>\n<script>\nimport item from '../../components/atom/item.vue';\nexport default {\n  meta: {\n    size: 'middle',\n  },\n  components: {\n    item,\n  },\n  data() {\n    return {\n      query: this.$f7route.query,\n    };\n  },\n};\n\n</script>\n<style scoped>\n\n\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=b93853f4&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b93853f4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',{attrs:{\"page-content\":false,\"tabs\":\"\",\"with-subnavbar\":\"\"}},[_c('eb-navbar',{attrs:{\"title\":_vm.pageTitle,\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[(_vm.showPopover)?_c('f7-link',{attrs:{\"iconMaterial\":\"add\",\"popover-open\":(\"#\" + _vm.popoverId)}}):_vm._e(),_vm._v(\" \"),_c('eb-link',{attrs:{\"iconMaterial\":\"search\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onSearch($event)}}})],1),_vm._v(\" \"),_c('f7-subnavbar',[_c('f7-toolbar',{attrs:{\"tabbar\":\"\",\"scrollable\":_vm.labels && Object.keys(_vm.labels).length>1}},[_c('f7-link',{attrs:{\"tab-link\":(\"#\" + _vm.tabIdList),\"tab-link-active\":\"\"}},[_vm._v(_vm._s(_vm.$text('List')))]),_vm._v(\" \"),_c('f7-link',{attrs:{\"tab-link\":(\"#\" + _vm.tabIdDrafts)}},[_vm._v(_vm._s(_vm.$text('Drafts')))]),_vm._v(\" \"),_c('f7-link',{attrs:{\"tab-link\":(\"#\" + _vm.tabIdStars)}},[_vm._v(_vm._s(_vm.$text('Stars')))]),_vm._v(\" \"),(_vm.labels)?_vm._l((Object.keys(_vm.labels)),function(key){return _c('f7-link',{key:key,attrs:{\"tab-link\":(\"#\" + _vm.tabIdLabels + \"_\" + key)}},[_vm._v(_vm._s(_vm.labels[key].text))])}):_vm._e()],2)],1)],1),_vm._v(\" \"),_c('f7-tabs',[_c('eb-tab-page-content',{attrs:{\"id\":_vm.tabIdList,\"tab-active\":\"\"}},[_c('atoms',{attrs:{\"slot\":\"list\",\"mode\":\"list\",\"atomClass\":_vm.atomClass,\"where\":_vm.whereForList},slot:\"list\"})],1),_vm._v(\" \"),_c('eb-tab-page-content',{attrs:{\"id\":_vm.tabIdDrafts}},[_c('atoms',{attrs:{\"slot\":\"list\",\"mode\":\"drafts\",\"atomClass\":_vm.atomClass,\"where\":_vm.where},slot:\"list\"})],1),_vm._v(\" \"),_c('eb-tab-page-content',{attrs:{\"id\":_vm.tabIdStars}},[_c('atoms',{attrs:{\"slot\":\"list\",\"mode\":\"stars\",\"atomClass\":_vm.atomClass,\"where\":_vm.where},slot:\"list\"})],1),_vm._v(\" \"),(_vm.labels)?_vm._l((Object.keys(_vm.labels)),function(key){return _c('eb-tab-page-content',{key:key,attrs:{\"id\":(_vm.tabIdLabels + \"_\" + key)}},[_c('atoms',{attrs:{\"slot\":\"list\",\"mode\":(\"labels-\" + key),\"atomClass\":_vm.atomClass,\"where\":_vm.where},slot:\"list\"})],1)}):_vm._e()],2),_vm._v(\" \"),_c('f7-popover',{attrs:{\"id\":_vm.popoverId}},[(_vm.showPopover)?_c('f7-list',{attrs:{\"inset\":\"\"}},_vm._l((_vm.actions),function(action){return _c('eb-list-button',{key:action.id,attrs:{\"popover-close\":\"\",\"context\":action,\"onPerform\":_vm.onAction}},[_vm._v(_vm._s(action.titleLocale))])}),1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page :page-content=\"false\" tabs with-subnavbar>\n    <eb-navbar :title=\"pageTitle\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <f7-link v-if=\"showPopover\" iconMaterial=\"add\" :popover-open=\"`#${popoverId}`\"></f7-link>\n        <eb-link iconMaterial=\"search\" @click.prevent=\"onSearch\"></eb-link>\n      </f7-nav-right>\n      <f7-subnavbar>\n        <f7-toolbar tabbar :scrollable=\"labels && Object.keys(labels).length>1\">\n          <f7-link :tab-link=\"`#${tabIdList}`\" tab-link-active>{{$text('List')}}</f7-link>\n          <f7-link :tab-link=\"`#${tabIdDrafts}`\">{{$text('Drafts')}}</f7-link>\n          <f7-link :tab-link=\"`#${tabIdStars}`\">{{$text('Stars')}}</f7-link>\n          <template v-if=\"labels\">\n            <f7-link v-for=\"key of Object.keys(labels)\" :key=\"key\" :tab-link=\"`#${tabIdLabels}_${key}`\">{{labels[key].text}}</f7-link>\n          </template>\n        </f7-toolbar>\n      </f7-subnavbar>\n    </eb-navbar>\n    <f7-tabs>\n      <eb-tab-page-content :id=\"tabIdList\" tab-active>\n        <atoms slot=\"list\" mode=\"list\" :atomClass=\"atomClass\" :where=\"whereForList\"></atoms>\n      </eb-tab-page-content>\n      <eb-tab-page-content :id=\"tabIdDrafts\">\n        <atoms slot=\"list\" mode=\"drafts\" :atomClass=\"atomClass\" :where=\"where\"></atoms>\n      </eb-tab-page-content>\n      <eb-tab-page-content :id=\"tabIdStars\">\n        <atoms slot=\"list\" mode=\"stars\" :atomClass=\"atomClass\" :where=\"where\"></atoms>\n      </eb-tab-page-content>\n      <template v-if=\"labels\">\n        <eb-tab-page-content v-for=\"key of Object.keys(labels)\" :key=\"key\" :id=\"`${tabIdLabels}_${key}`\">\n          <atoms slot=\"list\" :mode=\"`labels-${key}`\" :atomClass=\"atomClass\" :where=\"where\"></atoms>\n        </eb-tab-page-content>\n      </template>\n    </f7-tabs>\n    <f7-popover :id=\"popoverId\">\n      <f7-list v-if=\"showPopover\" inset>\n        <eb-list-button v-for=\"action of actions\" :key=\"action.id\" popover-close :context=\"action\" :onPerform=\"onAction\">{{action.titleLocale}}</eb-list-button>\n      </f7-list>\n    </f7-popover>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nimport atoms from '../../components/atom/list.vue';\nimport ebAtomClasses from '../../common/atomClasses.js';\nimport ebActions from '../../common/actions.js';\nimport ebMenus from '../../common/menus.js';\nexport default {\n  mixins: [ ebAtomClasses, ebActions, ebMenus ],\n  components: {\n    atoms,\n  },\n  data() {\n    const query = this.$f7route.query;\n    const module = query && query.module;\n    const atomClassName = query && query.atomClassName;\n    const atomClass = (module && atomClassName) ? { module, atomClassName } : null;\n    const where = (query && query.where) ? JSON.parse(query.where) : null;\n    const scene = query && query.scene;\n    return {\n      atomClass,\n      where,\n      scene,\n      tabIdList: Vue.prototype.$meta.util.nextId('tab'),\n      tabIdDrafts: Vue.prototype.$meta.util.nextId('tab'),\n      tabIdStars: Vue.prototype.$meta.util.nextId('tab'),\n      tabIdLabels: Vue.prototype.$meta.util.nextId('tab'),\n      popoverId: Vue.prototype.$meta.util.nextId('popover'),\n      actions: null,\n    };\n  },\n  computed: {\n    labels() {\n      return this.$local.getters('userLabels');\n    },\n    pageTitle() {\n      const atomClass = this.getAtomClass(this.atomClass);\n      if (!atomClass) return this.$text('Atom');\n      return `${this.$text('Atom')}: ${atomClass.titleLocale}`;\n    },\n    showPopover() {\n      return this.actions && this.actions.length > 0;\n    },\n    whereForList() {\n      // others\n      if (this.scene !== 'mine') return this.where;\n      // mine\n      const where = this.where || {};\n      const user = this.$store.state.auth.user.op;\n      where['a.userIdCreated'] = user.id;\n      return where;\n    },\n  },\n  created() {\n    // labels\n    this.$local.dispatch('getLabels');\n    // functionList\n    const options = {\n      where: { menu: 1, scene: 1 },\n      orders: [\n        [ 'sorting', 'asc' ],\n      ],\n    };\n    if (this.atomClass) {\n      options.where['e.module'] = this.atomClass.module;\n      options.where['e.atomClassName'] = this.atomClass.atomClassName;\n    }\n    this.$api.post('function/list', {\n      options,\n    }).then(data => {\n      this.actions = data.list;\n    });\n  },\n  methods: {\n    onSearch() {\n      const queries = {};\n      const atomClass = this.atomClass;\n      if (atomClass) {\n        queries.module = atomClass.module;\n        queries.atomClassName = atomClass.atomClassName;\n      }\n      if (this.where) {\n        queries.where = JSON.stringify(this.where);\n      }\n      const url = this.$meta.util.combineQueries('/a/base/atom/search', queries);\n      this.$view.navigate(url, { target: '_self' });\n    },\n    onAction(event, item) {\n      const _menu = this.getMenu(item);\n      if (!_menu) return;\n      if (_menu.action === 'create') {\n        item = {\n          atomClassId: item.atomClassId,\n          module: item.module,\n          atomClassName: item.atomClassName,\n          atomClassIdParent: item.atomClassIdParent,\n        };\n      }\n      return this.$meta.util.performAction({ ctx: this, action: _menu, item });\n    },\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=25defff8&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',{attrs:{\"ptr\":\"\",\"infinite\":\"\",\"infinitePreloader\":false},on:{\"ptr:refresh\":_vm.onRefresh,\"infinite\":_vm.onInfinite}},[_c('eb-navbar',{attrs:{\"title\":_vm.$text('Search Result'),\"eb-back-link\":\"Back\"}}),_vm._v(\" \"),_c('atoms',{ref:\"list\",attrs:{\"mode\":\"search\",\"params\":_vm.params,\"atomClass\":_vm.atomClass,\"where\":_vm.where}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page ptr @ptr:refresh=\"onRefresh\" infinite :infinitePreloader=\"false\" @infinite=\"onInfinite\">\n    <eb-navbar :title=\"$text('Search Result')\" eb-back-link=\"Back\"></eb-navbar>\n    <atoms ref=\"list\" mode=\"search\" :params=\"params\" :atomClass=\"atomClass\" :where=\"where\"></atoms>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nconst ebPageContext = Vue.prototype.$meta.module.get('a-components').options.components.ebPageContext;\nimport atoms from '../../components/atom/list.vue';\nexport default {\n  mixins: [ ebPageContext ],\n  components: {\n    atoms,\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    params() {\n      return this.contextParams;\n    },\n    atomClass() {\n      return this.contextParams.atomClass;\n    },\n    where() {\n      return this.contextParams.where;\n    },\n  },\n  methods: {\n    onRefresh(event, done) { // eslint-disable-line\n      done();\n      this.$refs.list.reload();\n    },\n    onInfinite() {\n      this.$refs.list.loadMore();\n    },\n  },\n  mounted() {\n    this.$refs.list.reload(true);\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./searchResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./searchResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./searchResult.vue?vue&type=template&id=8b705ea0&\"\nimport script from \"./searchResult.vue?vue&type=script&lang=js&\"\nexport * from \"./searchResult.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"title\":_vm.$text(_vm.menu===1?'Select Menu':'Select Function'),\"eb-back-link\":\"Back\"}}),_vm._v(\" \"),_c('f7-list',_vm._l((_vm.functions),function(item,index){return _c('f7-list-item',{key:index,attrs:{\"radio\":\"\",\"checked\":_vm.name===item.name,\"title\":item.title},on:{\"click\":function($event){return _vm.onItemClick(item)}}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page>\n    <eb-navbar :title=\"$text(menu===1?'Select Menu':'Select Function')\" eb-back-link=\"Back\"></eb-navbar>\n    <f7-list>\n      <f7-list-item v-for=\"(item,index) of functions\" :key=\"index\" radio :checked=\"name===item.name\" :title=\"item.title\" @click=\"onItemClick(item)\">\n      </f7-list-item>\n    </f7-list>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nconst ebPageContext = Vue.prototype.$meta.module.get('a-components').options.components.ebPageContext;\nexport default {\n  mixins: [ ebPageContext ],\n  data() {\n    return {};\n  },\n  computed: {\n    module() {\n      return this.contextParams.module;\n    },\n    name() {\n      return this.contextParams.name;\n    },\n    menu() {\n      return this.contextParams.menu;\n    },\n    optional() {\n      return this.contextParams.optional;\n    },\n    functions() {\n      const functionsAll = this.$local.state.functions;\n      if (!functionsAll) return [];\n\n      const functions = [];\n      if (this.optional) {\n        functions.push({ title: null, name: null });\n      }\n      for (const name in functionsAll[this.module]) {\n        const func = functionsAll[this.module][name];\n        if (func.menu === this.menu) {\n          functions.push({\n            title: func.titleLocale,\n            name,\n          });\n        }\n      }\n      return functions;\n    },\n  },\n  created() {\n    this.$local.dispatch('getFunctions');\n  },\n  methods: {\n    onItemClick(item) {\n      const data = item.name ? {\n        module: this.module,\n        name: item.name,\n        title: item.title,\n      } : null;\n      this.contextCallback(200, data);\n      this.$f7router.back();\n    },\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectFunction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectFunction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./selectFunction.vue?vue&type=template&id=4ec594ea&\"\nimport script from \"./selectFunction.vue?vue&type=script&lang=js&\"\nexport * from \"./selectFunction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"title\":_vm.$text('Select Atom Class'),\"eb-back-link\":\"Back\"}}),_vm._v(\" \"),_c('f7-list',_vm._l((_vm.atomClasses),function(item,index){return _c('f7-list-item',{key:index,attrs:{\"radio\":\"\",\"checked\":_vm.module===item.module && _vm.atomClassName===item.atomClassName,\"title\":item.title},on:{\"click\":function($event){return _vm.onItemClick(item)}}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page>\n    <eb-navbar :title=\"$text('Select Atom Class')\" eb-back-link=\"Back\"></eb-navbar>\n    <f7-list>\n      <f7-list-item v-for=\"(item,index) of atomClasses\" :key=\"index\" radio :checked=\"module===item.module && atomClassName===item.atomClassName\" :title=\"item.title\" @click=\"onItemClick(item)\">\n      </f7-list-item>\n    </f7-list>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nconst ebPageContext = Vue.prototype.$meta.module.get('a-components').options.components.ebPageContext;\nimport ebAtomClasses from '../../common/atomClasses.js';\nexport default {\n  mixins: [ ebPageContext, ebAtomClasses ],\n  data() {\n    return {};\n  },\n  computed: {\n    module() {\n      return this.contextParams.atomClass ? this.contextParams.atomClass.module : null;\n    },\n    atomClassName() {\n      return this.contextParams.atomClass ? this.contextParams.atomClass.atomClassName : null;\n    },\n    optional() {\n      return this.contextParams.optional;\n    },\n    atomClasses() {\n      const atomClassesAll = this.atomClassesAll;\n      if (!atomClassesAll) return [];\n\n      const atomClasses = [];\n      if (this.optional) {\n        atomClasses.push({ title: null, module: null, atomClassName: null });\n      }\n      for (const module in atomClassesAll) {\n        for (const atomClassName in atomClassesAll[module]) {\n          atomClasses.push({\n            title: atomClassesAll[module][atomClassName].titleLocale,\n            module,\n            atomClassName,\n          });\n        }\n      }\n      return atomClasses;\n    },\n  },\n  methods: {\n    onItemClick(item) {\n      const data = item.module ? {\n        module: item.module,\n        atomClassName: item.atomClassName,\n        title: item.title,\n      } : null;\n      this.contextCallback(200, data);\n      this.$f7router.back();\n    },\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectAtomClass.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectAtomClass.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./selectAtomClass.vue?vue&type=template&id=209e6852&\"\nimport script from \"./selectAtomClass.vue?vue&type=script&lang=js&\"\nexport * from \"./selectAtomClass.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('item',{attrs:{\"query\":_vm.query,\"mode\":\"view\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <item :query=\"query\" mode=\"view\"></item>\n</template>\n<script>\nimport item from '../../components/atom/item.vue';\nexport default {\n  meta: {\n    size: 'middle',\n  },\n  components: {\n    item,\n  },\n  data() {\n    return {\n      query: this.$f7route.query,\n    };\n  },\n};\n\n</script>\n<style scoped>\n\n\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./view.vue?vue&type=template&id=09fd04a6&scoped=true&\"\nimport script from \"./view.vue?vue&type=script&lang=js&\"\nexport * from \"./view.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09fd04a6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',{attrs:{\"ptr\":\"\",\"infinite\":\"\",\"infinitePreloader\":false},on:{\"ptr:refresh\":_vm.onRefresh,\"infinite\":_vm.onInfinite}},[_c('eb-navbar',{attrs:{\"title\":_vm.$text('Attachment List'),\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[(_vm.findAction('write'))?_c('eb-link',{attrs:{\"iconMaterial\":\"add\",\"onPerform\":_vm.onPerformAdd}}):_vm._e()],1)],1),_vm._v(\" \"),_c('f7-list',_vm._l((_vm.items),function(item){return _c('eb-list-item',{key:item.id,staticClass:\"item\",attrs:{\"title\":item.realName,\"link\":\"#\",\"context\":item,\"onPerform\":_vm.onItemClick,\"swipeout\":item.userId===_vm.user.id}},[_c('div',{attrs:{\"slot\":\"media\"},slot:\"media\"},[_c('img',{staticClass:\"avatar avatar32\",attrs:{\"src\":_vm.$meta.util.combineImageUrl(item.avatar,32)}})]),_vm._v(\" \"),_c('div',{staticClass:\"header\",attrs:{\"slot\":\"root-start\"},slot:\"root-start\"},[_c('div',{staticClass:\"userName\"},[_c('span',[_vm._v(_vm._s(item.userName))])]),_vm._v(\" \"),_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.$meta.util.formatDateTimeRelative(item.createdAt)))])]),_vm._v(\" \"),(item.userId===_vm.user.id)?_c('eb-context-menu',[_c('div',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{attrs:{\"color\":\"orange\",\"context\":item,\"onPerform\":_vm.onPerformDelete}},[_vm._v(_vm._s(_vm.$text('Delete')))])])]):_vm._e()],1)}),1),_vm._v(\" \"),_c('eb-load-more',{ref:\"loadMore\",attrs:{\"onLoadClear\":_vm.onLoadClear,\"onLoadMore\":_vm.onLoadMore,\"autoInit\":true}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page ptr @ptr:refresh=\"onRefresh\" infinite :infinitePreloader=\"false\" @infinite=\"onInfinite\">\n    <eb-navbar :title=\"$text('Attachment List')\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link v-if=\"findAction('write')\" iconMaterial=\"add\" :onPerform=\"onPerformAdd\"></eb-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <f7-list>\n      <eb-list-item class=\"item\" v-for=\"item of items\" :key=\"item.id\" :title=\"item.realName\" link=\"#\" :context=\"item\" :onPerform=\"onItemClick\" :swipeout=\"item.userId===user.id\">\n        <div slot=\"media\">\n          <img class=\"avatar avatar32\" :src=\"$meta.util.combineImageUrl(item.avatar,32)\">\n        </div>\n        <div slot=\"root-start\" class=\"header\">\n          <div class=\"userName\">\n            <span>{{item.userName}}</span>\n          </div>\n          <div class=\"date\">{{$meta.util.formatDateTimeRelative(item.createdAt)}}</div>\n        </div>\n        <eb-context-menu v-if=\"item.userId===user.id\">\n          <div slot=\"right\">\n            <div color=\"orange\" :context=\"item\" :onPerform=\"onPerformDelete\">{{$text('Delete')}}</div>\n          </div>\n        </eb-context-menu>\n      </eb-list-item>\n    </f7-list>\n    <eb-load-more ref=\"loadMore\" :onLoadClear=\"onLoadClear\" :onLoadMore=\"onLoadMore\" :autoInit=\"true\"></eb-load-more>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nexport default {\n  data() {\n    return {\n      atomId: parseInt(this.$f7route.query.atomId),\n      actions: null,\n      items: [],\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.auth.user.op;\n    },\n  },\n  created() {\n    this.fetchActions();\n  },\n  methods: {\n    onRefresh(event, done) { // eslint-disable-line\n      done();\n      this.reload();\n    },\n    onInfinite() {\n      this.$refs.loadMore.loadMore();\n    },\n    onLoadClear(done) {\n      this.items = [];\n      done();\n    },\n    onLoadMore({ index }) {\n      // options\n      const options = {\n        where: {\n          mode: 2,\n          attachment: 1,\n        },\n        orders: [\n          [ 'createdAt', 'asc' ],\n        ],\n        page: { index },\n      };\n      // fetch\n      return this.$api.post('/a/file/file/list', {\n        key: { atomId: this.atomId },\n        options,\n      }).then(data => {\n        this.items = this.items.concat(data.list);\n        return data;\n      });\n    },\n    reload() {\n      this.$refs.loadMore.reload();\n    },\n    fetchActions() {\n      this.$api.post('atom/actions', {\n        key: { atomId: this.atomId },\n      }).then(data => {\n        this.actions = data;\n      });\n    },\n    findAction(actionName) {\n      if (!this.actions) return null;\n      return this.actions.find(item => item.name === actionName);\n    },\n    onPerformAdd() {\n      return new Promise((resolve, reject) => {\n        this.$view.navigate('/a/file/file/upload', {\n          context: {\n            params: {\n              mode: 2,\n              atomId: this.atomId,\n              attachment: 1,\n            },\n            callback: (code, data) => {\n              if (code === 200) {\n                this.$meta.eventHub.$emit('attachment:action', { action: 'create', atomId: this.atomId });\n                this.reload();\n                resolve();\n              }\n              if (code === false) {\n                reject();\n              }\n            },\n          },\n        });\n      });\n    },\n    onPerformDelete(event, item) {\n      // delete\n      return this.$view.dialog.confirm().then(() => {\n        return this.$api.post('/a/file/file/delete', {\n          key: { atomId: this.atomId },\n          data: { fileId: item.id },\n        }).then(() => {\n          this.$meta.util.swipeoutClose(event.target);\n          this.$meta.eventHub.$emit('attachment:action', { action: 'delete', atomId: this.atomId, fileId: item.id });\n          this.deleteItem(item.id);\n        });\n      });\n    },\n    deleteItem(fileId) {\n      const index = this.items.findIndex(item => item.id === fileId);\n      if (index !== -1) {\n        this.items.splice(index, 1);\n      }\n    },\n    onItemClick(event, item) {\n      window.open(item.downloadUrl);\n    },\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=057e7f83&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"title\":_vm.pageTitle,\"eb-back-link\":\"Back\"}}),_vm._v(\" \"),_c('f7-card',[_c('f7-card-header',[_vm._v(_vm._s(_vm.data.title || _vm.$text('Friendly Tips')))]),_vm._v(\" \"),_c('f7-card-content',[_vm._v(\"\\n      \"+_vm._s(_vm.data.message)+\"\\n    \")]),_vm._v(\" \"),(_vm.data.link)?_c('f7-card-footer',[_c('div'),_vm._v(\" \"),_c('eb-link',{attrs:{\"eb-href\":_vm.data.link}},[_vm._v(_vm._s(_vm.data.linkText || _vm.$text('Link')))])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page>\n    <eb-navbar :title=\"pageTitle\" eb-back-link=\"Back\"></eb-navbar>\n    <f7-card>\n      <f7-card-header>{{data.title || $text('Friendly Tips')}}</f7-card-header>\n      <f7-card-content>\n        {{data.message}}\n      </f7-card-content>\n      <f7-card-footer v-if=\"data.link\">\n        <div></div>\n        <eb-link :eb-href=\"data.link\">{{data.linkText || $text('Link')}}</eb-link>\n      </f7-card-footer>\n    </f7-card>\n  </eb-page>\n</template>\n<script>\nexport default {\n  components: {},\n  data() {\n    const data = JSON.parse(this.$f7route.query.data);\n    return {\n      data,\n    };\n  },\n  computed: {\n    pageTitle() {\n      return this.$store.state.auth.instance.title;\n    },\n  },\n  methods: {},\n};\n\n</script>\n<style lang=\"less\" scoped>\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alert.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alert.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./alert.vue?vue&type=template&id=009f5dc6&scoped=true&\"\nimport script from \"./alert.vue?vue&type=script&lang=js&\"\nexport * from \"./alert.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"009f5dc6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',{attrs:{\"ptr\":\"\",\"infinite\":\"\",\"infinitePreloader\":false},on:{\"ptr:refresh\":_vm.onRefresh,\"infinite\":_vm.onInfinite}},[_c('eb-navbar',{attrs:{\"title\":_vm.$text('Comment List'),\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[_c('eb-link',{attrs:{\"iconMaterial\":_vm.order==='desc'?'arrow_downward':'arrow_upward',\"onPerform\":_vm.onPerformSort}})],1)],1),_vm._v(\" \"),(_vm.moduleStyle)?_vm._l((_vm.items),function(item){return _c('f7-card',{key:item.h_id,staticClass:\"comment\"},[_c('f7-card-header',[_c('div',{staticClass:\"header-container\"},[_c('div',{staticClass:\"header-atom\"},[_c('eb-link',{attrs:{\"context\":item,\"onPerform\":_vm.onPerformViewAtom}},[_vm._v(_vm._s(item.atomName))])],1),_vm._v(\" \"),_c('div',{staticClass:\"header-comment\"},[_c('div',{staticClass:\"title\"},[_c('img',{staticClass:\"avatar avatar32\",attrs:{\"src\":_vm.$meta.util.combineImageUrl(item.h_avatar,32)}}),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.h_userName))]),_vm._v(\" \"),_c('div',{staticClass:\"date\"},[_vm._v(\"#\"+_vm._s(item.h_sorting)+\"  \"+_vm._s(_vm.$meta.util.formatDateTimeRelative(item.h_createdAt)))])]),_vm._v(\" \"),_c('div',{staticClass:\"actions\"},[(item.h_userId===_vm.user.id)?_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":\"edit\",\"eb-href\":(\"comment/item?atomId=\" + (item.atomId) + \"&commentId=\" + (item.h_id) + \"&replyId=0\")}}):_vm._e(),_vm._v(\" \"),(item.h_userId===_vm.user.id)?_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":\"delete_forever\",\"context\":item,\"onPerform\":_vm.onPerformDelete}}):_vm._e(),_vm._v(\" \"),_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":item.h_heart?'favorite':'favorite_border',\"context\":item,\"onPerform\":_vm.onPerformHeart}},[_vm._v(_vm._s(item.h_heartCount))]),_vm._v(\" \"),(!_vm.user.anonymous)?_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":\"reply\",\"eb-href\":(\"comment/item?atomId=\" + (item.atomId) + \"&commentId=0&replyId=\" + (item.h_id))}}):_vm._e()],1)])])]),_vm._v(\" \"),_c('f7-card-content',{staticClass:\"markdown-body\",attrs:{\"padding\":\"\"},domProps:{\"innerHTML\":_vm._s(item.h_html)}})],1)}):_vm._e(),_vm._v(\" \"),_c('eb-load-more',{ref:\"loadMore\",attrs:{\"onLoadClear\":_vm.onLoadClear,\"onLoadMore\":_vm.onLoadMore,\"autoInit\":true}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page ptr @ptr:refresh=\"onRefresh\" infinite :infinitePreloader=\"false\" @infinite=\"onInfinite\">\n    <eb-navbar :title=\"$text('Comment List')\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link :iconMaterial=\"order==='desc'?'arrow_downward':'arrow_upward'\" :onPerform=\"onPerformSort\"></eb-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <template v-if=\"moduleStyle\">\n      <f7-card class=\"comment\" v-for=\"item of items\" :key=\"item.h_id\">\n        <f7-card-header>\n          <div class=\"header-container\">\n            <div class=\"header-atom\">\n              <eb-link :context=\"item\" :onPerform=\"onPerformViewAtom\">{{item.atomName}}</eb-link>\n            </div>\n            <div class=\"header-comment\">\n              <div class=\"title\">\n                <img class=\"avatar avatar32\" :src=\"$meta.util.combineImageUrl(item.h_avatar,32)\">\n                <div class=\"name\">{{item.h_userName}}</div>\n                <div class=\"date\">#{{item.h_sorting}}  {{$meta.util.formatDateTimeRelative(item.h_createdAt)}}</div>\n              </div>\n              <div class=\"actions\">\n                <eb-link v-if=\"item.h_userId===user.id\" class=\"action\" iconMaterial=\"edit\" :eb-href=\"`comment/item?atomId=${item.atomId}&commentId=${item.h_id}&replyId=0`\"></eb-link>\n                <eb-link v-if=\"item.h_userId===user.id\" class=\"action\" iconMaterial=\"delete_forever\" :context=\"item\" :onPerform=\"onPerformDelete\"></eb-link>\n                <eb-link class=\"action\" :iconMaterial=\"item.h_heart?'favorite':'favorite_border'\" :context=\"item\" :onPerform=\"onPerformHeart\">{{item.h_heartCount}}</eb-link>\n                <eb-link v-if=\"!user.anonymous\" class=\"action\" iconMaterial=\"reply\" :eb-href=\"`comment/item?atomId=${item.atomId}&commentId=0&replyId=${item.h_id}`\"></eb-link>\n              </div>\n            </div>\n          </div>\n        </f7-card-header>\n        <f7-card-content padding class=\"markdown-body\" v-html=\"item.h_html\"></f7-card-content>\n      </f7-card>\n    </template>\n    <eb-load-more ref=\"loadMore\" :onLoadClear=\"onLoadClear\" :onLoadMore=\"onLoadMore\" :autoInit=\"true\"></eb-load-more>\n  </eb-page>\n</template>\n<script>\nimport ebActions from '../../common/actions.js';\nexport default {\n  mixins: [ ebActions ],\n  data() {\n    const query = this.$f7route.query;\n    let where = (query && query.where) ? JSON.parse(query.where) : null;\n    // scene\n    const scene = query && query.scene;\n    if (scene === 'mine') {\n      if (!where) where = {};\n      const user = this.$store.state.auth.user.op;\n      where['h.userId'] = user.id;\n    }\n    // ok\n    return {\n      where,\n      order: 'desc',\n      items: [],\n      moduleStyle: null,\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.auth.user.op;\n    },\n  },\n  created() {\n    this.$meta.module.use(this.$meta.config.markdown.style.module, module => {\n      this.moduleStyle = module;\n    });\n  },\n  mounted() {\n    this.$meta.eventHub.$on('comment:action', this.onCommentChanged);\n  },\n  beforeDestroy() {\n    this.$meta.eventHub.$off('comment:action', this.onCommentChanged);\n  },\n  methods: {\n    onRefresh(event, done) { // eslint-disable-line\n      done();\n      this.reload();\n    },\n    onInfinite() {\n      this.$refs.loadMore.loadMore();\n    },\n    onLoadClear(done) {\n      this.items = [];\n      done();\n    },\n    onLoadMore({ index }) {\n      // options\n      const options = {\n        orders: [\n          [ 'h_updatedAt', this.order ],\n        ],\n        page: { index },\n      };\n      // where\n      if (this.where) {\n        options.where = this.where;\n      }\n      // fetch\n      return this.$api.post('comment/all', {\n        options,\n      }).then(data => {\n        this.items = this.items.concat(data.list);\n        return data;\n      });\n    },\n    reload() {\n      this.$refs.loadMore.reload();\n    },\n    onPerformDelete(event, item) {\n      // delete\n      return this.$view.dialog.confirm().then(() => {\n        return this.$api.post('comment/delete', {\n          key: { atomId: item.atomId },\n          data: { commentId: item.h_id },\n        }).then(data => {\n          this.$meta.eventHub.$emit('comment:action', data);\n          return true;\n        });\n      });\n    },\n    onPerformHeart(event, item) {\n      // anonymous\n      if (this.user.anonymous) {\n        this.$view.dialog.confirm(this.$text('Please sign in')).then(() => {\n          // login\n          this.$meta.vueLayout.openLogin();\n        });\n        return;\n      }\n      //\n      return this.$api.post('comment/heart', {\n        key: { atomId: item.atomId },\n        data: { commentId: item.h_id, heart: item.h_heart ? 0 : 1 },\n      }).then(data => {\n        this.$meta.eventHub.$emit('comment:action', data);\n      });\n    },\n    onCommentChanged(data) {\n      const action = data.action;\n      const atomId = data.atomId;\n      const commentId = data.commentId;\n      // create\n      if (action === 'create') {\n        this.reload();\n        return;\n      }\n      // delete\n      const index = this.items.findIndex(item => item.h_id === commentId);\n      if (action === 'delete') {\n        if (index !== -1) {\n          this.items.splice(index, 1);\n        }\n        return;\n      }\n      // others\n      if (index !== -1) {\n        this.$api.post('comment/item', {\n          key: { atomId },\n          data: { commentId },\n        }).then(data => {\n          const _item = this.items[index];\n          for (const key of Object.keys(data)) {\n            _item[`h_${key}`] = data[key];\n          }\n        });\n      }\n    },\n    onPerformSort() {\n      this.order = this.order === 'desc' ? 'asc' : 'desc';\n      this.reload();\n    },\n    onPerformViewAtom(event, item) {\n      const _action = this.getAction({\n        module: item.module,\n        atomClassName: item.atomClassName,\n        name: 'read',\n      });\n      if (!_action) return;\n      return this.$meta.util.performAction({ ctx: this, action: _action, item });\n    },\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./all.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./all.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./all.vue?vue&type=template&id=00802368&\"\nimport script from \"./all.vue?vue&type=script&lang=js&\"\nexport * from \"./all.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"title\":_vm.$text('Comment'),\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[_c('eb-link',{attrs:{\"iconMaterial\":\"save\",\"onPerform\":_vm.onPerformSave}})],1)],1),_vm._v(\" \"),(_vm.ready)?[_c('eb-box',[_c('mavon-editor',{ref:\"editor\",attrs:{\"value\":_vm.content,\"onPreRender\":_vm.onPreRender,\"onImageUpload\":_vm.onImageUpload,\"language\":_vm.language,\"subfield\":_vm.subfield,\"editable\":_vm.editable,\"defaultOpen\":_vm.defaultOpen,\"toolbarsFlag\":_vm.toolbarsFlag,\"navigation\":_vm.navigation,\"toolbars\":_vm.toolbars},on:{\"change\":_vm.onChange,\"save\":_vm.onSave}})],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page>\n    <eb-navbar :title=\"$text('Comment')\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link iconMaterial=\"save\" :onPerform=\"onPerformSave\"></eb-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <template v-if=\"ready\">\n      <eb-box>\n        <mavon-editor ref=\"editor\" :value=\"content\" :onPreRender=\"onPreRender\" @change=\"onChange\" @save=\"onSave\" :onImageUpload=\"onImageUpload\" :language=\"language\" :subfield=\"subfield\" :editable=\"editable\" :defaultOpen=\"defaultOpen\" :toolbarsFlag=\"toolbarsFlag\" :navigation=\"navigation\" :toolbars=\"toolbars\" />\n      </eb-box>\n    </template>\n  </eb-page>\n</template>\n<script>\nexport default {\n  meta: {\n    size: 'large',\n  },\n  data() {\n    return {\n      atomId: parseInt(this.$f7route.query.atomId),\n      commentId: parseInt(this.$f7route.query.commentId || 0),\n      replyId: parseInt(this.$f7route.query.replyId || 0),\n      module: null,\n      comment: null,\n      reply: null,\n      content: '',\n    };\n  },\n  computed: {\n    ready() {\n      return this.module && (this.commentId === 0 || this.comment) && (this.replyId === 0 || this.reply);\n    },\n    readOnly() {\n      return false;\n    },\n    editable() {\n      return !this.readOnly;\n    },\n    language() {\n      const locale = this.$meta.util.cookies.get('locale') || 'en-us';\n      return locale === 'zh-cn' ? 'zh-CN' : 'en';\n    },\n    subfield() {\n      return this.editable && this.$view.size !== 'small';\n    },\n    defaultOpen() {\n      return this.editable ? '' : 'preview';\n    },\n    toolbarsFlag() {\n      return this.editable;\n    },\n    navigation() {\n      return !this.editable;\n    },\n    toolbars() {\n      return {\n        bold: true, // \n        italic: true, // \n        // header: true, // \n        underline: true, // \n        strikethrough: true, // \n        mark: true, // \n        superscript: true, // \n        subscript: true, // \n        // quote: true, // \n        ol: true, // \n        ul: true, // \n        link: true, // \n        imagelink: true, // \n        code: true, // code\n        table: true, // \n        /* 1.3.5 */\n        undo: true, // \n        redo: true, // \n        trash: true, // \n        /* 1.4.2 */\n        // navigation: true, // \n        /* 2.1.8 */\n        alignleft: true, // \n        aligncenter: true, // \n        alignright: true, // \n        /* 2.2.1 */\n        subfield: true, // \n      };\n    },\n\n  },\n  created() {\n    this.$meta.module.use('a-mavoneditor', module => {\n      this.module = module;\n    });\n    this.loadComment(this.commentId);\n    this.loadReply(this.replyId);\n  },\n  methods: {\n    loadComment(commentId) {\n      if (!commentId) return;\n      this.$api.post('comment/item', {\n        key: { atomId: this.atomId },\n        data: { commentId },\n      }).then(data => {\n        this.comment = data;\n        this.content = this.comment.content;\n      });\n    },\n    loadReply(replyId) {\n      if (!replyId) return;\n      this.$api.post('comment/item', {\n        key: { atomId: this.atomId },\n        data: { commentId: replyId },\n      }).then(data => {\n        this.reply = data;\n      });\n    },\n    onChange(data) {\n      this.content = data;\n    },\n    onSave() {\n      this.onPerformSave();\n    },\n    onPerformSave() {\n      if (!this.content) return;\n      return this.$api.post('/a/base/comment/save', {\n        key: { atomId: this.atomId },\n        data: {\n          commentId: this.commentId,\n          replyId: this.replyId,\n          content: this.content,\n        },\n      }).then(data => {\n        this.$meta.eventHub.$emit('comment:action', data);\n        this.$f7router.back();\n      });\n    },\n    onImageUpload() {\n      return new Promise((resolve, reject) => {\n        this.$view.navigate('/a/file/file/upload', {\n          context: {\n            params: {\n              mode: 1,\n              atomId: this.atomId,\n              flag: 'comment',\n            },\n            callback: (code, data) => {\n              if (code === 200) {\n                resolve({ text: data.realName, addr: data.downloadUrl });\n              }\n              if (code === false) {\n                reject();\n              }\n            },\n          },\n        });\n      });\n    },\n    onPreRender(value) {\n      if (this.comment) {\n        return this.fullContent({\n          content: value,\n          replyContent: this.comment.replyContent,\n          replyUserName: this.comment.replyUserName,\n        });\n      }\n      if (this.reply) {\n        // replyContent\n        const replyContent = this.fullContent({\n          content: this.reply.content,\n          replyContent: this.reply.replyContent,\n          replyUserName: this.reply.replyUserName,\n        });\n        return this.fullContent({\n          content: value,\n          replyContent,\n          replyUserName: this.reply.userName,\n        });\n      }\n      return value;\n    },\n    fullContent({ content, replyContent, replyUserName }) {\n      if (!replyContent) return content;\n      return `${content}\n\n> \\`${replyUserName}\\`:\n> ${replyContent}\n`;\n    },\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./item.vue?vue&type=template&id=85dbd8dc&\"\nimport script from \"./item.vue?vue&type=script&lang=js&\"\nexport * from \"./item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  meta: {\n    global: false,\n  },\n  methods: {\n    onAction({ ctx, action, item }) {\n      if (action.name === 'create' || action.action === 'create') {\n        // create\n        return ctx.$api.post('/a/base/atom/create', {\n          atomClass: {\n            id: item.atomClassId,\n            module: item.module,\n            atomClassName: item.atomClassName,\n          },\n          item,\n        }).then(key => {\n          // event\n          ctx.$meta.eventHub.$emit('atom:action', { key, action });\n          // menu\n          if (action.menu === 1 || (action.actionComponent || action.actionPath)) {\n            item = ctx.$utils.extend({}, item, key);\n            // write\n            return ctx.$store.dispatch('a/base/getActions').then(actionsAll => {\n              let actionWrite = actionsAll[item.module][item.atomClassName].write;\n              actionWrite = ctx.$utils.extend({}, actionWrite);\n              return ctx.$meta.util.performAction({ ctx, action: actionWrite, item });\n            });\n          }\n          // just return key\n          return key;\n        });\n      } else if (action.name === 'delete') {\n        // delete\n        const key = { atomId: item.atomId, itemId: item.itemId };\n        return ctx.$view.dialog.confirm().then(() => {\n          return ctx.$api.post('/a/base/atom/delete', {\n            key,\n          }).then(() => {\n            ctx.$meta.eventHub.$emit('atom:action', { key, action });\n            return true;\n          });\n        });\n      } else if (action.name === 'save') {\n        // save\n        const key = { atomId: item.atomId, itemId: item.itemId };\n        return ctx.$api.post('/a/base/atom/write', {\n          key,\n          item,\n        }).then(() => {\n          ctx.$meta.eventHub.$emit('atom:action', { key, action });\n        });\n      } else if (action.name === 'submit') {\n        // submit\n        const key = { atomId: item.atomId, itemId: item.itemId };\n        return ctx.$view.dialog.confirm().then(() => {\n          return ctx.$api.post('/a/base/atom/submit', {\n            key,\n            item,\n          }).then(() => {\n            ctx.$meta.eventHub.$emit('atom:action', { key, action });\n          });\n        });\n      }\n      // others\n      const key = { atomId: item.atomId, itemId: item.itemId };\n      return ctx.$view.dialog.confirm().then(() => {\n        return ctx.$api.post('/a/base/atom/action', {\n          action: action.code,\n          key,\n        }).then(() => {\n          ctx.$meta.eventHub.$emit('atom:action', { key, action });\n          return true;\n        });\n      });\n\n    },\n  },\n};\n","export default {\n  meta: {\n    component: false,\n  },\n  computed: {\n    functionsAll() {\n      return this.$store.getState('a/base/functions');\n    },\n  },\n  methods: {\n    getFunction(func) {\n      if (!this.functionsAll || !func) return null;\n      return this.functionsAll[func.module][func.name];\n    },\n    getFunctionTitle(func) {\n      const _func = this.getFunction(func);\n      return _func ? _func.titleLocale : null;\n    },\n  },\n  created() {\n    this.$store.dispatch('a/base/getFunctions');\n  },\n};\n\n","import menus from './components/menu/list.vue';\nimport atoms from './components/atom/list.vue';\nimport item from './components/atom/item.vue';\nimport action from './components/atom/action.js';\nimport actions from './common/actions.js';\nimport atomClasses from './common/atomClasses.js';\nimport modules from './common/modules.js';\nimport ebMenus from './common/menus.js';\nimport ebFunctions from './common/functions.js';\n\nexport default {\n  menus,\n  item,\n  action,\n  ebAtoms: atoms,\n  ebActions: actions,\n  ebAtomClasses: atomClasses,\n  ebModules: modules,\n  ebMenus,\n  ebFunctions,\n};\n"],"sourceRoot":""}