{"version":3,"sources":["webpack://a-base/webpack/bootstrap","webpack://a-base//Users/yangjian/Documents/data/cabloy/cabloy-lerna/node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://a-base/external \"Vue\"","webpack://a-base/./front/src/common/atomClasses.js","webpack://a-base/./front/src/components/atom/listLayoutManager.jsx","webpack://a-base/./front/src/common/atomActions.js","webpack://a-base/./front/src/common/menus.js","webpack://a-base/./front/src/common/listLayoutManager.jsx","webpack://a-base/./front/src/components/atom/item.vue?dc88","webpack://a-base/front/src/components/atom/item.vue","webpack://a-base/./front/src/components/atom/item.vue?ce39","webpack://a-base/./front/src/components/atom/item.vue","webpack://a-base/./front/src/components/menu/list.vue?0b6e","webpack://a-base/front/src/components/menu/list.vue","webpack://a-base/./front/src/components/menu/list.vue?439c","webpack://a-base/./front/src/components/menu/list.vue","webpack://a-base/./front/src/pages/atom/labels.vue?8d4c","webpack://a-base/./front/src/common/modules.js","webpack://a-base//Users/yangjian/Documents/data/cabloy/cabloy-lerna/node_modules/css-loader/dist/runtime/api.js","webpack://a-base//Users/yangjian/Documents/data/cabloy/cabloy-lerna/node_modules/vue-style-loader/lib/listToStyles.js","webpack://a-base//Users/yangjian/Documents/data/cabloy/cabloy-lerna/node_modules/vue-style-loader/lib/addStylesClient.js","webpack://a-base/./front/src/assets/img/user.png","webpack://a-base/./front/src/main.js","webpack://a-base/./front/src/assets/css/module.less?8f91","webpack://a-base/./front/src/assets/css/module.less","webpack://a-base/./front/src/routes.js","webpack://a-base/./front/src/pages sync ^\\.\\/.*\\.vue$","webpack://a-base/./front/src/pages/atom/labels.vue?157e","webpack://a-base/./front/src/pages/atom/labels.vue?d1db","webpack://a-base/./front/src/pages sync ^\\.\\/.*\\.jsx$","webpack://a-base/./front/src/pages/atom/list.jsx","webpack://a-base/./front/src/pages/atom/searchQuick.jsx","webpack://a-base/./front/src/store.js","webpack://a-base/./front/src/config/config.js","webpack://a-base/./front/src/config/locales.js","webpack://a-base/./front/src/config/locale/en-us.js","webpack://a-base/./front/src/config/locale/zh-cn.js","webpack://a-base/./front/src/pages/atom/autoStar.vue?aaab","webpack://a-base/./front/src/pages/atom/autoStar.vue?71eb","webpack://a-base/front/src/pages/atom/autoStar.vue","webpack://a-base/./front/src/pages/atom/autoStar.vue","webpack://a-base/./front/src/pages/atom/edit.vue?1b4e","webpack://a-base/./front/src/pages/atom/edit.vue?a92c","webpack://a-base/front/src/pages/atom/edit.vue","webpack://a-base/./front/src/pages/atom/edit.vue","webpack://a-base/./front/src/pages/atom/labels.vue?8aba","webpack://a-base/./front/src/pages/atom/labels.vue?4b6e","webpack://a-base/front/src/pages/atom/labels.vue","webpack://a-base/./front/src/pages/atom/labels.vue","webpack://a-base/./front/src/pages/atom/select.vue?f5dd","webpack://a-base/./front/src/pages/atom/select.vue?9d72","webpack://a-base/front/src/pages/atom/select.vue","webpack://a-base/./front/src/pages/atom/select.vue","webpack://a-base/./front/src/pages/atom/selectAtomClass.vue?c2f7","webpack://a-base/./front/src/pages/atom/selectAtomClass.vue?b377","webpack://a-base/front/src/pages/atom/selectAtomClass.vue","webpack://a-base/./front/src/pages/atom/selectAtomClass.vue","webpack://a-base/./front/src/pages/atom/view.vue?9d3e","webpack://a-base/./front/src/pages/atom/view.vue?aae8","webpack://a-base/front/src/pages/atom/view.vue","webpack://a-base/./front/src/pages/atom/view.vue","webpack://a-base/./front/src/pages/attachment/list.vue?bb14","webpack://a-base/./front/src/pages/attachment/list.vue?27fa","webpack://a-base/front/src/pages/attachment/list.vue","webpack://a-base/./front/src/pages/attachment/list.vue","webpack://a-base/./front/src/pages/base/alert.vue?d730","webpack://a-base/./front/src/pages/base/alert.vue?e01b","webpack://a-base/front/src/pages/base/alert.vue","webpack://a-base/./front/src/pages/base/alert.vue","webpack://a-base/./front/src/pages/comment/all.vue?18a0","webpack://a-base/./front/src/pages/comment/all.vue?b6e9","webpack://a-base/front/src/pages/comment/all.vue","webpack://a-base/./front/src/pages/comment/all.vue","webpack://a-base/./front/src/pages/comment/autoHeart.vue?4d21","webpack://a-base/./front/src/pages/comment/autoHeart.vue?5c94","webpack://a-base/front/src/pages/comment/autoHeart.vue","webpack://a-base/./front/src/pages/comment/autoHeart.vue","webpack://a-base/./front/src/pages/comment/item.vue?ad22","webpack://a-base/./front/src/pages/comment/item.vue?d4b6","webpack://a-base/front/src/pages/comment/item.vue","webpack://a-base/./front/src/pages/comment/item.vue","webpack://a-base/./front/src/pages/comment/list.vue?23d8","webpack://a-base/./front/src/pages/comment/list.vue?43e3","webpack://a-base/front/src/pages/comment/list.vue","webpack://a-base/./front/src/pages/comment/list.vue","webpack://a-base/./front/src/pages/menu/list.vue?0a7c","webpack://a-base/./front/src/pages/menu/list.vue?731b","webpack://a-base/front/src/pages/menu/list.vue","webpack://a-base/./front/src/pages/menu/list.vue","webpack://a-base/./front/src/pages/menu/search.vue?6be0","webpack://a-base/./front/src/pages/menu/search.vue?1054","webpack://a-base/front/src/pages/menu/search.vue","webpack://a-base/./front/src/pages/menu/search.vue","webpack://a-base/./front/src/pages/menu/selectFunction.vue?fe31","webpack://a-base/front/src/pages/menu/selectFunction.vue","webpack://a-base/./front/src/pages/menu/selectFunction.vue?4a1f","webpack://a-base/./front/src/pages/menu/selectFunction.vue","webpack://a-base/./front/src/components/atom/action.js","webpack://a-base/./front/src/components.js","webpack://a-base/./front/src/mixins.js","webpack://a-base/./front/src/common/functions.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","window","computed","atomClassesAll","$store","getState","methods","getAtomClass","atomClass","atomClassName","created","dispatch","meta","global","mixins","ebAtomClasses","props","scene","type","String","layout","params","data","ready","layout2","layoutConfig","configAtomBase","configAtom","filter","atomOrderSelected","selectedAtomIds","selectedAtoms","layoutComponentInstance","$refs","getComponentInstance","userLabels","$local","getters","atomOrderDefault","by","tableAlias","getLayout","prepareLayoutConfig","then","onPageRefresh","onPageInfinite","onPerformFilter","filterConfig","_getFilterConfig","$view","navigate","sceneOptions","side","title","layoutManager","onFilterChanged","onPerformAtomOrders","element","popover","popoverAtomOrders","$el","$f7","open","onPerformChangeAtomOrder","event","atomOrder","atomOrderCurrent","_getAtomOrderKey","size","prepareSelectOptions","where","length","orders","$utils","extend","prepareSelectParams","filterParams","prepareFilterParams","form","_getAtomOrderStatus","_getAtomOrders","ordersBase","list","info","ordersAtomClass","$meta","util","getProperty","filterConfigBase","$config","atom","use","config","atoms","layoutConfigBase","layouts","layoutConfigAtom","getPageTitle","$text","titleLocale","getLayoutComponentOptions","_renderLayoutComponent","component","_renderPopoverAtomOrders","children","push","domList","actionsAll","getAction","action","getActionTitle","_action","getActionsOfAtomClass","menusAll","getMenu","menu","menus","getMenuTitle","_menu","ebMenus","layoutCurrent","searchQuery","actionsCreate","subnavbarActions","actionsList","star","label","showPopoverActionsCreate","loadActionsCreate","done","onPageClear","isPanel","$$","parents","is","immediate","vueApp","navigateOptions","target","onPerformActionsCreate","popoverActionsCreate","onActionsCreateAction","atomClassId","atomClassIdParent","targetEl","performAction","ctx","item","val","op","atomName","Number","stage","formAtomClass","hasValue","onSearch","query","onSearchDisable","$f7router","back","onSearchAdvanced","$api","post","sceneName","loadActionsList","_renderPopoverActionsCreate","id","getBlockComponentOptions","blockConfig","_renderBlock","blockName","blocks","_renderLayout","components","atomId","parseInt","itemId","validateParams","actions","popoverId","notfound","showPopover","enableFootbar","enableComment","enableAttachment","atomClassInfo","comment","attachment","mounted","eventHub","$on","onActionChanged","onCommentChanged","onAttachmentChanged","beforeDestroy","$off","load","reload","validator","fetchActions","findAction","find","onSave","onAction","validate","perform","res","onPerformValidate","actionName","commentCount","attachmentCount","onSubmit","buttonSave","onClick","_vm","_h","$createElement","_c","_self","attrs","ref","_e","_v","on","$event","preventDefault","atomStage","_s","_l","items","functionScenes","itemGroups","itemGroupsScenes","itemGroupsModules","groups","modulesAll","onStarChanged","loadMore","force","onLoadClear","onLoadMore","page","onStarSwitch","onStarOff","index","splice","onItemClick","slot","group","content","locals","default","getModule","useSourceMap","toString","map","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","_i","listToStyles","parentId","styles","newStyles","part","css","media","parts","hasDocument","document","DEBUG","Error","stylesInDom","head","getElementsByTagName","singletonElement","singletonCounter","isProduction","noop","isOldIE","navigator","test","userAgent","toLowerCase","addStylesClient","_isProduction","_options","addStylesToDom","newList","mayRemove","domStyle","refs","j","addStyle","createStyleElement","styleElement","createElement","appendChild","obj","update","remove","querySelector","parentNode","removeChild","styleIndex","applyToSingletonTag","applyToTag","newObj","textStore","replaceText","replacement","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","ssrId","firstChild","Vue","install","_Vue","cb","console","error","routes","require","store","locales","___CSS_LOADER_API_IMPORT___","loadjsx","path","webpackContext","req","webpackContextResolve","e","code","keys","resolve","listLayoutManager","$f7route","parse","pageTitle","atomClassTitle","_atomClass","queueLayoutConfig","queue","userId","api","err","commit","state","labels","userPanels","userWidgets","userSections","userButtons","userAtomClassRolesPreferred","atomClasses","functions","panels","widgets","sections","buttons","mutations","authLogin","setLabels","setLayoutConfig","setLayoutConfigKey","layoutConfigModule","user","anonymous","setUserPanels","setUserWidgets","setUserSections","setUserButtons","setUserAtomClassRolesPreferred","roleIdOwner","setModules","setAtomClasses","setActions","setMenus","setPanels","setWidgets","setSections","setButtons","setFunctions","setFunctionScenes","sceneMenu","scenes","getLabels","Promise","reject","getModules","getAtomClasses","getActions","getMenus","getPanels","getWidgets","getSections","getButtons","getFunctionScenes","getFunctions","getLayoutConfig","getUserPanels","getUserWidgets","getUserSections","getUserButtons","0","1","2","20","50","avatar","avatarUser","Heart2","AtomClassSelectRoleTip","Menu","Scenes","Modules","Stars","Star","Unstar","Starred","Back","Done","Cancel","Close","Create","Others","List","Tools","Draft","Drafts","Archive","Archives","History","Histories","Labels","Submit","Edit","View","Save","Delete","Red","Orange","Yellow","Blue","Green","Purple","Label","Comment","Username","Realname","Email","Mobile","Motto","Locale","Search","Link","Select","Remove","Hearted","Filter","openAtom","location","assign","returnTo","sheetOpened","labelId","labelText","labelColor","colors","labelsAll","onAddLabel","onEditLabel","text","color","onFormSubmit","buttonSubmit","newLabelId","onColorSelect","sort","labelChecked","indexOf","onLabelCheckChange","checked","staticClass","style","backgroundColor","model","callback","$$v","expression","selectMode","contextParams","selectedAtomId","$nextTick","onRefresh","onInfinite","onPerformAdd","queries","url","_updateSelectedAtoms","updateSelectedAtoms","onPerformDone","contextCallback","optional","auth","onPerformDelete","dialog","confirm","deleteItem","base","jwt","_openUrl","combineQueries","downloadUrl","getItemMedia","combineImageUrl","realName","userName","formatDateTimeRelative","createdAt","instance","message","link","linkText","order","moduleStyle","rightDeleteComment","onPerformHeart","_item","onPerformSort","onPerformViewAtom","h_id","h_userName","h_sorting","h_createdAt","h_userId","h_heart","h_heartCount","domProps","h_html","commentId","replyId","reply","readOnly","editable","language","subfield","defaultOpen","toolbarsFlag","navigation","toolbars","bold","italic","underline","strikethrough","mark","superscript","subscript","ol","ul","imagelink","table","undo","redo","trash","alignleft","aligncenter","alignright","loadComment","loadReply","onChange","onPerformSave","onImageUpload","flag","onPreRender","fullContent","replyContent","replyUserName","markdown","sorting","heart","heartCount","html","tabs","tabActive","__initTabActive","__initPageTitle","onTabShow","tabMode","tab","onDisable","ebPageContext","functionsAll","func","_onActionCreate","$emit","_onActionCreateGetRoleIdOwner","actionComponent","actionPath","actionWrite","write","_onActionCreateGetAtomClassId","roles","roleIdWho","_onActionCreateSelectPreferredRole","hostEl","getHostEl","resolved","role","roleNameWho","onActionsClosed","destroy","once","ebAtoms","ebAtomActions","atomActions","ebModules","ebFunctions","getFunction","getFunctionTitle","_func"],"mappings":"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","file":"front.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","(function() { module.exports = window[\"Vue\"]; }());","export default {\n  computed: {\n    atomClassesAll() {\n      return this.$store.getState('a/base/atomClasses');\n    },\n  },\n  methods: {\n    getAtomClass(atomClass) {\n      if (!this.atomClassesAll || !atomClass) return null;\n      return this.atomClassesAll[atomClass.module][atomClass.atomClassName];\n    },\n  },\n  created() {\n    this.$store.dispatch('a/base/getAtomClasses');\n  },\n};\n\n","import ebAtomClasses from '../../common/atomClasses.js';\nexport default {\n  meta: {\n    global: false,\n  },\n  mixins: [ ebAtomClasses ],\n  props: {\n    // default/select/selecting\n    scene: {\n      type: String,\n    },\n    options: {\n      type: String,\n    },\n    layout: {\n      type: String,\n    },\n    atomClass: {\n      type: Object,\n    },\n    params: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      ready: false,\n      layout2: null,\n      layoutConfig: null,\n      configAtomBase: null,\n      configAtom: null,\n      filter: null,\n      atomOrderSelected: null,\n      selectedAtomIds: null,\n      selectedAtoms: null,\n    };\n  },\n  computed: {\n    layoutComponentInstance() {\n      return this.$refs.layout && this.$refs.layout.getComponentInstance();\n    },\n    userLabels() {\n      return this.$local.getters('userLabels');\n    },\n    atomOrderDefault() {\n      let atomOrder;\n      if (this.scene === 'select') {\n        atomOrder = {\n          name: 'atomName',\n          by: 'asc',\n          tableAlias: 'a',\n        };\n      } else {\n        // others\n        atomOrder = {\n          name: 'updatedAt',\n          by: 'desc',\n          tableAlias: 'a',\n        };\n      }\n      // ok\n      return atomOrder;\n    },\n  },\n  created() {\n    //\n    this.$local.dispatch('getLabels');\n    //\n    this.layout2 = this.layout || this.getLayout();\n    //\n    this.prepareLayoutConfig().then(() => {\n      this.ready = true;\n    });\n  },\n  methods: {\n    onPageRefresh() {\n      this.layoutComponentInstance && this.layoutComponentInstance.onPageRefresh();\n    },\n    onPageInfinite() {\n      this.layoutComponentInstance && this.layoutComponentInstance.onPageInfinite();\n    },\n    onPerformFilter() {\n      const filterConfig = this._getFilterConfig();\n      this.$view.navigate('/a/baselayout/listLayoutFilter', {\n        scene: 'sidebar',\n        sceneOptions: { side: 'right', name: 'filter', title: 'Filter' },\n        context: {\n          params: {\n            layoutManager: this,\n            filterConfig,\n          },\n        },\n      });\n    },\n    onFilterChanged(value) {\n      this.filter = value;\n      // reload\n      this.onPageRefresh();\n    },\n    onPerformAtomOrders(element) {\n      const popover = this.$refs.popoverAtomOrders.$el;\n      this.$f7.popover.open(popover, element);\n    },\n    onPerformChangeAtomOrder(event, atomOrder) {\n      // switch\n      const atomOrderCurrent = this.atomOrderSelected || this.atomOrderDefault;\n      if (this._getAtomOrderKey(atomOrderCurrent) === this._getAtomOrderKey(atomOrder)) {\n        this.atomOrderSelected = {\n          name: atomOrderCurrent.name,\n          tableAlias: atomOrderCurrent.tableAlias,\n          by: atomOrderCurrent.by === 'desc' ? 'asc' : 'desc',\n        };\n      } else {\n        this.atomOrderSelected = atomOrder;\n      }\n      // reload\n      this.onPageRefresh();\n    },\n    getLayout() {\n      return this.$view.size === 'small' ? 'list' : 'table';\n    },\n    prepareSelectOptions() {\n      // options\n      let options;\n      if (this.scene === 'select') {\n        // where\n        const where = {};\n        if (!this.selectedAtomIds) {\n          this.selectedAtomIds = this.params.selectedAtomIds || [];\n        }\n        where['a.id'] = this.selectedAtomIds.length > 0 ? this.selectedAtomIds : null;\n        // options\n        options = {\n          where,\n        };\n      } else {\n        // default\n        options = {\n          where: { },\n        };\n      }\n      // order\n      const atomOrderCurrent = this.atomOrderSelected || this.atomOrderDefault;\n      options.orders = [\n        [ this._getAtomOrderKey(atomOrderCurrent), atomOrderCurrent.by ],\n      ];\n      // extend 1\n      if (this.options) {\n        options = this.$utils.extend({}, options, this.options);\n      }\n      // options\n      return options;\n    },\n    prepareSelectParams() {\n      // options\n      const options = this.prepareSelectOptions();\n      // params\n      let params = {\n        atomClass: this.atomClass,\n        options,\n      };\n      // filter\n      const filterParams = this.prepareFilterParams();\n      if (filterParams) {\n        params = this.$utils.extend({}, params, filterParams);\n      }\n      return params;\n    },\n    prepareFilterParams() {\n      if (!this.filter) return null;\n      // options\n      const options = {\n        where: {},\n      };\n      // params\n      const params = {\n        options,\n      };\n      if (this.filter.form.atomClass) {\n        params.atomClass = this.filter.form.atomClass;\n      }\n      return params;\n    },\n    _getAtomOrderKey(atomOrder) {\n      return atomOrder ? `${atomOrder.tableAlias || 'f'}.${atomOrder.name}` : null;\n    },\n    _getAtomOrderStatus(atomOrder) {\n      const atomOrderCurrent = this.atomOrderSelected || this.atomOrderDefault;\n      if (this._getAtomOrderKey(atomOrderCurrent) === this._getAtomOrderKey(atomOrder)) {\n        return atomOrderCurrent.by === 'desc' ? 'arrow_drop_down' : 'arrow_drop_up';\n      }\n      return '';\n    },\n    _getAtomOrders() {\n      // base\n      const ordersBase = this.configAtomBase.render.list.info.orders;\n      // atomClass\n      const ordersAtomClass = this.$meta.util.getProperty(this.configAtom, 'render.list.info.orders');\n      // atomOrders\n      return ordersAtomClass ? ordersBase.concat(ordersAtomClass) : ordersBase;\n    },\n    _getFilterConfig() {\n      // base\n      const filterConfigBase = this.configAtomBase.render.list.info.filter;\n      // atomClass\n      const filterConfig = this.$meta.util.getProperty(this.configAtom, 'render.list.info.filter');\n      // filterConfig\n      return this.$meta.util.extend({}, filterConfigBase, filterConfig);\n    },\n    async prepareLayoutConfig() {\n      // configAtomBase\n      this.configAtomBase = this.$config.atom;\n      // configAtom\n      if (this.atomClass) {\n        // load module\n        await this.$meta.module.use(this.atomClass.module);\n        const configAtom = this.$meta.config.modules[this.atomClass.module];\n        this.configAtom = configAtom && configAtom.atoms && configAtom.atoms[this.atomClass.atomClassName];\n      }\n      // layoutConfig\n      const layoutConfigBase = this.configAtomBase.render.list.layouts[this.layout2];\n      let layoutConfigAtom;\n      if (this.configAtom) {\n        // config\n        layoutConfigAtom = this.configAtom;\n        layoutConfigAtom = layoutConfigAtom && layoutConfigAtom.render && layoutConfigAtom.render.list && layoutConfigAtom.render.list.layouts;\n        layoutConfigAtom = layoutConfigAtom && layoutConfigAtom[this.layout2];\n      }\n      this.layoutConfig = this.$meta.util.extend({}, layoutConfigBase, layoutConfigAtom);\n    },\n    getPageTitle() {\n      const atomClass = this.getAtomClass(this.atomClass);\n      if (!atomClass) return this.$text('Atom');\n      return `${this.$text('Atom')}: ${atomClass.titleLocale}`;\n    },\n    getLayoutComponentOptions() {\n      return {\n        props: {\n          layoutManager: this,\n          layoutConfig: this.layoutConfig,\n        },\n      };\n    },\n    _renderLayoutComponent() {\n      if (!this.ready) return null;\n      return <eb-component ref='layout' module={this.layoutConfig.component.module} name={this.layoutConfig.component.name} options={this.getLayoutComponentOptions()}></eb-component>;\n    },\n    _renderPopoverAtomOrders() {\n      if (!this.ready) return null;\n      // list\n      const children = [];\n      for (const atomOrder of this._getAtomOrders()) {\n        children.push(\n          <eb-list-item key={this._getAtomOrderKey(atomOrder)} popoverClose link=\"#\" propsOnPerform={event => this.onPerformChangeAtomOrder(event, atomOrder)}>\n            <f7-icon slot=\"media\" material={this._getAtomOrderStatus(atomOrder)}></f7-icon>\n            <div slot=\"title\">{this.$text(atomOrder.title)}</div>\n          </eb-list-item>\n        );\n      }\n      const domList = (\n        <f7-list inset>\n          {children}\n        </f7-list>\n      );\n      return (\n        <eb-popover ref=\"popoverAtomOrders\" ready={true}>\n          {domList}\n        </eb-popover>\n      );\n    },\n  },\n  render() {\n    return (\n      <div>\n        {this._renderLayoutComponent()}\n        {this._renderPopoverAtomOrders()}\n      </div>\n    );\n  },\n};\n","export default {\n  computed: {\n    actionsAll() {\n      return this.$store.getState('a/base/actions');\n    },\n  },\n  methods: {\n    getAction(action) {\n      if (!this.actionsAll) return null;\n      return this.actionsAll[action.module][action.atomClassName][action.name];\n    },\n    getActionTitle(action) {\n      const _action = this.getAction(action);\n      return _action ? _action.titleLocale : null;\n    },\n    getActionsOfAtomClass(atomClass) {\n      if (!atomClass || !this.actionsAll) return null;\n      return this.actionsAll[atomClass.module][atomClass.atomClassName];\n    },\n  },\n  created() {\n    this.$store.dispatch('a/base/getActions');\n  },\n};\n\n","export default {\n  computed: {\n    menusAll() {\n      return this.$store.getState('a/base/menus');\n    },\n  },\n  methods: {\n    getMenu(menu) {\n      if (!this.menusAll) return null;\n      const menus = this.menusAll[menu.module];\n      // by name\n      if (menu.name) return menus[ menu.name ];\n      // by action\n      for (const key in menus) {\n        if (menus[key].action === menu.action) return menus[key];\n      }\n      return null;\n    },\n    getMenuTitle(menu) {\n      const _menu = this.getMenu(menu);\n      return _menu ? _menu.titleLocale : null;\n    },\n  },\n  created() {\n    this.$store.dispatch('a/base/getMenus');\n  },\n};\n\n","import ebAtomClasses from './atomClasses.js';\nimport ebMenus from './menus.js';\nexport default {\n  mixins: [ ebAtomClasses, ebMenus ],\n  data() {\n    return {\n      ready: false,\n      layoutCurrent: null,\n      layoutConfig: null,\n      configAtomBase: null,\n      configAtom: null,\n      filter: null,\n      atomOrderSelected: null,\n      selectedAtomIds: null,\n      selectedAtoms: null,\n      searchQuery: null,\n      actionsCreate: null,\n      subnavbarActions: false,\n      actionsList: null,\n    };\n  },\n  computed: {\n    layoutComponentInstance() {\n      return this.$refs.layout && this.$refs.layout.getComponentInstance();\n    },\n    userLabels() {\n      return this.$store.getters['a/base/userLabels'];\n    },\n    atomOrderDefault() {\n      let atomOrder;\n      if (this.options && this.options.star) {\n        atomOrder = {\n          name: 'updatedAt',\n          by: 'desc',\n          tableAlias: 'd',\n        };\n      } else if (this.options && this.options.label) {\n        atomOrder = {\n          name: 'updatedAt',\n          by: 'desc',\n          tableAlias: 'e',\n        };\n      } else {\n        // others\n        atomOrder = {\n          name: 'updatedAt',\n          by: 'desc',\n          tableAlias: 'a',\n        };\n      }\n      // ok\n      return atomOrder;\n    },\n    showPopoverActionsCreate() {\n      return this.actionsCreate && this.actionsCreate.length > 0;\n    },\n  },\n  created() {\n    //\n    this.$store.dispatch('a/base/getLabels');\n    //\n    this.layoutCurrent = this.layout || this.getLayout();\n    //\n    this.prepareLayoutConfig().then(() => {\n      this.ready = true;\n\n      this.loadActionsCreate();\n    });\n  },\n  methods: {\n    onPageRefresh(done) {\n      done && done();\n      this.layoutComponentInstance && this.layoutComponentInstance.onPageRefresh(true);\n    },\n    onPageInfinite() {\n      this.layoutComponentInstance && this.layoutComponentInstance.onPageInfinite();\n    },\n    onPageClear() {\n      this.layoutComponentInstance && this.layoutComponentInstance.onPageClear();\n    },\n    onPerformFilter() {\n      const $el = this.$$(this.$el);\n      const $view = $el.parents('.eb-layout-view');\n      const isPanel = $view.is('.eb-layout-panel-view');\n      const immediate = this.$meta.vueApp.layout === 'pc' && !isPanel;\n      const filterConfig = this._getFilterConfig();\n      const navigateOptions = {\n        context: {\n          params: {\n            layoutManager: this,\n            filterConfig,\n            immediate,\n          },\n        },\n      };\n      if (immediate) {\n        navigateOptions.scene = 'sidebar';\n        navigateOptions.sceneOptions = { side: 'right', name: 'filter', title: 'Filter' };\n      } else {\n        navigateOptions.target = '_self';\n      }\n      this.$view.navigate('/a/baselayout/listLayoutFilter', navigateOptions);\n    },\n    onFilterChanged(value) {\n      this.filter = value;\n      // reload\n      this.onPageRefresh();\n    },\n    onPerformAtomOrders(element) {\n      const popover = this.$refs.popoverAtomOrders.$el;\n      this.$f7.popover.open(popover, element);\n    },\n    onPerformActionsCreate(element) {\n      const popover = this.$refs.popoverActionsCreate.$el;\n      this.$f7.popover.open(popover, element);\n    },\n    onPerformChangeAtomOrder(event, atomOrder) {\n      // switch\n      const atomOrderCurrent = this.atomOrderSelected || this.atomOrderDefault;\n      if (this._getAtomOrderKey(atomOrderCurrent) === this._getAtomOrderKey(atomOrder)) {\n        this.atomOrderSelected = {\n          name: atomOrderCurrent.name,\n          tableAlias: atomOrderCurrent.tableAlias,\n          by: atomOrderCurrent.by === 'desc' ? 'asc' : 'desc',\n        };\n      } else {\n        this.atomOrderSelected = atomOrder;\n      }\n      // reload\n      this.onPageRefresh();\n    },\n    onActionsCreateAction(event, action) {\n      let _menu = this.getMenu(action);\n      if (!_menu) return;\n      if (_menu.action === 'create') {\n        action = {\n          atomClassId: action.atomClassId,\n          module: action.module,\n          atomClassName: action.atomClassName,\n          atomClassIdParent: action.atomClassIdParent,\n        };\n        _menu = this.$utils.extend({}, _menu, { targetEl: event.target });\n      }\n      this.$meta.util.performAction({ ctx: this, action: _menu, item: action });\n    },\n    getLayout() {\n      return this.$view.size === 'small' ? 'list' : 'table';\n    },\n    prepareSelectOptions() {\n      // options\n      let options = {\n        where: { },\n      };\n      // search\n      if (this.searchQuery) {\n        options.where['a.atomName'] = { val: this.searchQuery, op: 'like' };\n      }\n      // order\n      const atomOrderCurrent = this.atomOrderSelected || this.atomOrderDefault;\n      options.orders = [\n        [ this._getAtomOrderKey(atomOrderCurrent), atomOrderCurrent.by ],\n      ];\n      // extend 1\n      if (this.options) {\n        options = this.$utils.extend({}, options, this.options);\n      }\n      // options\n      return options;\n    },\n    prepareSelectParams() {\n      // options\n      const options = this.prepareSelectOptions();\n      // params\n      let params = {\n        atomClass: this.atomClass,\n        options,\n      };\n      // filter\n      const filterParams = this.prepareFilterParams();\n      if (filterParams) {\n        params = this.$utils.extend({}, params, filterParams);\n      }\n      return params;\n    },\n    prepareFilterParams() {\n      if (!this.filter) return null;\n      // options\n      const options = {\n        where: {},\n      };\n      // params\n      const params = {\n        options,\n      };\n      // form\n      if (this.filter.form) {\n        if (this.filter.form.atomName) {\n          options.where['a.atomName'] = { val: this.filter.form.atomName, op: 'like' };\n        }\n        if (this.filter.form.star) {\n          options.star = Number(this.filter.form.star);\n        }\n        if (this.filter.form.label) {\n          options.label = this.filter.form.label;\n        }\n        if (this.filter.form.stage) {\n          options.stage = this.filter.form.stage;\n        }\n        if (this.filter.form.atomClass) {\n          params.atomClass = this.filter.form.atomClass;\n        }\n      }\n      // formAtomClass\n      const formAtomClass = this.filter.formAtomClass;\n      if (formAtomClass) {\n        let hasValue = false;\n        for (const key in formAtomClass) {\n          const value = formAtomClass[key];\n          // undefined/null/'', except 0/false\n          if (value !== undefined && value !== null && value !== '') {\n            if (typeof value === 'string') {\n              options.where[`f.${key}`] = { val: value, op: 'like' };\n            } else {\n              options.where[`f.${key}`] = value;\n            }\n            hasValue = true;\n          }\n        }\n        if (hasValue) {\n          options.mode = 'search';\n        }\n      }\n      // ok\n      return params;\n    },\n    // **  search - begin\n    onSearch(query) {\n      this.searchQuery = query;\n      if (this.searchQuery) {\n        this.onPageRefresh();\n      } else {\n        this.onPageClear();\n      }\n    },\n    onSearchDisable() {\n      this.$f7router.back();\n    },\n    onSearchAdvanced() {\n      this.onPerformFilter();\n    },\n    // ** search - end\n    _getAtomOrderKey(atomOrder) {\n      return atomOrder ? `${atomOrder.tableAlias || 'f'}.${atomOrder.name}` : null;\n    },\n    _getAtomOrderStatus(atomOrder) {\n      const atomOrderCurrent = this.atomOrderSelected || this.atomOrderDefault;\n      if (this._getAtomOrderKey(atomOrderCurrent) === this._getAtomOrderKey(atomOrder)) {\n        return atomOrderCurrent.by === 'desc' ? 'arrow_drop_down' : 'arrow_drop_up';\n      }\n      return '';\n    },\n    _getAtomOrders() {\n      // base\n      const ordersBase = this.configAtomBase.render.list.info.orders;\n      // atomClass\n      const ordersAtomClass = this.$meta.util.getProperty(this.configAtom, 'render.list.info.orders');\n      // atomOrders\n      return ordersAtomClass ? ordersBase.concat(ordersAtomClass) : ordersBase;\n    },\n    _getFilterConfig() {\n      // base\n      const filterConfigBase = this.configAtomBase.render.list.info.filter;\n      // atomClass\n      const filterConfig = this.$meta.util.getProperty(this.configAtom, 'render.list.info.filter');\n      // filterConfig\n      return this.$meta.util.extend({}, filterConfigBase, filterConfig);\n    },\n    async prepareLayoutConfig() {\n      // configAtomBase\n      this.configAtomBase = this.$config.atom;\n      // configAtom\n      if (this.atomClass) {\n        // load module\n        await this.$meta.module.use(this.atomClass.module);\n        this.configAtom = this.$meta.util.getProperty(this.$meta.config.modules[this.atomClass.module], `atoms.${this.atomClass.atomClassName}`);\n      }\n      // layoutConfig\n      const layoutConfigBase = this.configAtomBase.render.list.layouts[this.layoutCurrent];\n      const layoutConfigAtom = this.$meta.util.getProperty(this.configAtom, `render.list.layouts.${this.layoutCurrent}`);\n      this.layoutConfig = this.$meta.util.extend({}, layoutConfigBase, layoutConfigAtom);\n    },\n    loadActionsCreate() {\n      if (this.atomClass || this.actionsCreate) return;\n      // functionList\n      const options = {\n        where: { menu: 1, sceneName: 'create' },\n        orders: [\n          [ 'sorting', 'asc' ],\n        ],\n      };\n      this.$api.post('/a/base/function/list', {\n        options,\n      }).then(data => {\n        this.actionsCreate = data.list;\n      });\n    },\n    loadActionsList() {\n      if (this.actionsList) return;\n\n    },\n    getPageTitle() {\n      const atomClass = this.getAtomClass(this.atomClass);\n      if (!atomClass) return this.$text('Atom');\n      return `${this.$text('Atom')}: ${atomClass.titleLocale}`;\n    },\n    getLayoutComponentOptions() {\n      return {\n        props: {\n          layoutManager: this,\n          layoutConfig: this.layoutConfig,\n        },\n      };\n    },\n    _renderLayoutComponent() {\n      if (!this.ready) return null;\n      return <eb-component ref='layout' module={this.layoutConfig.component.module} name={this.layoutConfig.component.name} options={this.getLayoutComponentOptions()}></eb-component>;\n    },\n    _renderPopoverAtomOrders() {\n      if (!this.ready) return null;\n      // list\n      const children = [];\n      for (const atomOrder of this._getAtomOrders()) {\n        children.push(\n          <eb-list-item key={this._getAtomOrderKey(atomOrder)} popoverClose link=\"#\" propsOnPerform={event => this.onPerformChangeAtomOrder(event, atomOrder)}>\n            <f7-icon slot=\"media\" material={this._getAtomOrderStatus(atomOrder)}></f7-icon>\n            <div slot=\"title\">{this.$text(atomOrder.title)}</div>\n          </eb-list-item>\n        );\n      }\n      return (\n        <eb-popover ref=\"popoverAtomOrders\" ready={true}>\n          <f7-list inset>\n            {children}\n          </f7-list>\n        </eb-popover>\n      );\n    },\n    _renderPopoverActionsCreate() {\n      if (!this.showPopoverActionsCreate) return null;\n      // list\n      const children = [];\n      for (const action of this.actionsCreate) {\n        children.push(\n          <eb-list-button key={action.id} popoverClose propsOnPerform={event => this.onActionsCreateAction(event, action)}>{action.titleLocale}</eb-list-button>\n        );\n      }\n      return (\n        <f7-popover ref=\"popoverActionsCreate\">\n          <f7-list inset>\n            {children}\n          </f7-list>\n        </f7-popover>\n      );\n    },\n    getBlockComponentOptions({ blockConfig }) {\n      return {\n        props: {\n          layoutManager: this,\n          blockConfig,\n        },\n      };\n    },\n    _renderBlock({ blockName }) {\n      if (!this.ready) return null;\n      const blockConfig = this.layoutConfig.blocks[blockName];\n      if (!blockConfig) return null;\n      return <eb-component module={blockConfig.component.module} name={blockConfig.component.name} options={this.getBlockComponentOptions({ blockConfig })}></eb-component>;\n    },\n    _renderLayout() {\n      return (\n        <div>\n          {this._renderLayoutComponent()}\n          {this._renderPopoverAtomOrders()}\n          {this._renderPopoverActionsCreate()}\n        </div>\n      );\n    },\n  },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"large\":\"\",\"largeTransparent\":\"\",\"title\":_vm.title,\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[(_vm.ready && _vm.findAction('write'))?_c('eb-link',{ref:\"buttonSave\",attrs:{\"iconMaterial\":this.mode==='edit'?'save':'edit',\"context\":this.mode==='edit'?'save':'write',\"onPerform\":_vm.onAction}}):_vm._e(),_vm._v(\" \"),(_vm.showPopover)?_c('f7-link',{attrs:{\"iconMaterial\":\"more_horiz\",\"popover-open\":(\"#\" + _vm.popoverId)}}):_vm._e()],1)],1),_vm._v(\" \"),(_vm.notfound)?[_c('f7-list',[_c('f7-list-item',{attrs:{\"title\":_vm.$text('Not found')}})],1)]:[(_vm.ready)?_c('atoms',{attrs:{\"mode\":\"list\",\"itemShow\":_vm.item}}):_vm._e(),_vm._v(\" \"),(_vm.ready)?_c('eb-validate',{ref:\"validate\",attrs:{\"readOnly\":this.mode!=='edit',\"auto\":\"\",\"data\":_vm.item,\"params\":_vm.validateParams,\"onPerform\":_vm.onPerformValidate,\"onSave\":_vm.onSave},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}}):_vm._e(),_vm._v(\" \"),_c('f7-popover',{attrs:{\"id\":_vm.popoverId}},[(_vm.showPopover)?_c('f7-list',{attrs:{\"inset\":\"\"}},[(_vm.findAction('write') && _vm.item.atomStage===0)?_c('eb-list-button',{attrs:{\"popover-close\":\"\",\"context\":\"submit\",\"onPerform\":_vm.onAction}},[_vm._v(_vm._s(_vm.$text('Submit')))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.actions),function(action){return (action.name!=='write')?_c('eb-list-button',{key:action.id,attrs:{\"popover-close\":\"\",\"context\":action,\"onPerform\":_vm.onAction}},[_vm._v(_vm._s(_vm.getActionTitle(action)))]):_vm._e()})],2):_vm._e()],1)],_vm._v(\" \"),(_vm.ready && _vm.enableFootbar)?_c('f7-toolbar',{attrs:{\"bottom-md\":\"\"}},[(_vm.enableComment)?_c('eb-link',{attrs:{\"iconMaterial\":\"comment\",\"eb-href\":(\"comment/list?atomId=\" + (_vm.item.atomId))}},[_vm._v(_vm._s(_vm.item.commentCount))]):_vm._e(),_vm._v(\" \"),(_vm.enableAttachment)?_c('eb-link',{attrs:{\"iconMaterial\":\"attach_file\",\"eb-href\":(\"attachment/list?atomId=\" + (_vm.item.atomId))}},[_vm._v(_vm._s(_vm.item.attachmentCount))]):_vm._e()],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page>\n    <eb-navbar large largeTransparent :title=\"title\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link ref=\"buttonSave\" v-if=\"ready && findAction('write')\" :iconMaterial=\"this.mode==='edit'?'save':'edit'\" :context=\"this.mode==='edit'?'save':'write'\" :onPerform=\"onAction\"></eb-link>\n        <f7-link v-if=\"showPopover\" iconMaterial=\"more_horiz\" :popover-open=\"`#${popoverId}`\"></f7-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <template v-if=\"notfound\">\n      <f7-list>\n        <f7-list-item :title=\"$text('Not found')\"></f7-list-item>\n      </f7-list>\n    </template>\n    <template v-else>\n      <atoms v-if=\"ready\" mode=\"list\" :itemShow=\"item\"></atoms>\n      <eb-validate v-if=\"ready\" ref=\"validate\" :readOnly=\"this.mode!=='edit'\" auto :data=\"item\" :params=\"validateParams\" :onPerform=\"onPerformValidate\" :onSave=\"onSave\" @submit.prevent=\"onSubmit\">\n      </eb-validate>\n      <f7-popover :id=\"popoverId\">\n        <f7-list v-if=\"showPopover\" inset>\n          <eb-list-button v-if=\"findAction('write') && item.atomStage===0\" popover-close context=\"submit\" :onPerform=\"onAction\">{{$text('Submit')}}</eb-list-button>\n          <eb-list-button v-for=\"action of actions\" :key=\"action.id\" v-if=\"action.name!=='write'\" popover-close :context=\"action\" :onPerform=\"onAction\">{{getActionTitle(action)}}</eb-list-button>\n        </f7-list>\n      </f7-popover>\n    </template>\n    <f7-toolbar v-if=\"ready && enableFootbar\" bottom-md>\n      <eb-link v-if=\"enableComment\" iconMaterial=\"comment\" :eb-href=\"`comment/list?atomId=${item.atomId}`\">{{item.commentCount}}</eb-link>\n      <eb-link v-if=\"enableAttachment\" iconMaterial=\"attach_file\" :eb-href=\"`attachment/list?atomId=${item.atomId}`\">{{item.attachmentCount}}</eb-link>\n    </f7-toolbar>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nimport atoms from './listLayoutManager.jsx';\nimport ebAtomClasses from '../../common/atomClasses.js';\nimport ebAtomActions from '../../common/atomActions.js';\nexport default {\n  mixins: [ ebAtomClasses, ebAtomActions ],\n  meta: {\n    global: false,\n  },\n  components: {\n    atoms,\n  },\n  props: {\n    // mode: edit/view\n    mode: {\n      type: String,\n    },\n    query: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      atomId: parseInt(this.query.atomId || 0),\n      itemId: parseInt(this.query.itemId || 0),\n      atomClassId: parseInt(this.query.atomClassId || 0),\n      item: null,\n      module: null,\n      validateParams: null,\n      actions: null,\n      popoverId: Vue.prototype.$meta.util.nextId('popover'),\n      notfound: false,\n    };\n  },\n  computed: {\n    ready() {\n      return this.item && this.module && this.validateParams && this.actions && this.atomClassesAll && this.actionsAll;\n    },\n    title() {\n      const name = this.mode === 'edit' ? this.$text('Edit') : this.$text('View');\n      if (!this.item) return name;\n      return `${name}: ${this.item.atomName}`;\n    },\n    showPopover() {\n      if (!this.ready) return false;\n      // submit\n      const submit = this.findAction('write') && this.item.atomStage === 0;\n      if (submit) return true;\n      // others\n      for (const action of this.actions) {\n        if (action.name !== 'write') return true;\n      }\n      return false;\n    },\n    atomClass() {\n      if (!this.item) return null;\n      return {\n        module: this.item.module,\n        atomClassName: this.item.atomClassName,\n      };\n    },\n    enableFootbar() {\n      return this.enableComment || this.enableAttachment;\n    },\n    enableComment() {\n      const atomClassInfo = this.getAtomClass(this.atomClass);\n      if (!atomClassInfo) return false;\n      return !(atomClassInfo.meta && atomClassInfo.meta.comment === false);\n    },\n    enableAttachment() {\n      const atomClassInfo = this.getAtomClass(this.atomClass);\n      if (!atomClassInfo) return false;\n      return !(atomClassInfo.meta && atomClassInfo.meta.attachment === false);\n    },\n  },\n  mounted() {\n    this.$meta.eventHub.$on('atom:action', this.onActionChanged);\n    this.$meta.eventHub.$on('comment:action', this.onCommentChanged);\n    this.$meta.eventHub.$on('attachment:action', this.onAttachmentChanged);\n  },\n  beforeDestroy() {\n    this.$meta.eventHub.$off('atom:action', this.onActionChanged);\n    this.$meta.eventHub.$off('comment:action', this.onCommentChanged);\n    this.$meta.eventHub.$off('attachment:action', this.onAttachmentChanged);\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    reload() {\n      this.item = null;\n      this.actions = null;\n      this.load();\n    },\n    load() {\n      // item & module\n      this.$api.post('atom/read', {\n        key: { atomId: this.atomId },\n      }).then(data => {\n        this.item = data;\n        // module\n        this.$meta.module.use(this.item.module, module => {\n          this.module = module;\n        });\n        // validateParams\n        this.$api.post('atom/validator', {\n          atomClass: { id: this.item.atomClassId },\n        }).then(data => {\n          this.validateParams = {\n            module: data.module,\n            validator: data.validator,\n          };\n        });\n        // actions\n        this.fetchActions();\n      }).catch(() => {\n        this.notfound = true;\n      });\n    },\n    fetchActions() {\n      this.$api.post('atom/actions', {\n        key: { atomId: this.atomId },\n      }).then(data => {\n        this.actions = data;\n      });\n    },\n    findAction(actionName) {\n      if (!this.actions) return null;\n      return this.actions.find(item => item.name === actionName);\n    },\n    onSave(event) {\n      return this.onAction(event, 'save');\n    },\n    onAction(event, action) {\n      if (action === 'save' || action === 'submit') {\n        return this.$refs.validate.perform(event, action);\n      }\n      if (typeof action === 'string') {\n        action = {\n          module: this.item.module,\n          atomClassName: this.item.atomClassName,\n          name: action,\n        };\n      }\n      // action\n      let _action = this.getAction(action);\n      // for write\n      if (action.name === 'write') {\n        _action = this.$utils.extend({}, _action, { navigateOptions: { target: '_self' } });\n      }\n      return this.$meta.util.performAction({ ctx: this, action: _action, item: this.item }).then(res => {\n        if (res) this.$f7router.back();\n      });\n    },\n    onPerformValidate(event, actionName) {\n      const action = this.$utils.extend({}, this.findAction('write'), { name: actionName });\n      const _action = this.getAction(action);\n      return this.$meta.util.performAction({ ctx: this, action: _action, item: this.item }).then(() => {\n        if (actionName === 'save') return true; // toast on success\n        if (actionName === 'submit') this.$f7router.back();\n      });\n    },\n    onActionChanged(data) {\n      const key = data.key;\n      const action = data.action;\n\n      if (this.mode === 'edit') return;\n      if (!this.ready) return;\n      if (this.item.atomId !== key.atomId) return;\n\n      // create\n      if (action.menu === 1 && action.action === 'create') {\n        return;\n      }\n      // delete\n      if (action.name === 'delete') {\n        this.item = null;\n        this.notfound = true;\n        return;\n      }\n      // others\n      this.reload();\n    },\n    onCommentChanged(data) {\n      if (!this.item || data.atomId !== this.atomId) return;\n      if (data.action === 'create') this.item.commentCount += 1;\n      if (data.action === 'delete') this.item.commentCount -= 1;\n    },\n    onAttachmentChanged(data) {\n      if (!this.item || data.atomId !== this.atomId) return;\n      if (data.action === 'create') this.item.attachmentCount += 1;\n      if (data.action === 'delete') this.item.attachmentCount -= 1;\n    },\n    onSubmit() {\n      this.$refs.buttonSave.onClick();\n    },\n  },\n};\n\n</script>\n<style scoped>\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./item.vue?vue&type=template&id=447f52f2&scoped=true&\"\nimport script from \"./item.vue?vue&type=script&lang=js&\"\nexport * from \"./item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"447f52f2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('f7-list',[(_vm.mode==='search')?_vm._l((_vm.items),function(item){return _c('eb-list-item',{key:item.id,attrs:{\"link\":\"#\",\"context\":item,\"onPerform\":_vm.onItemClick,\"title\":item.titleLocale,\"swipeout\":\"\"}},[_c('f7-icon',{attrs:{\"slot\":\"media\",\"color\":\"orange\",\"material\":item.star?'star':''},slot:\"media\"}),_vm._v(\" \"),_c('eb-context-menu',[_c('div',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{attrs:{\"color\":\"orange\",\"context\":item,\"onPerform\":_vm.onStarSwitch}},[_vm._v(_vm._s(item.star?_vm.$text('Unstar'):_vm.$text('Star')))])])])],1)}):(_vm.mode==='stars')?_vm._l((_vm.items),function(item){return _c('eb-list-item',{key:item.id,attrs:{\"link\":\"#\",\"context\":item,\"onPerform\":_vm.onItemClick,\"title\":item.titleLocale,\"swipeout\":\"\"}},[_c('eb-context-menu',[_c('div',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{attrs:{\"color\":\"orange\",\"context\":item,\"onPerform\":_vm.onStarOff}},[_vm._v(_vm._s(_vm.$text('Unstar')))])])])],1)}):_vm._l((_vm.itemGroups),function(group){return _c('f7-list-group',{key:group.id},[_c('f7-list-item',{attrs:{\"title\":group.title,\"group-title\":\"\"}}),_vm._v(\" \"),_vm._l((group.items),function(item){return _c('eb-list-item',{key:item.id,attrs:{\"link\":\"#\",\"context\":item,\"onPerform\":_vm.onItemClick,\"title\":item.titleLocale,\"swipeout\":\"\"}},[_c('f7-icon',{attrs:{\"slot\":\"media\",\"color\":\"orange\",\"material\":item.star?'star':''},slot:\"media\"}),_vm._v(\" \"),_c('eb-context-menu',[_c('div',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{attrs:{\"color\":\"orange\",\"context\":item,\"onPerform\":_vm.onStarSwitch}},[_vm._v(_vm._s(item.star?_vm.$text('Unstar'):_vm.$text('Star')))])])])],1)})],2)})],2),_vm._v(\" \"),_c('eb-load-more',{ref:\"loadMore\",attrs:{\"onLoadClear\":_vm.onLoadClear,\"onLoadMore\":_vm.onLoadMore,\"autoInit\":false}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <f7-list>\n      <template v-if=\"mode==='search'\">\n        <eb-list-item v-for=\"item of items\" :key=\"item.id\" link=\"#\" :context=\"item\" :onPerform=\"onItemClick\" :title=\"item.titleLocale\" swipeout>\n          <f7-icon slot=\"media\" color=\"orange\" :material=\"item.star?'star':''\"></f7-icon>\n          <eb-context-menu>\n            <div slot=\"right\">\n              <div color=\"orange\" :context=\"item\" :onPerform=\"onStarSwitch\">{{item.star?$text('Unstar'):$text('Star')}}</div>\n            </div>\n          </eb-context-menu>\n        </eb-list-item>\n      </template>\n      <template v-else-if=\"mode==='stars'\">\n        <eb-list-item v-for=\"item of items\" :key=\"item.id\" link=\"#\" :context=\"item\" :onPerform=\"onItemClick\" :title=\"item.titleLocale\" swipeout>\n          <eb-context-menu>\n            <div slot=\"right\">\n              <div color=\"orange\" :context=\"item\" :onPerform=\"onStarOff\">{{$text('Unstar')}}</div>\n            </div>\n          </eb-context-menu>\n        </eb-list-item>\n      </template>\n      <template v-else>\n        <f7-list-group v-for=\"group of itemGroups\" :key=\"group.id\">\n          <f7-list-item :title=\"group.title\" group-title></f7-list-item>\n          <eb-list-item v-for=\"item of group.items\" :key=\"item.id\" link=\"#\" :context=\"item\" :onPerform=\"onItemClick\" :title=\"item.titleLocale\" swipeout>\n            <f7-icon slot=\"media\" color=\"orange\" :material=\"item.star?'star':''\"></f7-icon>\n            <eb-context-menu>\n              <div slot=\"right\">\n                <div color=\"orange\" :context=\"item\" :onPerform=\"onStarSwitch\">{{item.star?$text('Unstar'):$text('Star')}}</div>\n              </div>\n            </eb-context-menu>\n          </eb-list-item>\n        </f7-list-group>\n      </template>\n    </f7-list>\n    <eb-load-more ref=\"loadMore\" :onLoadClear=\"onLoadClear\" :onLoadMore=\"onLoadMore\" :autoInit=\"false\"></eb-load-more>\n  </div>\n</template>\n<script>\nimport ebModules from '../../common/modules.js';\nimport ebMenus from '../../common/menus.js';\nexport default {\n  meta: {\n    global: false,\n  },\n  mixins: [ebModules, ebMenus],\n  props: {\n    mode: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      items: [],\n      query: '',\n      functionScenes: null,\n    };\n  },\n  computed: {\n    itemGroups() {\n      if (this.mode === 'scenes') return this.itemGroupsScenes;\n      if (this.mode === 'modules') return this.itemGroupsModules;\n    },\n    itemGroupsScenes() {\n      if (!this.functionScenes) return [];\n      const groups = [];\n      let group = null;\n      for (const item of this.items) {\n        if (!group || group.id !== item.sceneId) {\n          const scene = this.functionScenes[item.sceneId];\n          group = { id: item.sceneId, name: scene.sceneName, title: scene.titleLocale, items: [] };\n          groups.push(group);\n        }\n        group.items.push(item);\n      }\n      return groups;\n    },\n    itemGroupsModules() {\n      if (!this.modulesAll) return [];\n      const groups = [];\n      let group = null;\n      for (const item of this.items) {\n        if (!group || group.id !== item.module) {\n          const module = this.modulesAll[item.module];\n          group = { id: item.module, title: module.titleLocale, items: [] };\n          groups.push(group);\n        }\n        group.items.push(item);\n      }\n      return groups;\n    },\n  },\n  mounted() {\n    this.$meta.eventHub.$on('menu:star', this.onStarChanged);\n  },\n  beforeDestroy() {\n    this.$meta.eventHub.$off('menu:star', this.onStarChanged);\n  },\n  methods: {\n    onSearch(query) {\n      this.query = query;\n      if (!this.query) {\n        this.items = [];\n      } else {\n        this.reload(true);\n      }\n    },\n    reload(force) {\n      // scenes\n      if (!this.functionScenes) {\n        this.$store.dispatch('a/base/getFunctionScenes', { sceneMenu: 1 }).then(data => {\n          this.functionScenes = data;\n        });\n      }\n      // reload\n      this.$refs.loadMore.reload(force);\n    },\n    loadMore() {\n      this.$refs.loadMore.loadMore();\n    },\n    onLoadClear(done) {\n      this.items = [];\n      done();\n    },\n    onLoadMore({ index }) {\n      // options\n      let options;\n      if (this.mode === 'scenes') {\n        options = {\n          where: { 'a.menu': 1 },\n          orders: [\n            ['f.sceneSorting', 'asc'],\n            ['a.sorting', 'asc'],\n          ],\n          page: { index },\n        };\n      } else if (this.mode === 'modules') {\n        options = {\n          where: { 'a.menu': 1 },\n          orders: [\n            ['a.module', 'asc'],\n            ['f.sceneSorting', 'asc'],\n            ['a.sorting', 'asc'],\n          ],\n          page: { index },\n        };\n      } else if (this.mode === 'stars') {\n        options = {\n          where: { 'a.menu': 1 },\n          orders: [\n            ['d.updatedAt', 'desc'],\n          ],\n          star: 1,\n          page: { index },\n        };\n      } else if (this.mode === 'search') {\n        options = {\n          where: { 'a.menu': 1, 'b.titleLocale': { val: this.query, op: 'like' } },\n          orders: [\n            ['b.titleLocale', 'asc'],\n          ],\n          page: { index },\n        };\n      }\n      // fetch\n      return this.$api.post('function/list', {\n        options,\n      }).then(data => {\n        this.items = this.items.concat(data.list);\n        return data;\n      });\n    },\n    onStarSwitch(event, item) {\n      const star = item.star ? 0 : 1;\n      return this.$api.post('function/star', {\n        id: item.id,\n        star,\n      }).then(() => {\n        this.$meta.eventHub.$emit('menu:star', { id: item.id, star });\n        this.$meta.util.swipeoutClose(event.target);\n      });\n    },\n    onStarOff(event, item) {\n      return this.$api.post('function/star', {\n        id: item.id,\n        star: 0,\n      }).then(() => {\n        this.$meta.eventHub.$emit('menu:star', { id: item.id, star: 0 });\n        this.$meta.util.swipeoutDelete(event.target);\n      });\n    },\n    onStarChanged(data) {\n      const index = this.items.findIndex(item => item.id === data.id);\n      if (this.mode === 'stars') {\n        if (data.star === 0 && index !== -1) {\n          this.items.splice(index, 1);\n        } else if (data.star === 1 && index === -1) {\n          this.reload();\n        }\n      } else {\n        if (index !== -1) {\n          this.items[index].star = data.star;\n        }\n      }\n    },\n    onItemClick(event, item) {\n      let _menu = this.getMenu(item);\n      if (!_menu) return;\n      if (_menu.action === 'create') {\n        item = {\n          atomClassId: item.atomClassId,\n          module: item.module,\n          atomClassName: item.atomClassName,\n          atomClassIdParent: item.atomClassIdParent,\n        };\n        _menu = this.$utils.extend({}, _menu, { targetEl: event.target });\n      }\n      return this.$meta.util.performAction({ ctx: this, action: _menu, item });\n    },\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=605aa2ea&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=style&index=0&id=031299f9&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2caef980\", content, true, {});","export default {\n  computed: {\n    modulesAll() {\n      return this.$store.getState('a/base/modules');\n    },\n  },\n  created() {\n    this.$store.dispatch('a/base/getModules');\n  },\n  methods: {\n    getModule(module) {\n      return this.modulesAll ? this.modulesAll[module] : null;\n    },\n  },\n};\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/img/user.4819d46124c424b8e299f0f5ed68fb6d.png\";","let Vue;\n\nimport './assets/css/module.less';\n\n// install\nfunction install(_Vue, cb) {\n  if (Vue) return console.error('already installed.');\n\n  Vue = _Vue;\n\n  return cb({\n    routes: require('./routes.js').default,\n    store: require('./store.js').default(Vue),\n    config: require('./config/config.js').default,\n    locales: require('./config/locales.js').default,\n    components: require('./components.js').default,\n    mixins: require('./mixins.js').default,\n  });\n}\n\n// export\nexport default {\n  install,\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--11-1!../../../../../../../node_modules/less-loader/dist/cjs.js??ref--11-2!./module.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f5202a0a\", content, true, {});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".comment .header-container {\\n  width: 100%;\\n}\\n.comment .header-atom a.link {\\n  text-transform: none;\\n  text-align: right;\\n}\\n.comment .header-comment {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n.comment .title .avatar {\\n  float: left;\\n}\\n.comment .title .name {\\n  margin-left: 40px;\\n  font-size: 14px;\\n  font-weight: 600;\\n}\\n.comment .title .date {\\n  margin-top: -4px;\\n  margin-left: 39px;\\n  font-size: 13px;\\n  color: var(--f7-text-editor-placeholder-color);\\n}\\n.comment .actions {\\n  display: flex;\\n}\\n.comment .actions a.action {\\n  min-width: 0;\\n  height: auto;\\n  color: var(--f7-text-editor-placeholder-color);\\n}\\n.comment .actions a.action .icon {\\n  display: inline;\\n  font-size: 18px;\\n}\\n.comment .actions a.action + a.action {\\n  margin-left: 6px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"/Users/yangjian/Documents/data/cabloy/cabloy-lerna/src/module-system/a-base-sync/front/src/assets/css/module.less\",\"module.less\"],\"names\":[],\"mappings\":\"AAAA;EAGI,WAAA;ACDJ;ADFA;EAQM,oBAAA;EACA,iBAAA;ACHN;ADNA;EAcI,aAAA;EACA,8BAAA;ACLJ;ADVA;EAoBM,WAAA;ACPN;ADbA;EAwBM,iBAAA;EACA,eAAA;EACA,gBAAA;ACRN;ADlBA;EA8BM,gBAAA;EACA,iBAAA;EACA,eAAA;EACA,8CAAA;ACTN;ADxBA;EAsCI,aAAA;ACXJ;AD3BA;EAyCM,YAAA;EACA,YAAA;EACA,8CAAA;ACXN;ADhCA;EA8CQ,eAAA;EACA,eAAA;ACXR;ADcM;EACE,gBAAA;ACZR\",\"file\":\"module.less\",\"sourcesContent\":[\".comment {\\n\\n  .header-container {\\n    width: 100%;\\n  }\\n\\n  .header-atom {\\n    a.link {\\n      text-transform: none;\\n      text-align: right;\\n    }\\n  }\\n\\n  .header-comment {\\n    display: flex;\\n    justify-content: space-between;\\n  }\\n\\n  .title {\\n    .avatar {\\n      float: left;\\n    }\\n\\n    .name {\\n      margin-left: 40px;\\n      font-size: 14px;\\n      font-weight: 600;\\n    }\\n\\n    .date {\\n      margin-top: -4px;\\n      margin-left: 39px;\\n      font-size: 13px;\\n      color: var(--f7-text-editor-placeholder-color);\\n    }\\n  }\\n\\n  .actions {\\n    display: flex;\\n\\n    a.action {\\n      min-width: 0;\\n      height: auto;\\n      color: var(--f7-text-editor-placeholder-color);\\n\\n      .icon {\\n        display: inline;\\n        font-size: 18px;\\n      }\\n\\n      &+a.action {\\n        margin-left: 6px;\\n      }\\n    }\\n  }\\n}\\n\",\".comment .header-container {\\n  width: 100%;\\n}\\n.comment .header-atom a.link {\\n  text-transform: none;\\n  text-align: right;\\n}\\n.comment .header-comment {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n.comment .title .avatar {\\n  float: left;\\n}\\n.comment .title .name {\\n  margin-left: 40px;\\n  font-size: 14px;\\n  font-weight: 600;\\n}\\n.comment .title .date {\\n  margin-top: -4px;\\n  margin-left: 39px;\\n  font-size: 13px;\\n  color: var(--f7-text-editor-placeholder-color);\\n}\\n.comment .actions {\\n  display: flex;\\n}\\n.comment .actions a.action {\\n  min-width: 0;\\n  height: auto;\\n  color: var(--f7-text-editor-placeholder-color);\\n}\\n.comment .actions a.action .icon {\\n  display: inline;\\n  font-size: 18px;\\n}\\n.comment .actions a.action + a.action {\\n  margin-left: 6px;\\n}\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","function load(name) {\n  return require(`./pages/${name}.vue`).default;\n}\nfunction loadjsx(name) {\n  return require(`./pages/${name}.jsx`).default;\n}\n\nexport default [\n  { path: 'menu/list', component: load('menu/list') },\n  { path: 'menu/search', component: load('menu/search') },\n  { path: 'menu/selectFunction', component: load('menu/selectFunction') },\n  { path: 'atom/list', component: loadjsx('atom/list') },\n  { path: 'atom/searchQuick', component: loadjsx('atom/searchQuick') },\n  { path: 'atom/labels', component: load('atom/labels') },\n  { path: 'atom/edit', component: load('atom/edit') },\n  { path: 'atom/view', component: load('atom/view') },\n  { path: 'atom/selectAtomClass', component: load('atom/selectAtomClass') },\n  { path: 'atom/select', component: load('atom/select') },\n  { path: 'atom/autoStar', component: load('atom/autoStar') },\n  { path: 'comment/list', component: load('comment/list') },\n  { path: 'comment/item', component: load('comment/item') },\n  { path: 'comment/all', component: load('comment/all') },\n  { path: 'comment/autoHeart', component: load('comment/autoHeart') },\n  { path: 'attachment/list', component: load('attachment/list') },\n  { path: 'base/alert', component: load('base/alert') },\n];\n","var map = {\n\t\"./atom/autoStar.vue\": 29,\n\t\"./atom/edit.vue\": 30,\n\t\"./atom/labels.vue\": 31,\n\t\"./atom/select.vue\": 32,\n\t\"./atom/selectAtomClass.vue\": 33,\n\t\"./atom/view.vue\": 34,\n\t\"./attachment/list.vue\": 35,\n\t\"./base/alert.vue\": 36,\n\t\"./comment/all.vue\": 37,\n\t\"./comment/autoHeart.vue\": 38,\n\t\"./comment/item.vue\": 39,\n\t\"./comment/list.vue\": 40,\n\t\"./menu/list.vue\": 41,\n\t\"./menu/search.vue\": 42,\n\t\"./menu/selectFunction.vue\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 18;","import mod from \"-!../../../../../../../node_modules/vue-style-loader/index.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=style&index=0&id=031299f9&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../node_modules/vue-style-loader/index.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=style&index=0&id=031299f9&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \"\\n.label[data-v-031299f9] {\\n  position: absolute;\\n  width: 100%;\\n  top: 10px;\\n  text-align: center;\\n}\\n.media[data-v-031299f9] {\\n  width: 16px;\\n  height: 16px;\\n  border-radius: 8px;\\n}\\n.colors[data-v-031299f9] {\\n  height: 60px;\\n  width: 100%;\\n}\\n\\n\", \"\",{\"version\":3,\"sources\":[\"front/src/pages/atom/labels.vue\"],\"names\":[],\"mappings\":\";AAiJA;EACA,kBAAA;EACA,WAAA;EACA,SAAA;EACA,kBAAA;AACA;AAEA;EACA,WAAA;EACA,YAAA;EACA,kBAAA;AACA;AAEA;EACA,YAAA;EACA,WAAA;AACA\",\"file\":\"labels.vue\",\"sourcesContent\":[\"<template>\\n  <eb-page>\\n    <eb-navbar large largeTransparent :title=\\\"$text('Labels')\\\" eb-back-link=\\\"Back\\\">\\n      <f7-nav-right>\\n        <eb-link iconMaterial=\\\"add\\\" @click.prevent=\\\"onAddLabel\\\"></eb-link>\\n      </f7-nav-right>\\n    </eb-navbar>\\n    <f7-list v-if=\\\"labelsAll\\\">\\n      <f7-list-item group-title :title=\\\"item?item.atomName:''\\\"></f7-list-item>\\n      <eb-list-item v-for=\\\"key of Object.keys(labelsAll)\\\" :key=\\\"key\\\" :title=\\\"labelsAll[key].text\\\" checkbox :checked=\\\"labelChecked(key)\\\" @change=\\\"onLabelCheckChange($event,key)\\\" swipeout>\\n        <div slot=\\\"media\\\" class=\\\"media\\\" :style=\\\"{backgroundColor:labelsAll[key].color}\\\"></div>\\n        <eb-context-menu>\\n          <div slot=\\\"right\\\">\\n            <div close color=\\\"orange\\\" :context=\\\"key\\\" :onPerform=\\\"onEditLabel\\\">{{$text('Edit')}}</div>\\n          </div>\\n        </eb-context-menu>\\n      </eb-list-item>\\n    </f7-list>\\n    <f7-sheet ref=\\\"ebSheet\\\" fill :opened=\\\"sheetOpened\\\" @sheet:closed=\\\"sheetOpened = false\\\">\\n      <f7-toolbar>\\n        <div class=\\\"left\\\">\\n          <f7-link sheet-close>{{$text('Close')}}</f7-link>\\n        </div>\\n        <div class=\\\"right\\\">\\n          <eb-link ref=\\\"buttonSubmit\\\" :onPerform=\\\"onSubmit\\\">{{$text('Submit')}}</eb-link>\\n        </div>\\n      </f7-toolbar>\\n      <f7-page-content>\\n        <div class=\\\"label\\\">\\n          <f7-badge :style=\\\"{backgroundColor:labelColor}\\\">{{labelText}}</f7-badge>\\n        </div>\\n        <eb-list form inline-labels no-hairlines-md @submit.prevent=\\\"onFormSubmit\\\">\\n          <eb-list-input :label=\\\"$text('Text')\\\" type=\\\"text\\\" clear-button :placeholder=\\\"$text('Text')\\\" v-model=\\\"labelText\\\">\\n          </eb-list-input>\\n          <f7-list-item>\\n            <div class=\\\"row colors\\\">\\n              <f7-button v-for=\\\"color of colors\\\" :key=\\\"color.value\\\" class=\\\"col-33\\\" :style=\\\"{backgroundColor:color.value}\\\" small fill @click=\\\"onColorSelect(color)\\\">{{$text(color.name)}}</f7-button>\\n            </div>\\n          </f7-list-item>\\n        </eb-list>\\n      </f7-page-content>\\n    </f7-sheet>\\n  </eb-page>\\n</template>\\n<script>\\nexport default {\\n  data() {\\n    return {\\n      atomId: parseInt(this.$f7route.query.atomId),\\n      item: null,\\n      labels: [],\\n      sheetOpened: false,\\n      labelId: 0,\\n      labelText: '',\\n      labelColor: '',\\n      colors: [\\n        { name: 'Red', value: '#FC6360' },\\n        { name: 'Orange', value: '#FDA951' },\\n        { name: 'Yellow', value: '#FED558' },\\n        { name: 'Blue', value: '#54BEF7' },\\n        { name: 'Green', value: '#86DF6A' },\\n        { name: 'Purple', value: '#D592E5' },\\n      ],\\n    };\\n  },\\n  computed: {\\n    labelsAll() {\\n      return this.$local.getters('userLabels');\\n    },\\n  },\\n  methods: {\\n    onAddLabel() {\\n      this.labelId = 0;\\n      this.labelText = '';\\n      this.labelColor = '';\\n      this.sheetOpened = true;\\n    },\\n    onEditLabel(event, key) {\\n      this.labelId = key;\\n      this.labelText = this.labelsAll[key].text;\\n      this.labelColor = this.labelsAll[key].color;\\n      this.sheetOpened = true;\\n    },\\n    onFormSubmit() {\\n      this.$refs.buttonSubmit.onClick();\\n    },\\n    onSubmit() {\\n      if (!this.labelText || !this.labelColor) return;\\n      const labels = this.$meta.util.extend({}, this.labelsAll);\\n      if (this.labelId === 0) {\\n        labels[this.newLabelId()] = { text: this.labelText, color: this.labelColor };\\n      } else {\\n        labels[this.labelId] = { text: this.labelText, color: this.labelColor };\\n      }\\n      return this.$api.post('user/setLabels', {\\n        labels,\\n      }).then(() => {\\n        this.$local.commit('setLabels', labels);\\n        this.sheetOpened = false;\\n      });\\n    },\\n    onColorSelect(color) {\\n      this.labelColor = color.value;\\n    },\\n    newLabelId() {\\n      const keys = Object.keys(this.labelsAll);\\n      if (keys.length === 0) return 1;\\n      keys.sort((a, b) => b - a);\\n      return parseInt(keys[0]) + 1;\\n    },\\n    labelChecked(key) {\\n      return this.labels && this.labels.indexOf(key) > -1;\\n    },\\n    onLabelCheckChange(event, key) {\\n      // labels\\n      const index = this.labels.indexOf(key);\\n      if (event.target.checked && index === -1) {\\n        this.labels.push(key);\\n      } else if (!event.target.checked && index > -1) {\\n        this.labels.splice(index, 1);\\n      }\\n      // sort\\n      this.labels.sort((a, b) => a - b);\\n      // post\\n      this.$api.post('atom/labels', {\\n        key: { atomId: this.atomId },\\n        atom: { labels: this.labels },\\n      }).then(() => {\\n        this.$meta.eventHub.$emit('atom:labels', { key: { atomId: this.atomId }, labels: this.labels });\\n      });\\n    },\\n  },\\n  created() {\\n    this.$local.dispatch('getLabels');\\n    this.$api.post('atom/read', {\\n      key: { atomId: this.atomId },\\n    }).then(data => {\\n      this.item = data;\\n      this.labels = JSON.parse(this.item.labels) || [];\\n    });\\n  },\\n};\\n\\n</script>\\n<style scoped>\\n.label {\\n  position: absolute;\\n  width: 100%;\\n  top: 10px;\\n  text-align: center;\\n}\\n\\n.media {\\n  width: 16px;\\n  height: 16px;\\n  border-radius: 8px;\\n}\\n\\n.colors {\\n  height: 60px;\\n  width: 100%;\\n}\\n\\n</style>\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","var map = {\n\t\"./atom/list.jsx\": 22,\n\t\"./atom/searchQuick.jsx\": 23\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 21;","import listLayoutManager from '../../common/listLayoutManager.jsx';\nexport default {\n  mixins: [ listLayoutManager ],\n  data() {\n    const query = this.$f7route.query;\n    const module = query && query.module;\n    const atomClassName = query && query.atomClassName;\n    const atomClass = (module && atomClassName) ? { module, atomClassName } : null;\n    const options = (query && query.options) ? JSON.parse(query.options) : null;\n    const params = (query && query.params) ? JSON.parse(query.params) : null;\n    const scene = query && query.scene;\n    const layout = query && query.layout;\n    return {\n      atomClass,\n      options,\n      params,\n      scene, // default/search\n      layout,\n    };\n  },\n  render() {\n    return (\n      <eb-page withSubnavbar={this.subnavbarActions}\n        ptr onPtrRefresh={this.onPageRefresh}\n        infinite infinitePreloader={false} onInfinite={this.onPageInfinite}>\n        <eb-navbar title={this.getPageTitle()} eb-back-link=\"Back\">\n          {this._renderBlock({ blockName: 'title' })}\n          {this.subnavbarActions && this._renderBlock({ blockName: 'subnavbarActions' })}\n        </eb-navbar>\n        {this._renderLayout()}\n      </eb-page>\n    );\n  },\n};\n","import ebAtomClasses from '../../common/atomClasses.js';\nimport listLayoutManager from '../../common/listLayoutManager.jsx';\nexport default {\n  mixins: [ ebAtomClasses, listLayoutManager ],\n  data() {\n    const query = this.$f7route.query;\n    const module = query && query.module;\n    const atomClassName = query && query.atomClassName;\n    const atomClass = (module && atomClassName) ? { module, atomClassName } : null;\n    const options = (query && query.options) ? JSON.parse(query.options) : null;\n    return {\n      atomClass,\n      options,\n      scene: 'search',\n      layout: 'list',\n    };\n  },\n  computed: {\n    pageTitle() {\n      const atomClassTitle = this.atomClassTitle || this.$text('Atom');\n      return `${this.$text('Search')} ${atomClassTitle}`;\n    },\n    atomClassTitle() {\n      if (!this.atomClass) return '';\n      if (this.atomClass.title) return this.atomClass.title;\n      const _atomClass = this.getAtomClass(this.atomClass);\n      if (!_atomClass) return '';\n      return _atomClass.titleLocale;\n    },\n  },\n  render() {\n    return (\n      <eb-search-page advanced title={this.pageTitle} advancedSearchTitle=\"Advanced Filter\" onSearch={this.onSearch} onLoadMore={this.onPageInfinite} onDisable={this.onSearchDisable} onSearchAdvanced={this.onSearchAdvanced}>\n        {this._renderLayoutComponent()}\n      </eb-search-page>\n    );\n  },\n};\n","// eslint-disable-next-line\nexport default function(Vue) {\n\n  const queueLayoutConfig = Vue.prototype.$meta.util.queue((info, cb) => {\n    const user = Vue.prototype.$meta.store.getState('auth/user');\n    if (user.op.id !== info.userId) return cb();\n    Vue.prototype.$meta.api.post('/a/base/layoutConfig/saveKey', info.data).then(() => {\n      // donothing\n      cb();\n    }).catch(err => {\n      console.error(err);\n      cb();\n    });\n  });\n\n  Vue.prototype.$meta.eventHub.$on('auth:login', data => {\n    Vue.prototype.$meta.store.commit('a/base/authLogin', data);\n  });\n\n  return {\n    state: {\n      // user\n      labels: null,\n      layoutConfig: {},\n      userPanels: null,\n      userWidgets: null,\n      userSections: null,\n      userButtons: null,\n      userAtomClassRolesPreferred: {},\n      // global\n      modules: null,\n      atomClasses: null,\n      actions: null,\n      functionScenes: {},\n      functions: null,\n      menus: null,\n      panels: null,\n      widgets: null,\n      sections: null,\n      buttons: null,\n    },\n    getters: {\n      userLabels(state) {\n        return state.labels;\n      },\n    },\n    mutations: {\n      authLogin(state) {\n        // clear user\n        state.labels = null;\n        state.layoutConfig = {};\n        state.userPanels = null;\n        state.userWidgets = null;\n        state.userSections = null;\n        state.userButtons = null;\n        state.userAtomClassRolesPreferred = {};\n      },\n      setLabels(state, labels) {\n        state.labels = labels;\n      },\n      setLayoutConfig(state, { module, data }) {\n        state.layoutConfig = {\n          ...state.layoutConfig,\n          [module]: data,\n        };\n      },\n      setLayoutConfigKey(state, { module, key, value }) {\n        let layoutConfigModule = state.layoutConfig[module] || {};\n        layoutConfigModule = {\n          ...layoutConfigModule,\n          [key]: value,\n        };\n        state.layoutConfig = {\n          ...state.layoutConfig,\n          [module]: layoutConfigModule,\n        };\n        // try to save\n        const user = Vue.prototype.$meta.store.getState('auth/user');\n        if (!user.op.anonymous) {\n          const data = { module, key, value };\n          queueLayoutConfig.push({ userId: user.op.id, data });\n        }\n      },\n      setUserPanels(state, panels) {\n        state.userPanels = panels;\n      },\n      setUserWidgets(state, widgets) {\n        state.userWidgets = widgets;\n      },\n      setUserSections(state, sections) {\n        state.userSections = sections;\n      },\n      setUserButtons(state, buttons) {\n        state.userButtons = buttons;\n      },\n      setUserAtomClassRolesPreferred(state, { atomClassId, roleIdOwner }) {\n        state.userAtomClassRolesPreferred = {\n          ...state.userAtomClassRolesPreferred,\n          [atomClassId]: roleIdOwner,\n        };\n      },\n      setModules(state, modules) {\n        state.modules = modules;\n      },\n      setAtomClasses(state, atomClasses) {\n        state.atomClasses = atomClasses;\n      },\n      setActions(state, actions) {\n        state.actions = actions;\n      },\n      setMenus(state, menus) {\n        state.menus = menus;\n      },\n      setPanels(state, panels) {\n        state.panels = panels;\n      },\n      setWidgets(state, widgets) {\n        state.widgets = widgets;\n      },\n      setSections(state, sections) {\n        state.sections = sections;\n      },\n      setButtons(state, buttons) {\n        state.buttons = buttons;\n      },\n      setFunctions(state, functions) {\n        state.functions = functions;\n      },\n      setFunctionScenes(state, { sceneMenu, scenes }) {\n        state.functionScenes = {\n          ...state.functionScenes,\n          [sceneMenu]: scenes,\n        };\n      },\n    },\n    actions: {\n      getLabels({ commit, getters }) {\n        return new Promise((resolve, reject) => {\n          const userLabels = getters.userLabels;\n          if (userLabels) return resolve(userLabels);\n          Vue.prototype.$meta.api.post('/a/base/user/getLabels').then(data => {\n            data = data || {};\n            commit('setLabels', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getModules({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.modules) return resolve(state.modules);\n          Vue.prototype.$meta.api.post('/a/base/base/modules').then(data => {\n            data = data || {};\n            commit('setModules', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getAtomClasses({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.atomClasses) return resolve(state.atomClasses);\n          Vue.prototype.$meta.api.post('/a/base/base/atomClasses').then(data => {\n            data = data || {};\n            commit('setAtomClasses', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getActions({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.actions) return resolve(state.actions);\n          Vue.prototype.$meta.api.post('/a/base/base/actions').then(data => {\n            data = data || {};\n            commit('setActions', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getMenus({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.menus) return resolve(state.menus);\n          Vue.prototype.$meta.api.post('/a/base/base/menus').then(data => {\n            data = data || {};\n            commit('setMenus', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getPanels({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.panels) return resolve(state.panels);\n          Vue.prototype.$meta.api.post('/a/base/base/panels').then(data => {\n            data = data || {};\n            commit('setPanels', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getWidgets({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.widgets) return resolve(state.widgets);\n          Vue.prototype.$meta.api.post('/a/base/base/widgets').then(data => {\n            data = data || {};\n            commit('setWidgets', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getSections({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.sections) return resolve(state.sections);\n          Vue.prototype.$meta.api.post('/a/base/base/sections').then(data => {\n            data = data || {};\n            commit('setSections', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getButtons({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.buttons) return resolve(state.buttons);\n          Vue.prototype.$meta.api.post('/a/base/base/buttons').then(data => {\n            data = data || {};\n            commit('setButtons', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getFunctionScenes({ state, commit }, { sceneMenu }) {\n        return new Promise((resolve, reject) => {\n          if (state.functionScenes[sceneMenu]) return resolve(state.functionScenes[sceneMenu]);\n          Vue.prototype.$meta.api.post('/a/base/function/scenes', { sceneMenu }).then(data => {\n            data = data || {};\n            commit('setFunctionScenes', { sceneMenu, scenes: data });\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getFunctions({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.functions) return resolve(state.functions);\n          Vue.prototype.$meta.api.post('/a/base/base/functions').then(data => {\n            data = data || {};\n            commit('setFunctions', data);\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getLayoutConfig({ state, commit }, module) {\n        return new Promise((resolve, reject) => {\n          if (state.layoutConfig[module]) return resolve(state.layoutConfig[module]);\n          Vue.prototype.$meta.api.post('/a/base/layoutConfig/load', { module }).then(data => {\n            data = data || {};\n            commit('setLayoutConfig', { module, data });\n            resolve(data);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getUserPanels({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.userPanels) return resolve(state.userPanels);\n          const options = {\n            where: { menu: 2 },\n            orders: [\n              [ 'titleLocale', 'asc' ],\n            ],\n            page: { size: 0 },\n          };\n          Vue.prototype.$meta.api.post('/a/base/function/list', { options }).then(data => {\n            commit('setUserPanels', data.list);\n            resolve(data.list);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getUserWidgets({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.userWidgets) return resolve(state.userWidgets);\n          const options = {\n            where: { menu: 3 },\n            orders: [\n              [ 'titleLocale', 'asc' ],\n            ],\n            page: { size: 0 },\n          };\n          Vue.prototype.$meta.api.post('/a/base/function/list', { options }).then(data => {\n            commit('setUserWidgets', data.list);\n            resolve(data.list);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getUserSections({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.userSections) return resolve(state.userSections);\n          const options = {\n            where: { menu: 4 },\n            orders: [\n              [ 'titleLocale', 'asc' ],\n            ],\n            page: { size: 0 },\n          };\n          Vue.prototype.$meta.api.post('/a/base/function/list', { options }).then(data => {\n            commit('setUserSections', data.list);\n            resolve(data.list);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n      getUserButtons({ state, commit }) {\n        return new Promise((resolve, reject) => {\n          if (state.userButtons) return resolve(state.userButtons);\n          const options = {\n            where: { menu: 5 },\n            orders: [\n              [ 'titleLocale', 'asc' ],\n            ],\n            page: { size: 0 },\n          };\n          Vue.prototype.$meta.api.post('/a/base/function/list', { options }).then(data => {\n            commit('setUserButtons', data.list);\n            resolve(data.list);\n          }).catch(err => {\n            reject(err);\n          });\n        });\n      },\n    },\n  };\n\n}\n","import avatarUser from '../assets/img/user.png';\nexport default {\n  menu: {\n    scene: {\n      0: 'Default',\n      1: 'Create',\n      2: 'List',\n      20: 'Statistics',\n      50: 'Tools',\n    },\n  },\n  user: {\n    avatar: {\n      default: avatarUser,\n    },\n  },\n  atom: {\n    render: {\n      list: {\n        info: {\n          orders: [\n            { name: 'createdAt', title: 'Created Time', by: 'desc', tableAlias: 'a' },\n            { name: 'updatedAt', title: 'Modification Time', by: 'desc', tableAlias: 'a' },\n            { name: 'atomName', title: 'Atom Name', by: 'asc', tableAlias: 'a' },\n          ],\n          filter: {\n            component: {\n              module: 'a-baselayout',\n              name: 'listLayoutFilter',\n            },\n          },\n        },\n        layouts: {\n          list: {\n            component: {\n              module: 'a-baselayout',\n              name: 'listLayoutList',\n            },\n            blocks: {\n              title: {\n                component: {\n                  module: 'a-baselayout',\n                  name: 'listLayoutBlockListTitle',\n                },\n              },\n              subnavbarActions: {\n                component: {\n                  module: 'a-baselayout',\n                  name: 'listLayoutBlockListSubnavbarActions',\n                },\n              },\n              items: {\n                component: {\n                  module: 'a-baselayout',\n                  name: 'listLayoutBlockListItems',\n                },\n              },\n            },\n          },\n        },\n      },\n    },\n  },\n};\n","export default {\n  'en-us': require('./locale/en-us.js').default,\n  'zh-cn': require('./locale/zh-cn.js').default,\n};\n","export default {\n  Heart2: 'Heart',\n  AtomClassSelectRoleTip: 'Select Role',\n};\n","export default {\n  Menu: '',\n  Scenes: '',\n  Modules: '',\n  Stars: '',\n  Star: '',\n  Unstar: '',\n  Starred: '',\n  Back: '',\n  Done: '',\n  Cancel: '',\n  Close: '',\n  Create: '',\n  Others: '',\n  List: '',\n  Tools: '',\n  Draft: '',\n  Drafts: '',\n  Archive: '',\n  Archives: '',\n  History: '',\n  Histories: '',\n  Labels: '',\n  Submit: '',\n  Edit: '',\n  View: '',\n  Save: '',\n  Delete: '',\n  Red: '',\n  Orange: '',\n  Yellow: '',\n  Blue: '',\n  Green: '',\n  Purple: '',\n  Label: '',\n  Comment: '',\n  Username: '',\n  Realname: '',\n  Email: '',\n  Mobile: '',\n  Motto: '',\n  Locale: '',\n  Search: '',\n  Link: '',\n  Select: '',\n  Remove: '',\n  Heart2: '',\n  Hearted: '',\n  AtomClassSelectRoleTip: '',\n  Filter: '',\n  'Advanced Filter': '',\n  'Atom Flag': '',\n  'Atom Name': '',\n  'Modification Time': '',\n  'Comment List': '',\n  'Created Time': '',\n  'Search Menu': '',\n  'Search Atom': '',\n  'Search Result': '',\n  'Select Atom Class': '',\n  'Select Menu': '',\n  'Select Function': '',\n  'Select Panel': '',\n  'Select Widget': '',\n  'Atom Class': '',\n  'Allow Comment': '',\n  'Attachment List': '',\n  'Flag Not Found': 'Flag',\n  'Friendly Tips': '',\n  'Please Sign In': '',\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"large\":\"\",\"largeTransparent\":\"\",\"title\":_vm.$text('Star'),\"eb-back-link\":\"Back\"}}),_vm._v(\" \"),_c('f7-block')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autoStar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autoStar.vue?vue&type=script&lang=js&\"","<template>\n  <eb-page>\n    <eb-navbar large largeTransparent :title=\"$text('Star')\" eb-back-link=\"Back\"></eb-navbar>\n    <f7-block>\n    </f7-block>\n  </eb-page>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      atomId: this.$f7route.query.atomId,\n    };\n  },\n  created() {\n    this.$api.post('/a/base/atom/star', {\n      key: { atomId: this.atomId },\n      atom: { star: 1 },\n    }).then(() => {\n      this.$view.dialog.alert(this.$text('Starred')).then(() => {\n        this.openAtom();\n      });\n    });\n  },\n  methods: {\n    openAtom() {\n      location.assign(this.$f7route.query.returnTo);\n    },\n  },\n};\n\n</script>\n</style>\n","import { render, staticRenderFns } from \"./autoStar.vue?vue&type=template&id=7f53273e&\"\nimport script from \"./autoStar.vue?vue&type=script&lang=js&\"\nexport * from \"./autoStar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('item',{attrs:{\"query\":_vm.query,\"mode\":\"edit\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","<template>\n  <item :query=\"query\" mode=\"edit\"></item>\n</template>\n<script>\nimport item from '../../components/atom/item.vue';\nexport default {\n  meta: {\n    size: 'medium',\n  },\n  components: {\n    item,\n  },\n  data() {\n    return {\n      query: this.$f7route.query,\n    };\n  },\n};\n\n</script>\n<style scoped>\n</style>\n","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=e2e87734&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e2e87734\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"large\":\"\",\"largeTransparent\":\"\",\"title\":_vm.$text('Labels'),\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[_c('eb-link',{attrs:{\"iconMaterial\":\"add\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onAddLabel($event)}}})],1)],1),_vm._v(\" \"),(_vm.labelsAll)?_c('f7-list',[_c('f7-list-item',{attrs:{\"group-title\":\"\",\"title\":_vm.item?_vm.item.atomName:''}}),_vm._v(\" \"),_vm._l((Object.keys(_vm.labelsAll)),function(key){return _c('eb-list-item',{key:key,attrs:{\"title\":_vm.labelsAll[key].text,\"checkbox\":\"\",\"checked\":_vm.labelChecked(key),\"swipeout\":\"\"},on:{\"change\":function($event){return _vm.onLabelCheckChange($event,key)}}},[_c('div',{staticClass:\"media\",style:({backgroundColor:_vm.labelsAll[key].color}),attrs:{\"slot\":\"media\"},slot:\"media\"}),_vm._v(\" \"),_c('eb-context-menu',[_c('div',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{attrs:{\"close\":\"\",\"color\":\"orange\",\"context\":key,\"onPerform\":_vm.onEditLabel}},[_vm._v(_vm._s(_vm.$text('Edit')))])])])],1)})],2):_vm._e(),_vm._v(\" \"),_c('f7-sheet',{ref:\"ebSheet\",attrs:{\"fill\":\"\",\"opened\":_vm.sheetOpened},on:{\"sheet:closed\":function($event){_vm.sheetOpened = false}}},[_c('f7-toolbar',[_c('div',{staticClass:\"left\"},[_c('f7-link',{attrs:{\"sheet-close\":\"\"}},[_vm._v(_vm._s(_vm.$text('Close')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('eb-link',{ref:\"buttonSubmit\",attrs:{\"onPerform\":_vm.onSubmit}},[_vm._v(_vm._s(_vm.$text('Submit')))])],1)]),_vm._v(\" \"),_c('f7-page-content',[_c('div',{staticClass:\"label\"},[_c('f7-badge',{style:({backgroundColor:_vm.labelColor})},[_vm._v(_vm._s(_vm.labelText))])],1),_vm._v(\" \"),_c('eb-list',{attrs:{\"form\":\"\",\"inline-labels\":\"\",\"no-hairlines-md\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onFormSubmit($event)}}},[_c('eb-list-input',{attrs:{\"label\":_vm.$text('Text'),\"type\":\"text\",\"clear-button\":\"\",\"placeholder\":_vm.$text('Text')},model:{value:(_vm.labelText),callback:function ($$v) {_vm.labelText=$$v},expression:\"labelText\"}}),_vm._v(\" \"),_c('f7-list-item',[_c('div',{staticClass:\"row colors\"},_vm._l((_vm.colors),function(color){return _c('f7-button',{key:color.value,staticClass:\"col-33\",style:({backgroundColor:color.value}),attrs:{\"small\":\"\",\"fill\":\"\"},on:{\"click\":function($event){return _vm.onColorSelect(color)}}},[_vm._v(_vm._s(_vm.$text(color.name)))])}),1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=script&lang=js&\"","<template>\n  <eb-page>\n    <eb-navbar large largeTransparent :title=\"$text('Labels')\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link iconMaterial=\"add\" @click.prevent=\"onAddLabel\"></eb-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <f7-list v-if=\"labelsAll\">\n      <f7-list-item group-title :title=\"item?item.atomName:''\"></f7-list-item>\n      <eb-list-item v-for=\"key of Object.keys(labelsAll)\" :key=\"key\" :title=\"labelsAll[key].text\" checkbox :checked=\"labelChecked(key)\" @change=\"onLabelCheckChange($event,key)\" swipeout>\n        <div slot=\"media\" class=\"media\" :style=\"{backgroundColor:labelsAll[key].color}\"></div>\n        <eb-context-menu>\n          <div slot=\"right\">\n            <div close color=\"orange\" :context=\"key\" :onPerform=\"onEditLabel\">{{$text('Edit')}}</div>\n          </div>\n        </eb-context-menu>\n      </eb-list-item>\n    </f7-list>\n    <f7-sheet ref=\"ebSheet\" fill :opened=\"sheetOpened\" @sheet:closed=\"sheetOpened = false\">\n      <f7-toolbar>\n        <div class=\"left\">\n          <f7-link sheet-close>{{$text('Close')}}</f7-link>\n        </div>\n        <div class=\"right\">\n          <eb-link ref=\"buttonSubmit\" :onPerform=\"onSubmit\">{{$text('Submit')}}</eb-link>\n        </div>\n      </f7-toolbar>\n      <f7-page-content>\n        <div class=\"label\">\n          <f7-badge :style=\"{backgroundColor:labelColor}\">{{labelText}}</f7-badge>\n        </div>\n        <eb-list form inline-labels no-hairlines-md @submit.prevent=\"onFormSubmit\">\n          <eb-list-input :label=\"$text('Text')\" type=\"text\" clear-button :placeholder=\"$text('Text')\" v-model=\"labelText\">\n          </eb-list-input>\n          <f7-list-item>\n            <div class=\"row colors\">\n              <f7-button v-for=\"color of colors\" :key=\"color.value\" class=\"col-33\" :style=\"{backgroundColor:color.value}\" small fill @click=\"onColorSelect(color)\">{{$text(color.name)}}</f7-button>\n            </div>\n          </f7-list-item>\n        </eb-list>\n      </f7-page-content>\n    </f7-sheet>\n  </eb-page>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      atomId: parseInt(this.$f7route.query.atomId),\n      item: null,\n      labels: [],\n      sheetOpened: false,\n      labelId: 0,\n      labelText: '',\n      labelColor: '',\n      colors: [\n        { name: 'Red', value: '#FC6360' },\n        { name: 'Orange', value: '#FDA951' },\n        { name: 'Yellow', value: '#FED558' },\n        { name: 'Blue', value: '#54BEF7' },\n        { name: 'Green', value: '#86DF6A' },\n        { name: 'Purple', value: '#D592E5' },\n      ],\n    };\n  },\n  computed: {\n    labelsAll() {\n      return this.$local.getters('userLabels');\n    },\n  },\n  methods: {\n    onAddLabel() {\n      this.labelId = 0;\n      this.labelText = '';\n      this.labelColor = '';\n      this.sheetOpened = true;\n    },\n    onEditLabel(event, key) {\n      this.labelId = key;\n      this.labelText = this.labelsAll[key].text;\n      this.labelColor = this.labelsAll[key].color;\n      this.sheetOpened = true;\n    },\n    onFormSubmit() {\n      this.$refs.buttonSubmit.onClick();\n    },\n    onSubmit() {\n      if (!this.labelText || !this.labelColor) return;\n      const labels = this.$meta.util.extend({}, this.labelsAll);\n      if (this.labelId === 0) {\n        labels[this.newLabelId()] = { text: this.labelText, color: this.labelColor };\n      } else {\n        labels[this.labelId] = { text: this.labelText, color: this.labelColor };\n      }\n      return this.$api.post('user/setLabels', {\n        labels,\n      }).then(() => {\n        this.$local.commit('setLabels', labels);\n        this.sheetOpened = false;\n      });\n    },\n    onColorSelect(color) {\n      this.labelColor = color.value;\n    },\n    newLabelId() {\n      const keys = Object.keys(this.labelsAll);\n      if (keys.length === 0) return 1;\n      keys.sort((a, b) => b - a);\n      return parseInt(keys[0]) + 1;\n    },\n    labelChecked(key) {\n      return this.labels && this.labels.indexOf(key) > -1;\n    },\n    onLabelCheckChange(event, key) {\n      // labels\n      const index = this.labels.indexOf(key);\n      if (event.target.checked && index === -1) {\n        this.labels.push(key);\n      } else if (!event.target.checked && index > -1) {\n        this.labels.splice(index, 1);\n      }\n      // sort\n      this.labels.sort((a, b) => a - b);\n      // post\n      this.$api.post('atom/labels', {\n        key: { atomId: this.atomId },\n        atom: { labels: this.labels },\n      }).then(() => {\n        this.$meta.eventHub.$emit('atom:labels', { key: { atomId: this.atomId }, labels: this.labels });\n      });\n    },\n  },\n  created() {\n    this.$local.dispatch('getLabels');\n    this.$api.post('atom/read', {\n      key: { atomId: this.atomId },\n    }).then(data => {\n      this.item = data;\n      this.labels = JSON.parse(this.item.labels) || [];\n    });\n  },\n};\n\n</script>\n<style scoped>\n.label {\n  position: absolute;\n  width: 100%;\n  top: 10px;\n  text-align: center;\n}\n\n.media {\n  width: 16px;\n  height: 16px;\n  border-radius: 8px;\n}\n\n.colors {\n  height: 60px;\n  width: 100%;\n}\n\n</style>\n","import { render, staticRenderFns } from \"./labels.vue?vue&type=template&id=031299f9&scoped=true&\"\nimport script from \"./labels.vue?vue&type=script&lang=js&\"\nexport * from \"./labels.vue?vue&type=script&lang=js&\"\nimport style0 from \"./labels.vue?vue&type=style&index=0&id=031299f9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"031299f9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',{attrs:{\"ptr\":\"\",\"infinite\":\"\",\"infinitePreloader\":false},on:{\"ptr:refresh\":_vm.onRefresh,\"infinite\":_vm.onInfinite}},[_c('eb-navbar',{attrs:{\"large\":\"\",\"largeTransparent\":\"\",\"title\":_vm.pageTitle,\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[_c('eb-link',{attrs:{\"iconMaterial\":\"add\",\"onPerform\":_vm.onPerformAdd}}),_vm._v(\" \"),_c('eb-link',{attrs:{\"iconMaterial\":\"done\",\"onPerform\":_vm.onPerformDone}})],1)],1),_vm._v(\" \"),_c('atoms',{ref:\"list\",attrs:{\"mode\":\"select\",\"params\":_vm.params,\"atomClass\":_vm.atomClass}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./select.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./select.vue?vue&type=script&lang=js&\"","<template>\n  <eb-page ptr @ptr:refresh=\"onRefresh\" infinite :infinitePreloader=\"false\" @infinite=\"onInfinite\">\n    <eb-navbar large largeTransparent :title=\"pageTitle\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link iconMaterial=\"add\" :onPerform=\"onPerformAdd\"></eb-link>\n        <eb-link iconMaterial=\"done\" :onPerform=\"onPerformDone\"></eb-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <atoms ref=\"list\" mode=\"select\" :params=\"params\" :atomClass=\"atomClass\"></atoms>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nconst ebPageContext = Vue.prototype.$meta.module.get('a-components').options.mixins.ebPageContext;\nimport ebAtomClasses from '../../common/atomClasses.js';\nimport atoms from '../../components/atom/listLayoutManager.jsx';\nexport default {\n  mixins: [ ebPageContext, ebAtomClasses ],\n  components: {\n    atoms,\n  },\n  data() {\n    return {\n      params: null,\n      selectMode: null,\n      atomClass: null,\n      where: null,\n    };\n  },\n  computed: {\n    pageTitle() {\n      let atomClassTitle;\n      const atomClass = this.getAtomClass(this.atomClass);\n      if (!atomClass) {\n        atomClassTitle = this.$text('Atom');\n      } else {\n        atomClassTitle = atomClass.titleLocale;\n      }\n      return `${this.$text('Select')} ${atomClassTitle}`;\n    },\n  },\n  mounted() {\n    // pageContext\n    const contextParams = this.contextParams;\n    // selectMode\n    this.selectMode = contextParams.selectMode;\n    // atomClass\n    this.atomClass = contextParams.atomClass;\n    // where\n    this.where = contextParams.where;\n    // params\n    let selectedAtomIds;\n    if (contextParams.selectMode === 'single') {\n      selectedAtomIds = contextParams.selectedAtomId ? [ contextParams.selectedAtomId ] : null;\n    } else {\n      selectedAtomIds = contextParams.selectedAtomIds ? contextParams.selectedAtomIds.concat() : null;\n    }\n    this.params = {\n      selectMode: this.selectMode,\n      selectedAtomIds,\n    };\n    // reload\n    this.$nextTick(() => {\n      this.$refs.list.reload(true);\n    });\n  },\n  methods: {\n    onRefresh(done) {\n      done();\n      this.$refs.list.reload();\n    },\n    onInfinite() {\n      this.$refs.list.loadMore();\n    },\n    onPerformAdd() {\n      const queries = {};\n      const atomClass = this.atomClass;\n      if (atomClass) {\n        queries.module = atomClass.module;\n        queries.atomClassName = atomClass.atomClassName;\n      }\n      if (this.where) {\n        queries.where = JSON.stringify(this.where);\n      }\n      queries.mode = 'selectSearch';\n      queries.selectMode = this.selectMode;\n      const url = this.$meta.util.combineQueries('/a/base/atom/search', queries);\n      this.$view.navigate(url, {\n        target: '_view',\n        context: {\n          params: {},\n          callback: (code, data) => {\n            if (code === 200) {\n              this._updateSelectedAtoms(data);\n            }\n          },\n        },\n      });\n    },\n    _updateSelectedAtoms(selectedAtoms) {\n      this.$refs.list.updateSelectedAtoms(selectedAtoms);\n    },\n    onPerformDone() {\n      // selectedAtoms\n      const selectedAtoms = this.$refs.list.getSelectedAtoms();\n      let res;\n      if (this.selectMode === 'single') {\n        res = (selectedAtoms && selectedAtoms.length > 0) ? selectedAtoms[0] : null;\n      } else {\n        res = (selectedAtoms && selectedAtoms.length > 0) ? selectedAtoms : null;\n      }\n      // ok\n      this.contextCallback(200, res);\n      this.$f7router.back();\n    },\n  },\n};\n\n</script>\n","import { render, staticRenderFns } from \"./select.vue?vue&type=template&id=64efa129&\"\nimport script from \"./select.vue?vue&type=script&lang=js&\"\nexport * from \"./select.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"large\":\"\",\"largeTransparent\":\"\",\"title\":_vm.$text('Select Atom Class'),\"eb-back-link\":\"Back\"}}),_vm._v(\" \"),_c('f7-list',_vm._l((_vm.atomClasses),function(item,index){return _c('f7-list-item',{key:index,attrs:{\"radio\":\"\",\"checked\":_vm.module===item.module && _vm.atomClassName===item.atomClassName,\"title\":item.title},on:{\"click\":function($event){return _vm.onItemClick(item)}}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectAtomClass.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectAtomClass.vue?vue&type=script&lang=js&\"","<template>\n  <eb-page>\n    <eb-navbar large largeTransparent :title=\"$text('Select Atom Class')\" eb-back-link=\"Back\"></eb-navbar>\n    <f7-list>\n      <f7-list-item v-for=\"(item,index) of atomClasses\" :key=\"index\" radio :checked=\"module===item.module && atomClassName===item.atomClassName\" :title=\"item.title\" @click=\"onItemClick(item)\">\n      </f7-list-item>\n    </f7-list>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nconst ebPageContext = Vue.prototype.$meta.module.get('a-components').options.mixins.ebPageContext;\nimport ebAtomClasses from '../../common/atomClasses.js';\nexport default {\n  mixins: [ebPageContext, ebAtomClasses],\n  data() {\n    return {};\n  },\n  computed: {\n    module() {\n      return this.contextParams.atomClass ? this.contextParams.atomClass.module : null;\n    },\n    atomClassName() {\n      return this.contextParams.atomClass ? this.contextParams.atomClass.atomClassName : null;\n    },\n    optional() {\n      return this.contextParams.optional;\n    },\n    atomClasses() {\n      const atomClassesAll = this.atomClassesAll;\n      if (!atomClassesAll) return [];\n\n      const atomClasses = [];\n      if (this.optional) {\n        atomClasses.push({ title: null, module: null, atomClassName: null });\n      }\n      for (const module in atomClassesAll) {\n        for (const atomClassName in atomClassesAll[module]) {\n          atomClasses.push({\n            title: atomClassesAll[module][atomClassName].titleLocale,\n            module,\n            atomClassName,\n          });\n        }\n      }\n      return atomClasses;\n    },\n  },\n  methods: {\n    onItemClick(item) {\n      const data = item.module ? {\n        module: item.module,\n        atomClassName: item.atomClassName,\n        title: item.title,\n      } : null;\n      this.contextCallback(200, data);\n      this.$f7router.back();\n    },\n  },\n};\n\n</script>\n","import { render, staticRenderFns } from \"./selectAtomClass.vue?vue&type=template&id=3cfaeb40&\"\nimport script from \"./selectAtomClass.vue?vue&type=script&lang=js&\"\nexport * from \"./selectAtomClass.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('item',{attrs:{\"query\":_vm.query,\"mode\":\"view\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view.vue?vue&type=script&lang=js&\"","<template>\n  <item :query=\"query\" mode=\"view\"></item>\n</template>\n<script>\nimport item from '../../components/atom/item.vue';\nexport default {\n  meta: {\n    size: 'medium',\n  },\n  components: {\n    item,\n  },\n  data() {\n    return {\n      query: this.$f7route.query,\n    };\n  },\n};\n\n</script>\n<style scoped>\n</style>\n","import { render, staticRenderFns } from \"./view.vue?vue&type=template&id=38e01b06&scoped=true&\"\nimport script from \"./view.vue?vue&type=script&lang=js&\"\nexport * from \"./view.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38e01b06\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',{attrs:{\"ptr\":\"\",\"infinite\":\"\",\"infinitePreloader\":false},on:{\"ptr:refresh\":_vm.onRefresh,\"infinite\":_vm.onInfinite}},[_c('eb-navbar',{attrs:{\"large\":\"\",\"largeTransparent\":\"\",\"title\":_vm.$text('Attachment List'),\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[(_vm.findAction('write'))?_c('eb-link',{attrs:{\"iconMaterial\":\"add\",\"onPerform\":_vm.onPerformAdd}}):_vm._e()],1)],1),_vm._v(\" \"),_c('f7-list',_vm._l((_vm.items),function(item){return _c('eb-list-item',{key:item.id,staticClass:\"item\",attrs:{\"title\":item.realName,\"link\":\"#\",\"context\":item,\"onPerform\":_vm.onItemClick,\"swipeout\":item.userId===_vm.user.id}},[_c('div',{attrs:{\"slot\":\"media\"},slot:\"media\"},[_c('img',{staticClass:\"avatar avatar32\",attrs:{\"src\":_vm.getItemMedia(item)}})]),_vm._v(\" \"),_c('div',{staticClass:\"header\",attrs:{\"slot\":\"root-start\"},slot:\"root-start\"},[_c('div',{staticClass:\"userName\"},[_c('span',[_vm._v(_vm._s(item.userName))])]),_vm._v(\" \"),_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.$meta.util.formatDateTimeRelative(item.createdAt)))])]),_vm._v(\" \"),(item.userId===_vm.user.id)?_c('eb-context-menu',[_c('div',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{attrs:{\"color\":\"orange\",\"context\":item,\"onPerform\":_vm.onPerformDelete}},[_vm._v(_vm._s(_vm.$text('Delete')))])])]):_vm._e()],1)}),1),_vm._v(\" \"),_c('eb-load-more',{ref:\"loadMore\",attrs:{\"onLoadClear\":_vm.onLoadClear,\"onLoadMore\":_vm.onLoadMore,\"autoInit\":true}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","<template>\n  <eb-page ptr @ptr:refresh=\"onRefresh\" infinite :infinitePreloader=\"false\" @infinite=\"onInfinite\">\n    <eb-navbar large largeTransparent :title=\"$text('Attachment List')\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link v-if=\"findAction('write')\" iconMaterial=\"add\" :onPerform=\"onPerformAdd\"></eb-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <f7-list>\n      <eb-list-item class=\"item\" v-for=\"item of items\" :key=\"item.id\" :title=\"item.realName\" link=\"#\" :context=\"item\" :onPerform=\"onItemClick\" :swipeout=\"item.userId===user.id\">\n        <div slot=\"media\">\n          <img class=\"avatar avatar32\" :src=\"getItemMedia(item)\">\n        </div>\n        <div slot=\"root-start\" class=\"header\">\n          <div class=\"userName\">\n            <span>{{item.userName}}</span>\n          </div>\n          <div class=\"date\">{{$meta.util.formatDateTimeRelative(item.createdAt)}}</div>\n        </div>\n        <eb-context-menu v-if=\"item.userId===user.id\">\n          <div slot=\"right\">\n            <div color=\"orange\" :context=\"item\" :onPerform=\"onPerformDelete\">{{$text('Delete')}}</div>\n          </div>\n        </eb-context-menu>\n      </eb-list-item>\n    </f7-list>\n    <eb-load-more ref=\"loadMore\" :onLoadClear=\"onLoadClear\" :onLoadMore=\"onLoadMore\" :autoInit=\"true\"></eb-load-more>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nexport default {\n  data() {\n    return {\n      atomId: parseInt(this.$f7route.query.atomId),\n      actions: null,\n      items: [],\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.auth.user.op;\n    },\n  },\n  created() {\n    this.fetchActions();\n  },\n  methods: {\n    onRefresh(done) {\n      done();\n      this.reload();\n    },\n    onInfinite() {\n      this.$refs.loadMore.loadMore();\n    },\n    onLoadClear(done) {\n      this.items = [];\n      done();\n    },\n    onLoadMore({ index }) {\n      // options\n      const options = {\n        where: {\n          mode: 2,\n          attachment: 1,\n        },\n        orders: [\n          ['createdAt', 'asc'],\n        ],\n        page: { index },\n      };\n      // fetch\n      return this.$api.post('/a/file/file/list', {\n        key: { atomId: this.atomId },\n        options,\n      }).then(data => {\n        this.items = this.items.concat(data.list);\n        return data;\n      });\n    },\n    reload() {\n      this.$refs.loadMore.reload();\n    },\n    fetchActions() {\n      this.$api.post('atom/actions', {\n        key: { atomId: this.atomId },\n      }).then(data => {\n        this.actions = data;\n      });\n    },\n    findAction(actionName) {\n      if (!this.actions) return null;\n      return this.actions.find(item => item.name === actionName);\n    },\n    onPerformAdd() {\n      return new Promise((resolve, reject) => {\n        this.$view.navigate('/a/file/file/upload', {\n          context: {\n            params: {\n              mode: 2,\n              atomId: this.atomId,\n              attachment: 1,\n            },\n            callback: (code, data) => {\n              if (code === 200) {\n                this.$meta.eventHub.$emit('attachment:action', { action: 'create', atomId: this.atomId });\n                this.reload();\n                resolve();\n              }\n              if (code === false) {\n                reject();\n              }\n            },\n          },\n        });\n      });\n    },\n    onPerformDelete(event, item) {\n      // delete\n      return this.$view.dialog.confirm().then(() => {\n        return this.$api.post('/a/file/file/delete', {\n          key: { atomId: this.atomId },\n          data: { fileId: item.id },\n        }).then(() => {\n          this.$meta.util.swipeoutClose(event.target);\n          this.$meta.eventHub.$emit('attachment:action', { action: 'delete', atomId: this.atomId, fileId: item.id });\n          this.deleteItem(item.id);\n        });\n      });\n    },\n    deleteItem(fileId) {\n      const index = this.items.findIndex(item => item.id === fileId);\n      if (index !== -1) {\n        this.items.splice(index, 1);\n      }\n    },\n    onItemClick(event, item) {\n      if (this.$meta.config.base.jwt) {\n        this.$api.post('/a/base/jwt/create').then(res => {\n          this._openUrl(item, res.jwt);\n        });\n      } else {\n        this._openUrl(item, null);\n      }\n    },\n    _openUrl(item, jwt) {\n      if (jwt) {\n        window.open(this.$meta.util.combineQueries(item.downloadUrl, { 'eb-jwt': jwt }));\n      } else {\n        window.open(item.downloadUrl);\n      }\n    },\n    getItemMedia(item) {\n      const media = item.avatar || this.$meta.config.modules['a-base'].user.avatar.default;\n      return this.$meta.util.combineImageUrl(media, 32);\n    },\n  },\n};\n\n</script>\n","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=288ceff8&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"large\":\"\",\"largeTransparent\":\"\",\"title\":_vm.pageTitle,\"eb-back-link\":\"Back\"}}),_vm._v(\" \"),_c('f7-card',[_c('f7-card-header',[_vm._v(_vm._s(_vm.data.title || _vm.$text('Friendly Tips')))]),_vm._v(\" \"),_c('f7-card-content',[_vm._v(\"\\n      \"+_vm._s(_vm.data.message)+\"\\n    \")]),_vm._v(\" \"),(_vm.data.link)?_c('f7-card-footer',[_c('div'),_vm._v(\" \"),_c('eb-link',{attrs:{\"eb-href\":_vm.data.link}},[_vm._v(_vm._s(_vm.data.linkText || _vm.$text('Link')))])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alert.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alert.vue?vue&type=script&lang=js&\"","<template>\n  <eb-page>\n    <eb-navbar large largeTransparent :title=\"pageTitle\" eb-back-link=\"Back\"></eb-navbar>\n    <f7-card>\n      <f7-card-header>{{data.title || $text('Friendly Tips')}}</f7-card-header>\n      <f7-card-content>\n        {{data.message}}\n      </f7-card-content>\n      <f7-card-footer v-if=\"data.link\">\n        <div></div>\n        <eb-link :eb-href=\"data.link\">{{data.linkText || $text('Link')}}</eb-link>\n      </f7-card-footer>\n    </f7-card>\n  </eb-page>\n</template>\n<script>\nexport default {\n  components: {},\n  data() {\n    const data = JSON.parse(this.$f7route.query.data);\n    return {\n      data,\n    };\n  },\n  computed: {\n    pageTitle() {\n      return this.$store.state.auth.instance.title;\n    },\n  },\n  methods: {},\n};\n\n</script>\n<style lang=\"less\" scoped>\n</style>\n","import { render, staticRenderFns } from \"./alert.vue?vue&type=template&id=44172a93&scoped=true&\"\nimport script from \"./alert.vue?vue&type=script&lang=js&\"\nexport * from \"./alert.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44172a93\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',{attrs:{\"ptr\":\"\",\"infinite\":\"\",\"infinitePreloader\":false},on:{\"ptr:refresh\":_vm.onRefresh,\"infinite\":_vm.onInfinite}},[_c('eb-navbar',{attrs:{\"large\":\"\",\"largeTransparent\":\"\",\"title\":_vm.$text('Comment List'),\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[_c('eb-link',{attrs:{\"iconMaterial\":_vm.order==='desc'?'arrow_downward':'arrow_upward',\"onPerform\":_vm.onPerformSort}})],1)],1),_vm._v(\" \"),(_vm.moduleStyle)?_vm._l((_vm.items),function(item){return _c('f7-card',{key:item.h_id,staticClass:\"comment\"},[_c('f7-card-header',[_c('div',{staticClass:\"header-container\"},[_c('div',{staticClass:\"header-atom\"},[_c('eb-link',{attrs:{\"context\":item,\"onPerform\":_vm.onPerformViewAtom}},[_vm._v(_vm._s(item.atomName))])],1),_vm._v(\" \"),_c('div',{staticClass:\"header-comment\"},[_c('div',{staticClass:\"title\"},[_c('img',{staticClass:\"avatar avatar32\",attrs:{\"src\":_vm.getItemMedia(item)}}),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.h_userName))]),_vm._v(\" \"),_c('div',{staticClass:\"date\"},[_vm._v(\"#\"+_vm._s(item.h_sorting)+\"  \"+_vm._s(_vm.$meta.util.formatDateTimeRelative(item.h_createdAt)))])]),_vm._v(\" \"),_c('div',{staticClass:\"actions\"},[(item.h_userId===_vm.user.id)?_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":\"edit\",\"eb-href\":(\"comment/item?atomId=\" + (item.atomId) + \"&commentId=\" + (item.h_id) + \"&replyId=0\")}}):_vm._e(),_vm._v(\" \"),(item.h_userId===_vm.user.id || _vm.rightDeleteComment)?_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":\"delete_forever\",\"context\":item,\"onPerform\":_vm.onPerformDelete}}):_vm._e(),_vm._v(\" \"),_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":item.h_heart?'favorite':'favorite_border',\"context\":item,\"onPerform\":_vm.onPerformHeart}},[_vm._v(_vm._s(item.h_heartCount))]),_vm._v(\" \"),(!_vm.user.anonymous)?_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":\"reply\",\"eb-href\":(\"comment/item?atomId=\" + (item.atomId) + \"&commentId=0&replyId=\" + (item.h_id))}}):_vm._e()],1)])])]),_vm._v(\" \"),_c('f7-card-content',{staticClass:\"markdown-body\",attrs:{\"padding\":\"\"},domProps:{\"innerHTML\":_vm._s(item.h_html)}})],1)}):_vm._e(),_vm._v(\" \"),_c('eb-load-more',{ref:\"loadMore\",attrs:{\"onLoadClear\":_vm.onLoadClear,\"onLoadMore\":_vm.onLoadMore,\"autoInit\":true}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./all.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./all.vue?vue&type=script&lang=js&\"","<template>\n  <eb-page ptr @ptr:refresh=\"onRefresh\" infinite :infinitePreloader=\"false\" @infinite=\"onInfinite\">\n    <eb-navbar large largeTransparent :title=\"$text('Comment List')\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link :iconMaterial=\"order==='desc'?'arrow_downward':'arrow_upward'\" :onPerform=\"onPerformSort\"></eb-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <template v-if=\"moduleStyle\">\n      <f7-card class=\"comment\" v-for=\"item of items\" :key=\"item.h_id\">\n        <f7-card-header>\n          <div class=\"header-container\">\n            <div class=\"header-atom\">\n              <eb-link :context=\"item\" :onPerform=\"onPerformViewAtom\">{{item.atomName}}</eb-link>\n            </div>\n            <div class=\"header-comment\">\n              <div class=\"title\">\n                <img class=\"avatar avatar32\" :src=\"getItemMedia(item)\">\n                <div class=\"name\">{{item.h_userName}}</div>\n                <div class=\"date\">#{{item.h_sorting}}  {{$meta.util.formatDateTimeRelative(item.h_createdAt)}}</div>\n              </div>\n              <div class=\"actions\">\n                <eb-link v-if=\"item.h_userId===user.id\" class=\"action\" iconMaterial=\"edit\" :eb-href=\"`comment/item?atomId=${item.atomId}&commentId=${item.h_id}&replyId=0`\"></eb-link>\n                <eb-link v-if=\"item.h_userId===user.id || rightDeleteComment\" class=\"action\" iconMaterial=\"delete_forever\" :context=\"item\" :onPerform=\"onPerformDelete\"></eb-link>\n                <eb-link class=\"action\" :iconMaterial=\"item.h_heart?'favorite':'favorite_border'\" :context=\"item\" :onPerform=\"onPerformHeart\">{{item.h_heartCount}}</eb-link>\n                <eb-link v-if=\"!user.anonymous\" class=\"action\" iconMaterial=\"reply\" :eb-href=\"`comment/item?atomId=${item.atomId}&commentId=0&replyId=${item.h_id}`\"></eb-link>\n              </div>\n            </div>\n          </div>\n        </f7-card-header>\n        <f7-card-content padding class=\"markdown-body\" v-html=\"item.h_html\"></f7-card-content>\n      </f7-card>\n    </template>\n    <eb-load-more ref=\"loadMore\" :onLoadClear=\"onLoadClear\" :onLoadMore=\"onLoadMore\" :autoInit=\"true\"></eb-load-more>\n  </eb-page>\n</template>\n<script>\nimport ebAtomActions from '../../common/atomActions.js';\nexport default {\n  mixins: [ebAtomActions],\n  data() {\n    const query = this.$f7route.query;\n    const module = query && query.module;\n    const atomClassName = query && query.atomClassName;\n    const atomClass = (module && atomClassName) ? { module, atomClassName } : null;\n    let where = (query && query.where) ? JSON.parse(query.where) : null;\n    // scene\n    const scene = query && query.scene;\n    if (scene === 'mine') {\n      if (!where) where = {};\n      const user = this.$store.state.auth.user.op;\n      where['h.userId'] = user.id;\n    }\n    // ok\n    return {\n      atomClass,\n      where,\n      order: 'desc',\n      items: [],\n      moduleStyle: null,\n      rightDeleteComment: false,\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.auth.user.op;\n    },\n  },\n  created() {\n    // check function right\n    const functions = [{\n      module: 'a-base',\n      name: 'deleteComment',\n    }];\n    this.$api.post('function/check', {\n      functions,\n    }).then(data => {\n      this.rightDeleteComment = data[0].passed;\n      // markdown style\n      this.$meta.module.use(this.$meta.config.markdown.style.module, module => {\n        this.moduleStyle = module;\n      });\n    });\n  },\n  mounted() {\n    this.$meta.eventHub.$on('comment:action', this.onCommentChanged);\n  },\n  beforeDestroy() {\n    this.$meta.eventHub.$off('comment:action', this.onCommentChanged);\n  },\n  methods: {\n    onRefresh(done) {\n      done();\n      this.reload();\n    },\n    onInfinite() {\n      this.$refs.loadMore.loadMore();\n    },\n    onLoadClear(done) {\n      this.items = [];\n      done();\n    },\n    onLoadMore({ index }) {\n      // options\n      const options = {\n        orders: [\n          ['h_updatedAt', this.order],\n        ],\n        page: { index },\n      };\n      // where\n      if (this.where) {\n        options.where = this.where;\n      }\n      // fetch\n      return this.$api.post('comment/all', {\n        atomClass: this.atomClass,\n        options,\n      }).then(data => {\n        this.items = this.items.concat(data.list);\n        return data;\n      });\n    },\n    reload() {\n      this.$refs.loadMore.reload();\n    },\n    onPerformDelete(event, item) {\n      // delete\n      return this.$view.dialog.confirm().then(() => {\n        return this.$api.post('comment/delete', {\n          key: { atomId: item.atomId },\n          data: { commentId: item.h_id },\n        }).then(data => {\n          this.$meta.eventHub.$emit('comment:action', data);\n          return true;\n        });\n      });\n    },\n    onPerformHeart(event, item) {\n      // anonymous\n      if (this.user.anonymous) {\n        this.$view.dialog.confirm(this.$text('Please Sign In')).then(() => {\n          // login\n          this.$meta.vueLayout.openLogin();\n        });\n        return;\n      }\n      //\n      return this.$api.post('comment/heart', {\n        key: { atomId: item.atomId },\n        data: { commentId: item.h_id, heart: item.h_heart ? 0 : 1 },\n      }).then(data => {\n        this.$meta.eventHub.$emit('comment:action', data);\n      });\n    },\n    onCommentChanged(data) {\n      const action = data.action;\n      const atomId = data.atomId;\n      const commentId = data.commentId;\n      // create\n      if (action === 'create') {\n        this.reload();\n        return;\n      }\n      // delete\n      const index = this.items.findIndex(item => item.h_id === commentId);\n      if (action === 'delete') {\n        if (index !== -1) {\n          this.items.splice(index, 1);\n        }\n        return;\n      }\n      // others\n      if (index !== -1) {\n        this.$api.post('comment/item', {\n          key: { atomId },\n          data: { commentId },\n        }).then(data => {\n          const _item = this.items[index];\n          for (const key of Object.keys(data)) {\n            _item[`h_${key}`] = data[key];\n          }\n        });\n      }\n    },\n    onPerformSort() {\n      this.order = this.order === 'desc' ? 'asc' : 'desc';\n      this.reload();\n    },\n    onPerformViewAtom(event, item) {\n      const _action = this.getAction({\n        module: item.module,\n        atomClassName: item.atomClassName,\n        name: 'read',\n      });\n      if (!_action) return;\n      return this.$meta.util.performAction({ ctx: this, action: _action, item });\n    },\n    getItemMedia(item) {\n      const media = item.h_avatar || this.$meta.config.modules['a-base'].user.avatar.default;\n      return this.$meta.util.combineImageUrl(media, 32);\n    },\n  },\n};\n\n</script>\n","import { render, staticRenderFns } from \"./all.vue?vue&type=template&id=132d708c&\"\nimport script from \"./all.vue?vue&type=script&lang=js&\"\nexport * from \"./all.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"large\":\"\",\"largeTransparent\":\"\",\"title\":_vm.$text('Heart2'),\"eb-back-link\":\"Back\"}}),_vm._v(\" \"),_c('f7-block')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autoHeart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autoHeart.vue?vue&type=script&lang=js&\"","<template>\n  <eb-page>\n    <eb-navbar large largeTransparent :title=\"$text('Heart2')\" eb-back-link=\"Back\"></eb-navbar>\n    <f7-block>\n    </f7-block>\n  </eb-page>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      atomId: this.$f7route.query.atomId,\n      commentId: this.$f7route.query.commentId,\n    };\n  },\n  created() {\n    this.$api.post('/a/base/comment/heart', {\n      key: { atomId: this.atomId },\n      atom: { star: 1 },\n      data: { commentId: this.commentId, heart: 1 },\n    }).then(() => {\n      this.$view.dialog.alert(this.$text('Hearted')).then(() => {\n        this.openAtom();\n      });\n    });\n  },\n  methods: {\n    openAtom() {\n      location.assign(this.$f7route.query.returnTo);\n    },\n  },\n};\n\n</script>\n</style>\n","import { render, staticRenderFns } from \"./autoHeart.vue?vue&type=template&id=4e80f7bd&\"\nimport script from \"./autoHeart.vue?vue&type=script&lang=js&\"\nexport * from \"./autoHeart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"title\":_vm.$text('Comment'),\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[_c('eb-link',{attrs:{\"iconMaterial\":\"save\",\"onPerform\":_vm.onPerformSave}})],1)],1),_vm._v(\" \"),(_vm.ready)?[_c('eb-box',[_c('mavon-editor',{ref:\"editor\",attrs:{\"value\":_vm.content,\"onPreRender\":_vm.onPreRender,\"onImageUpload\":_vm.onImageUpload,\"language\":_vm.language,\"subfield\":_vm.subfield,\"editable\":_vm.editable,\"defaultOpen\":_vm.defaultOpen,\"toolbarsFlag\":_vm.toolbarsFlag,\"navigation\":_vm.navigation,\"toolbars\":_vm.toolbars},on:{\"change\":_vm.onChange,\"save\":_vm.onSave}})],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item.vue?vue&type=script&lang=js&\"","<template>\n  <eb-page>\n    <eb-navbar :title=\"$text('Comment')\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link iconMaterial=\"save\" :onPerform=\"onPerformSave\"></eb-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <template v-if=\"ready\">\n      <eb-box>\n        <mavon-editor ref=\"editor\" :value=\"content\" :onPreRender=\"onPreRender\" @change=\"onChange\" @save=\"onSave\" :onImageUpload=\"onImageUpload\" :language=\"language\" :subfield=\"subfield\" :editable=\"editable\" :defaultOpen=\"defaultOpen\" :toolbarsFlag=\"toolbarsFlag\" :navigation=\"navigation\" :toolbars=\"toolbars\" />\n      </eb-box>\n    </template>\n  </eb-page>\n</template>\n<script>\nexport default {\n  meta: {\n    size: 'medium',\n  },\n  data() {\n    return {\n      atomId: parseInt(this.$f7route.query.atomId),\n      commentId: parseInt(this.$f7route.query.commentId || 0),\n      replyId: parseInt(this.$f7route.query.replyId || 0),\n      module: null,\n      comment: null,\n      reply: null,\n      content: '',\n    };\n  },\n  computed: {\n    ready() {\n      return this.module && (this.commentId === 0 || this.comment) && (this.replyId === 0 || this.reply);\n    },\n    readOnly() {\n      return false;\n    },\n    editable() {\n      return !this.readOnly;\n    },\n    language() {\n      const locale = this.$meta.util.getLocale();\n      return locale === 'zh-cn' ? 'zh-CN' : 'en';\n    },\n    subfield() {\n      return this.editable && this.$view.size !== 'small';\n    },\n    defaultOpen() {\n      return this.editable ? '' : 'preview';\n    },\n    toolbarsFlag() {\n      return this.editable;\n    },\n    navigation() {\n      return !this.editable;\n    },\n    toolbars() {\n      return {\n        bold: true, // \n        italic: true, // \n        // header: true, // \n        underline: true, // \n        strikethrough: true, // \n        mark: true, // \n        superscript: true, // \n        subscript: true, // \n        // quote: true, // \n        ol: true, // \n        ul: true, // \n        link: true, // \n        imagelink: true, // \n        code: true, // code\n        table: true, // \n        /* 1.3.5 */\n        undo: true, // \n        redo: true, // \n        trash: true, // \n        /* 1.4.2 */\n        // navigation: true, // \n        /* 2.1.8 */\n        alignleft: true, // \n        aligncenter: true, // \n        alignright: true, // \n        /* 2.2.1 */\n        subfield: true, // \n      };\n    },\n\n  },\n  created() {\n    this.$meta.module.use('a-mavoneditor', module => {\n      this.module = module;\n    });\n    this.loadComment(this.commentId);\n    this.loadReply(this.replyId);\n  },\n  methods: {\n    loadComment(commentId) {\n      if (!commentId) return;\n      this.$api.post('comment/item', {\n        key: { atomId: this.atomId },\n        data: { commentId },\n      }).then(data => {\n        this.comment = data;\n        this.content = this.comment.content;\n      });\n    },\n    loadReply(replyId) {\n      if (!replyId) return;\n      this.$api.post('comment/item', {\n        key: { atomId: this.atomId },\n        data: { commentId: replyId },\n      }).then(data => {\n        this.reply = data;\n      });\n    },\n    onChange(data) {\n      this.content = data;\n    },\n    onSave() {\n      this.onPerformSave();\n    },\n    onPerformSave() {\n      if (!this.content) return;\n      return this.$api.post('/a/base/comment/save', {\n        key: { atomId: this.atomId },\n        data: {\n          commentId: this.commentId,\n          replyId: this.replyId,\n          content: this.content,\n        },\n      }).then(data => {\n        this.$meta.eventHub.$emit('comment:action', data);\n        const returnTo = this.$f7route.query.returnTo;\n        if (returnTo) {\n          location.assign(returnTo);\n        } else {\n          this.$f7router.back();\n        }\n      });\n    },\n    onImageUpload() {\n      return new Promise((resolve, reject) => {\n        this.$view.navigate('/a/file/file/upload', {\n          context: {\n            params: {\n              mode: 1,\n              atomId: this.atomId,\n              flag: 'comment',\n            },\n            callback: (code, data) => {\n              if (code === 200) {\n                resolve({ text: data.realName, addr: data.downloadUrl });\n              }\n              if (code === false) {\n                reject();\n              }\n            },\n          },\n        });\n      });\n    },\n    onPreRender(value) {\n      if (this.comment) {\n        return this.fullContent({\n          content: value,\n          replyContent: this.comment.replyContent,\n          replyUserName: this.comment.replyUserName,\n        });\n      }\n      if (this.reply) {\n        // replyContent\n        const replyContent = this.fullContent({\n          content: this.reply.content,\n          replyContent: this.reply.replyContent,\n          replyUserName: this.reply.replyUserName,\n        });\n        return this.fullContent({\n          content: value,\n          replyContent,\n          replyUserName: this.reply.userName,\n        });\n      }\n      return value;\n    },\n    fullContent({ content, replyContent, replyUserName }) {\n      if (!replyContent) return content;\n      return `${content}\n\n> \\`${replyUserName}\\`:\n\n::: comment-quot\n${replyContent}\n:::\n\n`;\n    },\n  },\n};\n\n</script>\n","import { render, staticRenderFns } from \"./item.vue?vue&type=template&id=d16a13c0&\"\nimport script from \"./item.vue?vue&type=script&lang=js&\"\nexport * from \"./item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',{attrs:{\"ptr\":\"\",\"infinite\":\"\",\"infinitePreloader\":false},on:{\"ptr:refresh\":_vm.onRefresh,\"infinite\":_vm.onInfinite}},[_c('eb-navbar',{attrs:{\"large\":\"\",\"largeTransparent\":\"\",\"title\":_vm.$text('Comment List'),\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[(!_vm.user.anonymous)?_c('eb-link',{attrs:{\"iconMaterial\":\"add\",\"eb-href\":(\"comment/item?atomId=\" + _vm.atomId + \"&commentId=0&replyId=0\")}}):_vm._e(),_vm._v(\" \"),_c('eb-link',{attrs:{\"iconMaterial\":_vm.order==='desc'?'arrow_downward':'arrow_upward',\"onPerform\":_vm.onPerformSort}})],1)],1),_vm._v(\" \"),(_vm.moduleStyle)?_vm._l((_vm.items),function(item){return _c('f7-card',{key:item.id,staticClass:\"comment\"},[_c('f7-card-header',[_c('div',{staticClass:\"title\"},[_c('img',{staticClass:\"avatar avatar32\",attrs:{\"src\":_vm.getItemMedia(item)}}),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.userName))]),_vm._v(\" \"),_c('div',{staticClass:\"date\"},[_vm._v(\"#\"+_vm._s(item.sorting)+\"  \"+_vm._s(_vm.$meta.util.formatDateTimeRelative(item.createdAt)))])]),_vm._v(\" \"),_c('div',{staticClass:\"actions\"},[(item.userId===_vm.user.id)?_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":\"edit\",\"eb-href\":(\"comment/item?atomId=\" + _vm.atomId + \"&commentId=\" + (item.id) + \"&replyId=0\")}}):_vm._e(),_vm._v(\" \"),(item.userId===_vm.user.id)?_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":\"delete_forever\",\"context\":item,\"onPerform\":_vm.onPerformDelete}}):_vm._e(),_vm._v(\" \"),_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":item.heart?'favorite':'favorite_border',\"context\":item,\"onPerform\":_vm.onPerformHeart}},[_vm._v(_vm._s(item.heartCount))]),_vm._v(\" \"),(!_vm.user.anonymous)?_c('eb-link',{staticClass:\"action\",attrs:{\"iconMaterial\":\"reply\",\"eb-href\":(\"comment/item?atomId=\" + _vm.atomId + \"&commentId=0&replyId=\" + (item.id))}}):_vm._e()],1)]),_vm._v(\" \"),_c('f7-card-content',{staticClass:\"markdown-body\",attrs:{\"padding\":\"\"},domProps:{\"innerHTML\":_vm._s(item.html)}})],1)}):_vm._e(),_vm._v(\" \"),_c('eb-load-more',{ref:\"loadMore\",attrs:{\"onLoadClear\":_vm.onLoadClear,\"onLoadMore\":_vm.onLoadMore,\"autoInit\":true}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","<template>\n  <eb-page ptr @ptr:refresh=\"onRefresh\" infinite :infinitePreloader=\"false\" @infinite=\"onInfinite\">\n    <eb-navbar large largeTransparent :title=\"$text('Comment List')\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link v-if=\"!user.anonymous\" iconMaterial=\"add\" :eb-href=\"`comment/item?atomId=${atomId}&commentId=0&replyId=0`\"></eb-link>\n        <eb-link :iconMaterial=\"order==='desc'?'arrow_downward':'arrow_upward'\" :onPerform=\"onPerformSort\"></eb-link>\n      </f7-nav-right>\n    </eb-navbar>\n    <template v-if=\"moduleStyle\">\n      <f7-card class=\"comment\" v-for=\"item of items\" :key=\"item.id\">\n        <f7-card-header>\n          <div class=\"title\">\n            <img class=\"avatar avatar32\" :src=\"getItemMedia(item)\">\n            <div class=\"name\">{{item.userName}}</div>\n            <div class=\"date\">#{{item.sorting}}  {{$meta.util.formatDateTimeRelative(item.createdAt)}}</div>\n          </div>\n          <div class=\"actions\">\n            <eb-link v-if=\"item.userId===user.id\" class=\"action\" iconMaterial=\"edit\" :eb-href=\"`comment/item?atomId=${atomId}&commentId=${item.id}&replyId=0`\"></eb-link>\n            <eb-link v-if=\"item.userId===user.id\" class=\"action\" iconMaterial=\"delete_forever\" :context=\"item\" :onPerform=\"onPerformDelete\"></eb-link>\n            <eb-link class=\"action\" :iconMaterial=\"item.heart?'favorite':'favorite_border'\" :context=\"item\" :onPerform=\"onPerformHeart\">{{item.heartCount}}</eb-link>\n            <eb-link v-if=\"!user.anonymous\" class=\"action\" iconMaterial=\"reply\" :eb-href=\"`comment/item?atomId=${atomId}&commentId=0&replyId=${item.id}`\"></eb-link>\n          </div>\n        </f7-card-header>\n        <f7-card-content padding class=\"markdown-body\" v-html=\"item.html\"></f7-card-content>\n      </f7-card>\n    </template>\n    <eb-load-more ref=\"loadMore\" :onLoadClear=\"onLoadClear\" :onLoadMore=\"onLoadMore\" :autoInit=\"true\"></eb-load-more>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nexport default {\n  data() {\n    return {\n      atomId: parseInt(this.$f7route.query.atomId),\n      order: 'desc',\n      items: [],\n      moduleStyle: null,\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.auth.user.op;\n    },\n  },\n  created() {\n    this.$meta.module.use(this.$meta.config.markdown.style.module, module => {\n      this.moduleStyle = module;\n    });\n  },\n  mounted() {\n    this.$meta.eventHub.$on('comment:action', this.onCommentChanged);\n  },\n  beforeDestroy() {\n    this.$meta.eventHub.$off('comment:action', this.onCommentChanged);\n  },\n  methods: {\n    onRefresh(done) {\n      done();\n      this.reload();\n    },\n    onInfinite() {\n      this.$refs.loadMore.loadMore();\n    },\n    onLoadClear(done) {\n      this.items = [];\n      done();\n    },\n    onLoadMore({ index }) {\n      // options\n      const options = {\n        orders: [\n          ['updatedAt', this.order],\n        ],\n        page: { index },\n      };\n      // fetch\n      return this.$api.post('comment/list', {\n        key: { atomId: this.atomId },\n        options,\n      }).then(data => {\n        this.items = this.items.concat(data.list);\n        return data;\n      });\n    },\n    reload() {\n      this.$refs.loadMore.reload();\n    },\n    onPerformDelete(event, item) {\n      // delete\n      return this.$view.dialog.confirm().then(() => {\n        return this.$api.post('comment/delete', {\n          key: { atomId: this.atomId },\n          data: { commentId: item.id },\n        }).then(data => {\n          this.$meta.eventHub.$emit('comment:action', data);\n          return true;\n        });\n      });\n    },\n    onPerformHeart(event, item) {\n      // anonymous\n      if (this.user.anonymous) {\n        this.$view.dialog.confirm(this.$text('Please Sign In')).then(() => {\n          // login\n          this.$meta.vueLayout.openLogin();\n        });\n        return;\n      }\n      //\n      return this.$api.post('comment/heart', {\n        key: { atomId: this.atomId },\n        data: { commentId: item.id, heart: item.heart ? 0 : 1 },\n      }).then(data => {\n        this.$meta.eventHub.$emit('comment:action', data);\n      });\n    },\n    onCommentChanged(data) {\n      const action = data.action;\n      const atomId = data.atomId;\n      const commentId = data.commentId;\n      // check\n      if (atomId !== this.atomId) return;\n      // create\n      if (action === 'create') {\n        this.reload();\n        return;\n      }\n      // delete\n      const index = this.items.findIndex(item => item.id === commentId);\n      if (action === 'delete') {\n        if (index !== -1) {\n          this.items.splice(index, 1);\n        }\n        return;\n      }\n      // others\n      if (index !== -1) {\n        this.$api.post('comment/item', {\n          key: { atomId: this.atomId },\n          data: { commentId },\n        }).then(data => {\n          Vue.set(this.items, index, data);\n        });\n      }\n    },\n    onPerformSort() {\n      this.order = this.order === 'desc' ? 'asc' : 'desc';\n      this.reload();\n    },\n    getItemMedia(item) {\n      const media = item.avatar || this.$meta.config.modules['a-base'].user.avatar.default;\n      return this.$meta.util.combineImageUrl(media, 32);\n    },\n  },\n};\n\n</script>\n","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=679b9691&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',{attrs:{\"page-content\":false,\"tabs\":\"\",\"with-subnavbar\":\"\"}},[_c('eb-navbar',{attrs:{\"title\":_vm.pageTitle,\"eb-back-link\":\"Back\"}},[_c('f7-nav-right',[_c('eb-link',{attrs:{\"iconMaterial\":\"search\",\"eb-target\":\"_self\",\"eb-href\":\"menu/search\"}})],1),_vm._v(\" \"),(_vm.tabActive)?_c('f7-subnavbar',[_c('f7-toolbar',{attrs:{\"top\":\"\",\"tabbar\":\"\"}},_vm._l((_vm.tabs),function(tab){return _c('f7-link',{key:tab.id,attrs:{\"tabLink\":(\"#\" + (tab.id)),\"tabLinkActive\":_vm.tabActive===tab.mode}},[_vm._v(_vm._s(_vm.$text(tab.title)))])}),1)],1):_vm._e()],1),_vm._v(\" \"),(_vm.tabActive)?_c('f7-tabs',_vm._l((_vm.tabs),function(tab){return _c('eb-tab-page-content',{key:tab.id,attrs:{\"id\":tab.id,\"tabActive\":_vm.tabActive===tab.mode},on:{\"tab:show\":function($event){return _vm.onTabShow(tab.mode)}}},[_c('menus',{attrs:{\"slot\":\"list\",\"mode\":tab.mode},slot:\"list\"})],1)}),1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","<template>\n  <eb-page :page-content=\"false\" tabs with-subnavbar>\n    <eb-navbar :title=\"pageTitle\" eb-back-link=\"Back\">\n      <f7-nav-right>\n        <eb-link iconMaterial=\"search\" eb-target=\"_self\" eb-href=\"menu/search\"></eb-link>\n      </f7-nav-right>\n      <f7-subnavbar v-if=\"tabActive\">\n        <f7-toolbar top tabbar>\n          <f7-link v-for=\"tab of tabs\" :key=\"tab.id\" :tabLink=\"`#${tab.id}`\" :tabLinkActive=\"tabActive===tab.mode\">{{$text(tab.title)}}</f7-link>\n        </f7-toolbar>\n      </f7-subnavbar>\n    </eb-navbar>\n    <f7-tabs v-if=\"tabActive\">\n      <eb-tab-page-content v-for=\"tab of tabs\" :key=\"tab.id\" :id=\"tab.id\" :tabActive=\"tabActive===tab.mode\" @tab:show=\"onTabShow(tab.mode)\">\n        <menus slot=\"list\" :mode=\"tab.mode\"></menus>\n      </eb-tab-page-content>\n    </f7-tabs>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nimport menus from '../../components/menu/list.vue';\nexport default {\n  meta: {\n    size: 'medium',\n  },\n  components: {\n    menus,\n  },\n  data() {\n    const tabs = [\n      { id: Vue.prototype.$meta.util.nextId('tab'), mode: 'scenes', title: 'Scenes' },\n      { id: Vue.prototype.$meta.util.nextId('tab'), mode: 'modules', title: 'Modules' },\n      { id: Vue.prototype.$meta.util.nextId('tab'), mode: 'stars', title: 'Stars' },\n    ];\n    return {\n      pageTitle: null,\n      tabs,\n      tabActive: '',\n    };\n  },\n  created() {\n    // tab active\n    this.__initTabActive();\n  },\n  mounted() {\n    // title\n    this.__initPageTitle();\n  },\n  methods: {\n    __initPageTitle() {\n      const $el = this.$$(this.$el);\n      const $view = $el.parents('.eb-layout-view');\n      if ($view.is('.eb-layout-panel-view')) {\n        this.pageTitle = this.$text('Menu');\n      } else {\n        this.pageTitle = this.$text('Home');\n      }\n    },\n    __initTabActive() {\n      // layoutConfig\n      this.$store.dispatch('a/base/getLayoutConfig', 'a-base').then(layoutConfig => {\n        this.tabActive = layoutConfig.menuTabActive || this.tabs[0].mode;\n      });\n    },\n    onTabShow(tabMode) {\n      if (this.tabActive !== tabMode) {\n        this.tabActive = tabMode;\n        // save\n        this.$store.commit('a/base/setLayoutConfigKey', { module: 'a-base', key: 'menuTabActive', value: this.tabActive });\n      }\n    },\n  },\n};\n\n</script>\n","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=b33f3b2c&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-search-page',{attrs:{\"title\":_vm.$text('Search Menu')},on:{\"search\":_vm.onSearch,\"loadMore\":_vm.onLoadMore,\"disable\":_vm.onDisable}},[_c('menus',{ref:\"list\",attrs:{\"mode\":\"search\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","<template>\n  <eb-search-page :title=\"$text('Search Menu')\" @search=\"onSearch\" @loadMore=\"onLoadMore\" @disable=\"onDisable\">\n    <menus ref=\"list\" mode=\"search\"></menus>\n  </eb-search-page>\n</template>\n<script>\nimport menus from '../../components/menu/list.vue';\nexport default {\n  components: {\n    menus,\n  },\n  methods: {\n    onSearch(query) {\n      this.$refs.list.onSearch(query);\n    },\n    onLoadMore() {\n      this.$refs.list.loadMore();\n    },\n    onDisable() {\n      this.$f7router.back();\n    },\n  },\n};\n\n</script>\n","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=0f7936a3&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('eb-page',[_c('eb-navbar',{attrs:{\"large\":\"\",\"largeTransparent\":\"\",\"title\":_vm.pageTitle,\"eb-back-link\":\"Back\"}}),_vm._v(\" \"),_c('f7-list',_vm._l((_vm.functions),function(item,index){return _c('f7-list-item',{key:index,attrs:{\"radio\":\"\",\"checked\":_vm.name===item.name,\"title\":item.title},on:{\"click\":function($event){return _vm.onItemClick(item)}}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <eb-page>\n    <eb-navbar large largeTransparent :title=\"pageTitle\" eb-back-link=\"Back\"></eb-navbar>\n    <f7-list>\n      <f7-list-item v-for=\"(item,index) of functions\" :key=\"index\" radio :checked=\"name===item.name\" :title=\"item.title\" @click=\"onItemClick(item)\">\n      </f7-list-item>\n    </f7-list>\n  </eb-page>\n</template>\n<script>\nimport Vue from 'vue';\nconst ebPageContext = Vue.prototype.$meta.module.get('a-components').options.mixins.ebPageContext;\nconst _types = ['Function', 'Menu', 'Panel', 'Widget'];\nexport default {\n  mixins: [ebPageContext],\n  data() {\n    return {};\n  },\n  computed: {\n    pageTitle() {\n      return this.$text(`Select ${_types[this.menu]}`);\n    },\n    module() {\n      return this.contextParams.module;\n    },\n    name() {\n      return this.contextParams.name;\n    },\n    menu() {\n      return this.contextParams.menu;\n    },\n    optional() {\n      return this.contextParams.optional;\n    },\n    functions() {\n      const functionsAll = this.$local.state.functions;\n      if (!functionsAll) return [];\n\n      const functions = [];\n      if (this.optional) {\n        functions.push({ title: null, name: null });\n      }\n      for (const name in functionsAll[this.module]) {\n        const func = functionsAll[this.module][name];\n        if (func.menu === this.menu) {\n          functions.push({\n            title: func.titleLocale,\n            name,\n          });\n        }\n      }\n      return functions;\n    },\n  },\n  created() {\n    this.$local.dispatch('getFunctions');\n  },\n  methods: {\n    onItemClick(item) {\n      const data = item.name ? {\n        module: this.module,\n        name: item.name,\n        title: item.title,\n      } : null;\n      this.contextCallback(200, data);\n      this.$f7router.back();\n    },\n  },\n};\n\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectFunction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectFunction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./selectFunction.vue?vue&type=template&id=200f075f&\"\nimport script from \"./selectFunction.vue?vue&type=script&lang=js&\"\nexport * from \"./selectFunction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  meta: {\n    global: false,\n  },\n  methods: {\n    onAction({ ctx, action, item }) {\n      if (action.name === 'create' || action.action === 'create') {\n        return this._onActionCreate({ ctx, action, item });\n      } else if (action.name === 'delete') {\n        // delete\n        const key = { atomId: item.atomId, itemId: item.itemId };\n        return ctx.$view.dialog.confirm().then(() => {\n          return ctx.$api.post('/a/base/atom/delete', {\n            key,\n          }).then(() => {\n            ctx.$meta.eventHub.$emit('atom:action', { key, action });\n            return true;\n          });\n        });\n      } else if (action.name === 'save') {\n        // save\n        const key = { atomId: item.atomId, itemId: item.itemId };\n        return ctx.$api.post('/a/base/atom/write', {\n          key,\n          item,\n        }).then(() => {\n          ctx.$meta.eventHub.$emit('atom:action', { key, action });\n        });\n      } else if (action.name === 'submit') {\n        // submit\n        const key = { atomId: item.atomId, itemId: item.itemId };\n        return ctx.$view.dialog.confirm().then(() => {\n          return ctx.$api.post('/a/base/atom/writeSubmit', {\n            key,\n            item,\n          }).then(() => {\n            ctx.$meta.eventHub.$emit('atom:action', { key, action });\n          });\n        });\n      }\n      // others\n      const key = { atomId: item.atomId, itemId: item.itemId };\n      return ctx.$view.dialog.confirm().then(() => {\n        return ctx.$api.post('/a/base/atom/action', {\n          action: action.code,\n          key,\n        }).then(() => {\n          ctx.$meta.eventHub.$emit('atom:action', { key, action });\n          return true;\n        });\n      });\n\n    },\n    _onActionCreate({ ctx, action, item }) {\n      // get roleIdOwner\n      return this._onActionCreateGetRoleIdOwner({ ctx, action, item }).then(roleIdOwner => {\n        if (!roleIdOwner) return;\n        // create\n        return ctx.$api.post('/a/base/atom/create', {\n          atomClass: {\n            id: item.atomClassId,\n            module: item.module,\n            atomClassName: item.atomClassName,\n          },\n          roleIdOwner,\n          item,\n        }).then(key => {\n          // event\n          ctx.$meta.eventHub.$emit('atom:action', { key, action });\n          // menu\n          if (action.menu === 1 || (action.actionComponent || action.actionPath)) {\n            item = ctx.$utils.extend({}, item, key);\n            // write\n            return ctx.$store.dispatch('a/base/getActions').then(actionsAll => {\n              let actionWrite = actionsAll[item.module][item.atomClassName].write;\n              actionWrite = ctx.$utils.extend({}, actionWrite);\n              return ctx.$meta.util.performAction({ ctx, action: actionWrite, item });\n            });\n          }\n          // just return key\n          return key;\n        });\n      });\n    },\n    _onActionCreateGetAtomClassId({ ctx, action, item }) {\n      if (item.atomClassId) return Promise.resolve(item.atomClassId);\n      return ctx.$api.post('/a/base/atomClass/atomClass', {\n        atomClass: {\n          module: item.module,\n          atomClassName: item.atomClassName,\n        },\n      }).then(atomClass => {\n        return atomClass.id;\n      });\n    },\n    _onActionCreateGetRoleIdOwner({ ctx, action, item }) {\n      return this._onActionCreateGetAtomClassId({ ctx, action, item }).then(atomClassId => {\n        // check cache from vuex\n        const userAtomClassRolesPreferred = ctx.$store.getState('a/base/userAtomClassRolesPreferred');\n        if (userAtomClassRolesPreferred[atomClassId]) return userAtomClassRolesPreferred[atomClassId];\n        // get preferred roles\n        return ctx.$api.post('/a/base/atom/preferredRoles', {\n          atomClass: { id: atomClassId },\n        }).then(roles => {\n          if (roles.length === 0) return Promise.reject(new Error('Error'));\n          if (roles.length === 1) {\n            const roleIdOwner = roles[0].roleIdWho;\n            ctx.$store.commit('a/base/setUserAtomClassRolesPreferred', { atomClassId, roleIdOwner });\n            return roleIdOwner;\n          }\n          return this._onActionCreateSelectPreferredRole({ ctx, action, roles }).then(roleIdOwner => {\n            if (roleIdOwner) {\n              ctx.$store.commit('a/base/setUserAtomClassRolesPreferred', { atomClassId, roleIdOwner });\n            }\n            return roleIdOwner;\n          });\n        });\n      });\n    },\n    _onActionCreateSelectPreferredRole({ ctx, action, roles }) {\n      return new Promise(resolve => {\n        const hostEl = ctx.$view.getHostEl();\n        const targetEl = action.targetEl;\n        const buttons = [{\n          text: ctx.$text('AtomClassSelectRoleTip'),\n          label: true,\n        }];\n        let resolved = false;\n        function onButtonClick(roleIdOwner) {\n          resolved = true;\n          resolve(roleIdOwner);\n        }\n        for (const role of roles) {\n          buttons.push({\n            text: role.roleNameWho,\n            onClick: () => {\n              onButtonClick(role.roleIdWho);\n            },\n          });\n        }\n        const actions = ctx.$f7.actions.create({ hostEl, buttons, targetEl });\n        function onActionsClosed() {\n          actions.destroy();\n          if (!resolved) {\n            resolved = true;\n            resolve();\n          }\n        }\n        actions.open()\n          .once('actionsClosed', onActionsClosed)\n          .once('popoverClosed', onActionsClosed);\n      });\n    },\n  },\n};\n","import menus from './components/menu/list.vue';\nimport atoms from './components/atom/listLayoutManager.jsx';\nimport item from './components/atom/item.vue';\nimport action from './components/atom/action.js';\n\nexport default {\n  menus,\n  item,\n  action,\n  ebAtoms: atoms,\n};\n","import atomClasses from './common/atomClasses.js';\nimport atomActions from './common/atomActions.js';\nimport modules from './common/modules.js';\nimport ebMenus from './common/menus.js';\nimport ebFunctions from './common/functions.js';\nimport listLayoutManager from './common/listLayoutManager.jsx';\n\nexport default {\n  ebAtomClasses: atomClasses,\n  ebAtomActions: atomActions,\n  ebModules: modules,\n  ebMenus,\n  ebFunctions,\n  listLayoutManager,\n};\n","export default {\n  computed: {\n    functionsAll() {\n      return this.$store.getState('a/base/functions');\n    },\n  },\n  methods: {\n    getFunction(func) {\n      if (!this.functionsAll || !func) return null;\n      return this.functionsAll[func.module][func.name];\n    },\n    getFunctionTitle(func) {\n      const _func = this.getFunction(func);\n      return _func ? _func.titleLocale : null;\n    },\n  },\n  created() {\n    this.$store.dispatch('a/base/getFunctions');\n  },\n};\n\n"],"sourceRoot":""}